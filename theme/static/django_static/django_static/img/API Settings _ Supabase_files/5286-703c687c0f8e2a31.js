"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5286],{34465:function(e,t,r){var n=r(84364),s=r(47314),a=r(49239),i=r(76610),o=r(20796),c=r(24246);t.Z=function(e){var t=e.language,r=e.releaseState,l=e.officialSupport,u=e.docsUrl,d=e.gitUrl;return(0,c.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,c.jsx)("img",{src:"".concat(o.GW,"/img/libraries/").concat(t.toLowerCase(),"-icon.svg"),alt:"".concat(t," logo"),width:"21"}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("h5",{className:"flex items-center gap-2 text-base text-scale-1200",children:[t," ",r&&(0,c.jsx)(n.Z,{color:"yellow",children:"Public ".concat(r)})]}),(0,c.jsx)("p",{className:"text-sm text-scale-1000",children:l?"This library is officially supported":"This library is community supported"})]}),(0,c.jsxs)("div",{className:"space-x-1",children:[u&&(0,c.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:(0,c.jsx)(s.z,{icon:(0,c.jsx)(a.Z,{}),type:"default",children:"Docs"})}),(0,c.jsx)("a",{href:d,target:"_blank",rel:"noreferrer",children:(0,c.jsx)(s.z,{icon:(0,c.jsx)(i.Z,{}),type:"default",children:"See GitHub"})})]})]})]})}},65512:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(27378),s=r(24246),a=n.createContext({isDarkMode:!0,toggleTheme:function(){}}),i=r(47939),o=r(79894),c=r.n(o),l=r(20796),u=function(e){var t=e.framework,r=e.title,o=e.description,u=e.url,d=n.useContext(a).isDarkMode;return(0,s.jsx)(c(),{href:u,children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,s.jsxs)("div",{className:["group relative","border bg-panel-header-light  hover:bg-panel-border-light dark:bg-panel-header-dark dark:hover:bg-panel-border-dark","border-panel-border-light hover:border-panel-border-hover-light  dark:border-panel-border-dark","flex h-32 flex-row rounded-md p-4 hover:border-gray-300 dark:hover:border-panel-border-hover-dark","transition duration-150 ease-in-out"].join(" "),children:[(0,s.jsx)("div",{className:"mr-4 flex flex-col",children:(0,s.jsx)("img",{className:"transition-all group-hover:scale-110",src:"".concat(l.GW,"/img/libraries/").concat(t.toLowerCase()).concat(["expo","nextjs"].includes(t.toLowerCase())&&d?"-dark":"","-icon.svg"),alt:"".concat(t," logo"),width:26,height:26})}),(0,s.jsxs)("div",{className:"w-4/5 space-y-2",children:[(0,s.jsx)("h5",{className:"text-scale-1200",children:r}),(0,s.jsx)("p",{className:"text-sm text-scale-1000",children:o})]}),(0,s.jsx)("div",{className:" absolute right-4 top-3 text-scale-900 transition-all  duration-200  group-hover:right-3 group-hover:text-scale-1200 ",children:(0,s.jsx)(i.Z,{})})]})})})}},95925:function(e,t,r){r.d(t,{B:function(){return s},l:function(){return n}});var n=[{language:"JavaScript",officialSupport:!0,releaseState:void 0,docsUrl:"https://supabase.com/docs/reference/javascript/installing",gitUrl:"https://github.com/supabase/supabase-js"},{language:"Python",officialSupport:!1,releaseState:"Alpha",docsUrl:"https://supabase.com/docs/reference/python/introduction",gitUrl:"https://github.com/supabase/supabase-py"},{language:"Flutter",officialSupport:!0,releaseState:void 0,docsUrl:"https://supabase.com/docs/reference/dart/installing",gitUrl:"https://github.com/supabase/supabase-flutter"}],s=[{framework:"Svelte",title:"Svelte kanban board",description:"A Trello clone using Supabase as the storage system.",url:"https://github.com/joshnuss/supabase-kanban"},{framework:"NextJS",title:"Next.js Realtime chat app",description:"Next.js Slack clone app using Supabase realtime subscriptions",url:"https://github.com/supabase/supabase/tree/master/examples/slack-clone/nextjs-slack-clone"},{framework:"NextJS",title:"Next.js Subscription and Auth",description:"The all-in-one starter kit for high-performance SaaS applications.",url:"https://github.com/vercel/nextjs-subscription-payments"},{framework:"Expo",title:"Expo Starter",description:"Template bottom tabs with auth flow (Typescript)",url:"https://github.com/codingki/react-native-expo-template/tree/master/template-typescript-bottom-tabs-supabase-auth-flow"},{framework:"NestJS",title:"NestJS example",description:"NestJS example using Supabase Auth",url:"https://github.com/hiro1107/nestjs-supabase-auth"},{framework:"React",title:"React realtime chat app",description:"Example app of real-time chat using supabase realtime api",url:"https://github.com/shwosner/realtime-chat-supabase-react"},{framework:"JavaScript",title:"Vanilla-js Auth app",description:"Example app of real-time chat using supabase realtime api",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/auth/javascript-auth"},{framework:"React",title:"React Native todo list app",description:"React Native Todo List example with Expo",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/todo-list/expo-todo-list"},{framework:"NextJS",title:"Next.js todo list app",description:"NextJS todo list example",url:"https://github.com/supabase/supabase/tree/master/examples/todo-list/nextjs-todo-list"},{framework:"React",title:"React todo List app",description:"React todo List example",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/todo-list/react-todo-list"},{framework:"Svelte",title:"Svelte todo list app",description:"Sveltejs todo with TailwindCSS and Snowpack",url:"https://github.com/supabase/supabase/tree/master/examples/todo-list/sveltejs-todo-list"},{framework:"VueJS",title:"Vue.js todo list app",description:"Vue.js todo app using TypeScript",url:"https://github.com/supabase/examples/tree/main/supabase-js-v1/todo-list/vue3-ts-todo-list"}]},38420:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(2674),s=r(47314),a=r(43881),i=r(11597),o=r(11246),c=r(27378),l=r(22648),u=r.n(l),d=r(4158),p=r(21063),m=r(86673),f=r(47939),h=r(30844),x=r(58643),v=r(90849),g=r(24246);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t=e.type,r=e.time,n=e.setTime,s=e.setStartTime,i=e.setEndTime,o=e.startTime,l=e.endTime,u=e.startDate,d=e.endDate,p=(0,c.useState)(!1),m=p[0],f=p[1];function h(){var e=r;1===e.HH.length&&(e.HH="0"+e.HH),1===e.mm.length&&(e.mm="0"+e.mm),1===e.ss.length&&(e.ss="0"+e.ss),e.HH||(e.HH="00"),e.mm||(e.mm="00"),e.ss||(e.ss="00");var a=!1,c=l,p=!1,m=o;(0,x.Z)(new Date(u),"dd/mm/yyyy")==(0,x.Z)(new Date(d),"dd/mm/yyyy")&&("start"===t&&(e.HH&&Number(e.HH)>Number(l.HH)&&(c.HH=e.HH,a=!0),e.HH&&Number(e.HH)>=Number(l.HH)&&e.mm&&Number(e.mm)>Number(l.mm)&&(c.mm=e.mm,a=!0),e.HH&&Number(e.HH)>=Number(l.HH)&&e.mm&&Number(e.mm)>=Number(l.mm)&&e.ss&&Number(e.ss)>Number(l.ss)&&(c.ss=e.ss,a=!0)),"end"===t&&(e.HH&&Number(e.HH)<Number(o.HH)&&(m.HH=e.HH,p=!0),e.HH&&Number(e.HH)<=Number(o.HH)&&e.mm&&Number(e.mm)<Number(o.mm)&&(m.mm=e.mm,p=!0),e.HH&&Number(e.HH)<=Number(o.HH)&&e.mm&&Number(e.mm)<=Number(o.mm)&&e.ss&&Number(e.ss)<Number(o.ss)&&(m.ss=e.ss,p=!0))),n(b({},e)),a&&i(b({},c)),p&&s(b({},m)),f(!1)}function v(e,t){var s={HH:r.HH,mm:r.mm,ss:r.ss};if(!(e.length>2)){switch(t){case"HH":if(e&&Number(e)>23)return;break;case"mm":case"ss":if(e&&Number(e)>59)return}s[t]=e,n(b({},s))}}var j=function(e){e.target.select(),f(!0)};return(0,c.useEffect)((function(){h()}),[u,d]),(0,g.jsxs)("div",{className:"\n        flex h-7 items-center justify-center\n        gap-0 rounded border border-scale-700 bg-scale-100 text-xs text-scale-1100 dark:bg-scaleA-300\n        ".concat(m&&" border-scale-800 outline outline-2 outline-scale-500","\n    "),children:[(0,g.jsx)("div",{className:"mr-1 text-scale-900",children:(0,g.jsx)(a.Z,{size:14,strokeWidth:1.5})}),(0,g.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:j,pattern:"[0-23]*",placeholder:"00",onChange:function(e){return v(e.target.value,"HH")},"aria-label":"Hours",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-scale-1200 outline-none ring-0 focus:ring-0 ",value:r.HH}),(0,g.jsx)("span",{className:"text-scale-900",children:":"}),(0,g.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:j,pattern:"[0-12]*",placeholder:"00",onChange:function(e){return v(e.target.value,"mm")},"aria-label":"Minutes",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-scale-1200 outline-none ring-0 focus:ring-0 ",value:r.mm}),(0,g.jsx)("span",{className:"text-scale-900",children:":"}),(0,g.jsx)("input",{type:"text",onBlur:function(){return h()},onFocus:j,pattern:"[0-59]*",placeholder:"00",onChange:function(e){return v(e.target.value,"ss")},"aria-label":"Seconds",className:" ring-none w-4 border-none bg-transparent p-0 text-center text-xs text-scale-1200 outline-none ring-0 focus:ring-0 ",value:r.ss})]})},w=r(27693),O=r.n(w),N=new Date,k=new Date,P={HH:"00",mm:"00",ss:"00"},S={HH:"23",mm:"59",ss:"59"};var _=function(e){var t=e.to,r=e.from,n=e.onChange,a=e.triggerButtonType,i=void 0===a?"default":a,l=e.triggerButtonClassName,v=void 0===l?"":l,j=e.triggerButtonTitle,b=e.renderFooter,w=void 0===b?function(){return null}:b,_=(0,c.useState)(!1),Z=_[0],C=_[1],E=(0,c.useState)(null),I=E[0],D=E[1],R=(0,c.useState)(null),T=R[0],A=R[1],z=(0,c.useState)(N),L=z[0],F=z[1],M=(0,c.useState)(k),U=M[0],q=M[1],B=(0,c.useState)(P),H=B[0],W=B[1],G=(0,c.useState)(S),Y=G[0],V=G[1];return(0,c.useEffect)((function(){if(r){if(r!==(null===I||void 0===I?void 0:I.toISOString())){var e=O()(r).toDate();D(e),F(e)}}else D(null);if(t){if(t!==(null===T||void 0===T?void 0:T.toISOString())){var n=O()(t).toDate();A(n),q(n)}}else A(null)}),[t,r]),(0,g.jsx)(d.Z,{open:Z,onOpenChange:function(e){return C(e)},size:"small",align:"center",side:"bottom",header:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"flex items-stretch justify-between py-2",children:[(0,g.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,g.jsx)(y,{type:"start",startTime:H,endTime:Y,time:H,setTime:W,setStartTime:W,setEndTime:V,startDate:L,endDate:U})}),(0,g.jsx)("div",{className:"\n                      flex \n                      w-12 \n                      items-center \n                      justify-center\n                      text-scale-900\n                    ",children:(0,g.jsx)(p.Z,{strokeWidth:1.5,size:14})}),(0,g.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,g.jsx)(y,{type:"end",startTime:H,endTime:Y,time:Y,setTime:V,setStartTime:W,setEndTime:V,startDate:L,endDate:U})})]})}),overlay:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"px-3 py-4",children:(0,g.jsx)(u(),{selected:L,onChange:function(e){!function(e){var t=(0,o.Z)(e,2),r=t[0],n=t[1];F(r),q(n)}(e)},dateFormat:"MMMM d, yyyy h:mm aa",startDate:L,endDate:U,selectsRange:!0,inline:!0,dayClassName:function(){return"cursor-pointer"},renderCustomHeader:function(e){var t=e.date,r=e.decreaseMonth,n=e.increaseMonth,s=e.prevMonthButtonDisabled,a=e.nextMonthButtonDisabled;return(0,g.jsx)("div",{className:"flex items-center justify-between px-2 py-2",children:(0,g.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,g.jsx)("button",{onClick:r,disabled:s,type:"button",className:"\n                        ".concat(s&&"cursor-not-allowed opacity-50","\n                        text-scale-1100 hover:text-scale-1200 focus:outline-none\n                    "),children:(0,g.jsx)(m.Z,{size:16,strokeWidth:2})}),(0,g.jsx)("span",{className:"text-sm text-scale-1100",children:(0,x.Z)(t,"MMMM yyyy")}),(0,g.jsx)("button",{onClick:n,disabled:a,type:"button",className:"\n                        ".concat(a&&"cursor-not-allowed opacity-50","\n                        text-scale-1100 hover:text-scale-1200 focus:outline-none\n                    "),children:(0,g.jsx)(f.Z,{size:16,strokeWidth:2})})]})})}})}),w({from:(null===L||void 0===L?void 0:L.toISOString())||null,to:(null===U||void 0===U?void 0:U.toISOString())||null}),(0,g.jsx)(d.Z.Separator,{}),(0,g.jsxs)("div",{className:"flex items-center justify-end gap-2 py-2 px-3 pb-4",children:[(0,g.jsx)(s.z,{type:"default",onClick:function(){return C(!1),F(N),q(k),W(P),V(S),D(null),void A(null)},children:"Clear"}),(0,g.jsx)(s.z,{onClick:function(){return function(){C(!1),D(L),A(U);var e={from:O().utc(L).second(H.ss).minute(H.mm).hour(H.HH).toISOString(),to:O().utc(U||L).second(Y.ss).minute(Y.mm).hour(Y.HH).toISOString()};n&&n(e)}()},children:"Apply"})]})]}),children:(0,g.jsx)(s.z,{title:j,type:i,as:"span",icon:(0,g.jsx)(h.Z,{}),className:v,children:I&&T&&I!==T?(0,g.jsxs)(g.Fragment,{children:[(0,x.Z)(new Date(I),"dd MMM")," -"," ",(0,x.Z)(new Date(T),"dd MMM")]}):I||T?(0,x.Z)(new Date(I||T),"dd MMM"):"Custom"})})},Z=r(99099),C=function(e){var t=e.to,r=e.from,o=e.onChange,l=e.helpers,u=(0,Z.PJ)(l),d=(0,c.useState)(t||r?"":u.text),p=d[0],m=d[1],f=l.find((function(e){return t===e.calcTo()&&r===e.calcFrom()}));return(0,c.useEffect)((function(){f&&p!==f.text?m(f.text):f||!t&&!r||m("")}),[f,t,r]),(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(n.ZP,{size:"small",side:"bottom",align:"start",overlay:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(n.ZP.RadioGroup,{onChange:function(e){var t=l.find((function(t){return t.text===e}));o&&t&&o({to:t.calcTo(),from:t.calcFrom()})},value:(null===f||void 0===f?void 0:f.text)||"",children:l.map((function(e){return(0,g.jsx)(n.ZP.Radio,{value:e.text,disabled:e.disabled,children:(0,g.jsx)("span",{className:[e.disabled?"text-scale-1000 cursor-not-allowed":""].join(" "),children:e.text})},e.text)}))})}),children:(0,g.jsx)(s.z,{as:"span",type:p?"secondary":"default",icon:(0,g.jsx)(a.Z,{size:12}),className:"rounded-r-none",children:(null===f||void 0===f?void 0:f.text)||u.text})}),(0,g.jsx)(_,{triggerButtonClassName:"rounded-l-none",triggerButtonType:f?"default":"secondary",triggerButtonTitle:"Custom",onChange:function(e){m(""),o&&o(e)},to:p?void 0:t,from:p?void 0:r,renderFooter:function(e){var t=e.to,r=e.from;if(t&&r&&Math.abs(O()(r).diff(O()(t),"day"))>Z.$K)return(0,g.jsx)(i.Z,{title:"",variant:"warning",className:"mx-3 pl-2 pr-2 pt-1 pb-2",children:"Large ranges may result in memory errors for big projects."})}})]})}},90567:function(e,t,r){var n=r(24246);t.Z=function(e){var t=e.children;return(0,n.jsx)("pre",{className:"text-scale-1200 text-sm break-words py-4 px-3 w-full",children:t})}},76873:function(e,t,r){r.d(t,{$K:function(){return m},Eh:function(){return x},GT:function(){return j},PJ:function(){return N},Qp:function(){return P},U_:function(){return d},W:function(){return y},ae:function(){return v},bj:function(){return w},dl:function(){return b},fg:function(){return k},n7:function(){return p},tZ:function(){return g},up:function(){return O},xN:function(){return f}});var n,s=r(90849),a=r(27693),i=r.n(a),o=r(20796),c=r(27061);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d,p="https://supabase.com/docs/guides/platform/logs#querying-with-the-logs-explorer",m=4,f=[{label:"Recent Errors",mode:"simple",searchString:"[Ee]rror|\\s[45][0-9][0-9]\\s",for:["api"]},{label:"Commits",mode:"simple",searchString:"COMMIT",for:["database"]},{label:"Commits By User",description:"Count of commits made by users on the database",mode:"custom",searchString:"select\n  p.user_name,\n  count(*) as count\nfrom postgres_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.parsed) as p on true\nwhere\n  regexp_contains(event_message, 'COMMIT')\ngroup by\n  p.user_name\n  ",for:["database"]},{label:"Metadata IP",description:"List all IP addresses that used the Supabase API",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  h.x_real_ip\nfrom edge_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.request) as r on true\n  left join unnest(r.headers) as h on true\nwhere h.x_real_ip is not null\n",for:["api"]},{label:"Requests by Country",description:"List all ISO 3166-1 alpha-2 country codes that used the Supabase API",mode:"custom",searchString:"select\n  cf.country,\n  count(*) as count\nfrom edge_logs\n  left join unnest(metadata) as m on true\n  left join unnest(m.request) as r on true\n  left join unnest(r.cf) as cf on true\ngroup by\n  cf.country\norder by\n  count desc\n",for:["api"]},{label:"Slow Response Time",mode:"custom",description:"List all Supabase API requests that are slow",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message,\n  r.origin_time\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.response) as r\nwhere\n  r.origin_time > 1000\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"500 Request Codes",description:"List all Supabase API requests that responded witha 5XX status code",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message,\n  r.status_code\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.response) as r\nwhere\n  r.status_code >= 500\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"Top Paths",description:"List the most requested Supabase API paths",mode:"custom",searchString:"select\n  r.path as path,\n  r.search as params,\n  count(timestamp) as c\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) as r\ngroup by\n  path,\n  params\norder by\n  c desc\nlimit 100\n",for:["api"]},{label:"REST Requests",description:"List all PostgREST requests",mode:"custom",searchString:"select\n  cast(timestamp as datetime) as timestamp,\n  event_message\nfrom edge_logs\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) as r\nwhere\n  path like '%rest/v1%'\norder by\n  timestamp desc\nlimit 100\n",for:["api"]},{label:"Errors",description:"List all Postgres error messages with ERROR, FATAL, or PANIC severity",mode:"custom",searchString:"select\n  cast(t.timestamp as datetime) as timestamp,\n  p.error_severity,\n  event_message\nfrom postgres_logs as t\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as p\nwhere\n  p.error_severity in ('ERROR', 'FATAL', 'PANIC')\norder by\n  timestamp desc\nlimit 100\n",for:["database"]},{label:"Error Count by User",description:"Count of errors by users",mode:"custom",searchString:"select\n  count(t.timestamp) as count,\n  p.user_name,\n  p.error_severity\nfrom postgres_logs as t\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as p\nwhere\n  p.error_severity in ('ERROR', 'FATAL', 'PANIC')\ngroup by\n  p.user_name,\n  p.error_severity\norder by\n  count desc\nlimit 100\n",for:["database"]},{label:"Auth Endpoint Events",description:"Endpoint events filtered by path",mode:"custom",searchString:'select\n  t.timestamp,\n  event_message\nfrom auth_logs as t\nwhere\n  regexp_contains(event_message,"level.{3}(info|warning||error|fatal)")\n  -- and regexp_contains(event_message,"path.{3}(/token|/recover|/signup|/otp)")\nlimit 100\n',for:["database"]},{label:"Storage Object Requests",description:"Number of requests done on Storage Objects",mode:"custom",searchString:"select\n    r.method as http_verb,\n    r.path as filepath,\n    count(*) as num_requests\n  from edge_logs\n    cross join unnest(metadata) as m\n    cross join unnest(m.request) AS r\n    cross join unnest(r.headers) AS h\n  where\n    path like '%rest/v1/object%'\n  group by \n    r.path, r.method\n  order by\n    num_requests desc\n  limit 100\n",for:["api"]}],h={search_query:function(e){return"regexp_contains(event_message, '".concat(e,"')")}},x={postgres_logs:u(u({},h),{},{"severity.error":"parsed.error_severity in ('ERROR', 'FATAL', 'PANIC')","severity.noError":"parsed.error_severity not in ('ERROR', 'FATAL', 'PANIC')","severity.log":"parsed.error_severity = 'LOG'"}),edge_logs:u(u({},h),{},{"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499","product.database":"request.path like '/rest/%' or request.path like '/graphql/%'","product.storage":"request.path like '/storage/%'","product.auth":"request.path like '/auth/%'","product.realtime":"request.path like '/realtime/%'","method.get":"request.method = 'GET'","method.post":"request.method = 'POST'","method.put":"request.method = 'PUT'","method.patch":"request.method = 'PATCH'","method.delete":"request.method = 'DELETE'","method.options":"request.method = 'OPTIONS'"}),function_edge_logs:u(u({},h),{},{"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499"}),function_logs:u(u({},h),{},{"severity.error":"metadata.level = 'error'","severity.notError":"metadata.level != 'error'","severity.log":"metadata.level = 'log'","severity.info":"metadata.level = 'info'","severity.debug":"metadata.level = 'debug'","severity.warn":"metadata.level = 'warn'"}),auth_logs:u(u({},h),{},{"severity.error":"metadata.level = 'error' or metadata.level = 'fatal'","severity.warning":"metadata.level = 'warning'","severity.info":"metadata.level = 'info'","status_code.server_error":"metadata.status between 500 and 599","status_code.client_error":"metadata.status between 400 and 499","status_code.redirection":"metadata.status between 300 and 399","status_code.success":"metadata.status between 200 and 299","endpoints.admin":'REGEXP_CONTAINS(metadata.path, "/admin")',"endpoints.signup":'REGEXP_CONTAINS(metadata.path, "/signup|/invite|/verify")',"endpoints.authentication":'REGEXP_CONTAINS(metadata.path, "/token|/authorize|/callback|/otp|/magiclink")',"endpoints.recover":'REGEXP_CONTAINS(metadata.path, "/recover")',"endpoints.user":'REGEXP_CONTAINS(metadata.path, "/user")',"endpoints.logout":'REGEXP_CONTAINS(metadata.path, "/logout")'}),realtime_logs:u({},h),storage_logs:u({},h),postgrest_logs:u({},h),pgbouncer_logs:u({},h)};!function(e){e.EDGE="edge_logs",e.POSTGRES="postgres_logs",e.FUNCTIONS="function_logs",e.FN_EDGE="function_edge_logs",e.AUTH="auth_logs",e.REALTIME="realtime_logs",e.STORAGE="storage_logs",e.PGBOUNCER="pgbouncer_logs",e.POSTGREST="postgrest_logs"}(d||(d={}));var v={api:d.EDGE,database:d.POSTGRES,functions:d.FUNCTIONS,fn_edge:d.FN_EDGE,auth:d.AUTH,realtime:d.REALTIME,storage:d.STORAGE,postgrest:d.POSTGREST,pgbouncer:d.PGBOUNCER},g=(n={},(0,s.Z)(n,d.EDGE,"Logs obtained from the network edge, containing all API requests."),(0,s.Z)(n,d.POSTGRES,"Database logs obtained directly from Postgres."),(0,s.Z)(n,d.FUNCTIONS,"Function logs generated from runtime execution."),(0,s.Z)(n,d.FN_EDGE,"Function call logs, containing the request and response."),(0,s.Z)(n,d.AUTH,"Authentication logs from GoTrue"),(0,s.Z)(n,d.REALTIME,"Realtime server for Postgres logical replication broadcasting"),(0,s.Z)(n,d.STORAGE,"Object storage logs"),(0,s.Z)(n,d.PGBOUNCER,"Postgres connection pooler logs"),(0,s.Z)(n,d.POSTGREST,"RESTful API web server logs"),n),j=function(e){for(var t in e){var r=e[t];null!==r&&""!==r&&void 0!==r||delete e[t]}return new URLSearchParams(e).toString()},b={postgres_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events with ERROR, PANIC, or FATAL"},{key:"noError",label:"No Error",description:"Show all non-error events"},{key:"log",label:"Log",description:"Show all events that are log severity"}]}},edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]},product:{label:"Product",key:"product",options:[{key:"database",label:"Database",description:""},{key:"auth",label:"Auth",description:""},{key:"storage",label:"Storage",description:""},{key:"realtime",label:"Realtime",description:""}]},method:{label:"Method",key:"method",options:[{key:"get",label:"GET",description:""},{key:"options",label:"OPTIONS",description:""},{key:"put",label:"PUT",description:""},{key:"post",label:"POST",description:""},{key:"patch",label:"PATCH",description:""},{key:"delete",label:"DELETE",description:""}]}},function_edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]}},function_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:'Show all events that are "error" severity'},{key:"warn",label:"Warning",description:'Show all events that are "warn" severity'},{key:"info",label:"Info",description:'Show all events that are "info" severity'},{key:"debug",label:"Debug",description:'Show all events that are "debug" severity'},{key:"log",label:"Log",description:'Show all events that are "log" severity'}]}},auth_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events that have error or fatal severity"},{key:"warning",label:"Warning",description:"Show all events that have warning severity"},{key:"info",label:"Info",description:"Show all events that have error severity"}]},status_code:{label:"Status Code",key:"status_code",options:[{key:"server_error",label:"Server Error",description:"Show all requests with 5XX status code"},{key:"client_error",label:"Client Error",description:"Show all requests with 4XX status code"},{key:"redirection",label:"Redirection",description:"Show all requests that have 3XX status code"},{key:"success",label:"Success",description:"Show all requests that have 2XX status code"}]},endpoints:{label:"Endpoints",key:"endpoints",options:[{key:"admin",label:"Admin",description:"Show all admin requests"},{key:"signup",label:"Sign up",description:"Show all signup and authorization requests"},{key:"recover",label:"Password Recovery",description:"Show all password recovery requests"},{key:"authentication",label:"Authentication",description:"Show all authentication flow requests (login, otp, and Oauth2)"},{key:"user",label:"User",description:"Show all user data requests"},{key:"logout",label:"Logout",description:"Show all logout requests"}]}}},y={log_selection_x_padding:"px-8",space_y:"px-6"},w=[{text:"Last hour",calcFrom:function(){return i()().subtract(1,"hour").startOf("hour").toISOString()},calcTo:function(){return""},default:!0},{text:"Last 3 hours",calcFrom:function(){return i()().subtract(3,"hour").startOf("hour").toISOString()},calcTo:function(){return""}},{text:"Last 24 hours",calcFrom:function(){return i()().subtract(1,"day").startOf("day").toISOString()},calcTo:function(){return""}}],O=[{text:"Last 24 hours",calcFrom:function(){return i()().subtract(1,"day").startOf("day").toISOString()},calcTo:function(){return""},default:!0},{text:"Last 3 days",calcFrom:function(){return i()().subtract(3,"day").startOf("day").toISOString()},calcTo:function(){return""}},{text:"Last 7 days",calcFrom:function(){return i()().subtract(7,"day").startOf("day").toISOString()},calcTo:function(){return""}}],N=function(e){return e.find((function(e){return e.default}))||e[0]},k={FREE:{text:"1 day",value:1,unit:"day",promptUpgrade:!0},PRO:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},PAYG:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},TEAM:{text:"28 days",value:28,unit:"day",promptUpgrade:!0},ENTERPRISE:{text:"90 days",value:90,unit:"day",promptUpgrade:!1}},P=o.Qy||"true"==c.env.NEXT_PUBLIC_ENABLE_LOGS},20047:function(e,t,r){var n=r(4158),s=r(77758),a=r(90907),i=r(47314),o=r(27378),c=r(24246);t.Z=function(e){var t=e.options,r=e.filters,l=e.onFiltersChange,u=e.buttonClassName,d=(0,o.useState)(!1),p=d[0],m=d[1],f=function(){l({}),m(!1)},h=function(){return m(!p)};return(0,c.jsx)(n.Z,{className:"flex items-center",open:p,align:"end",size:"medium",onOpenChange:h,overlay:(0,c.jsx)(s.Z,{className:"w-full",initialValues:r,onSubmit:function(e,t){(0,t.setSubmitting)(!0),l(e),m(!1)},children:function(e){var s=e.isSubmitting;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"space-y-4 py-6",children:t.options.map((function(e,s){var i;return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(a.Z,{value:"true",id:"".concat(t.key,".").concat(e.key),className:"px-3",label:e.label,description:e.description,size:"medium",defaultChecked:null===r||void 0===r||null===(i=r[t.key])||void 0===i?void 0:i[e.key]}),s!==t.options.length-1&&(0,c.jsx)(n.Z.Separator,{})]},e.key)}))}),(0,c.jsxs)("div",{className:"flex items-center justify-end gap-2 border-t border-scale-400 bg-scale-200 py-2 px-3 dark:border-scale-500 dark:bg-scale-400 ",children:[(0,c.jsx)(i.z,{size:"tiny",type:"default",onClick:f,htmlType:"button",children:"Clear"}),(0,c.jsx)(i.z,{loading:s,type:"primary",htmlType:"submit",children:"Save"})]})]})}}),showClose:!0,side:"bottom",children:(0,c.jsx)(i.z,{as:"span",type:function(){var e=r[t.key];return!("object"!==typeof e||!Object.values(e).some(Boolean))}()?"secondary":"default",onClick:h,className:u,children:t.label})})}},25001:function(e,t,r){r.d(t,{TK:function(){return h},VG:function(){return m},VK:function(){return u},XA:function(){return f},Yj:function(){return p},io:function(){return x},tS:function(){return d},wi:function(){return v},wv:function(){return g}});var n=r(33769),s=r(19248),a=r(27693),i=r.n(a),o=(r(27378),r(99099)),c=r(1825),l=r(24246),u=function(e){var t=e.children;return(0,l.jsx)("div",{className:"flex h-full w-full items-center gap-4",children:t})},d=function(e){var t=e.value;return(0,l.jsx)(p,{label:"Timestamp",value:(0,o.Sj)(t)?(0,o.tI)(t):String(t)})},p=function(e){var t=e.label,r=e.value,n=e.valueRender;return(0,l.jsxs)("div",{className:"grid grid-cols-12 group",children:[(0,l.jsx)("span",{className:"text-scale-900 text-sm col-span-4 whitespace-pre-wrap",children:t}),(0,l.jsx)("span",{className:"text-scale-1200 text-sm col-span-6 whitespace-pre-wrap break-all",children:null!==n&&void 0!==n?n:r}),(0,l.jsx)(c.Z,{bounceIconOnCopy:!0,text:r,className:"group-hover:opacity-100 opacity-0 my-auto transition col-span-2  h-4 w-4 px-0 py-0",type:"text",title:"Copy to clipboard",children:""})]})},m=function(e){var t=e.value,r=e.className;return(0,l.jsx)("span",{className:"font-mono text-xs truncate "+r,children:t})},f=function(e){var t=e.value;if(!t)return(0,l.jsx)("div",{children:(0,l.jsx)("label",{className:"text-xs text-scale-800",children:"No data"})});switch(t.toString().split("")[0]){case"1":case"2":return(0,l.jsx)("div",{className:"flex h-full items-center",children:(0,l.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded border bg-scale-500 px-2 py-1 text-center dark:bg-scale-400 ",children:(0,l.jsx)("label",{className:"block font-mono text-sm text-scale-900",children:t})})});case"5":return(0,l.jsx)("div",{className:"flex h-full items-center",children:(0,l.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-red-400 px-2 py-1 text-center ",children:(0,l.jsx)("label",{className:"block font-mono text-sm text-red-1100",children:t})})});case"4":case"3":return(0,l.jsx)("div",{className:"flex h-full items-center",children:(0,l.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-amber-400 px-2 py-1 text-center ",children:(0,l.jsx)("label",{className:"block font-mono text-sm text-amber-1100 dark:text-amber-900",children:t})})});default:return(0,l.jsx)("div",{className:"flex h-full items-center",children:(0,l.jsx)("div",{className:"relative flex h-6 items-center justify-center rounded bg-scale-300 px-2 py-1 text-center ",children:(0,l.jsx)("label",{className:"block font-mono text-sm text-scale-900",children:t})})})}},h=function(e){var t=e.value,r=e.uppercase,a=void 0===r||r;if(!t)return(0,l.jsx)("div",{children:(0,l.jsx)("label",{className:"text-xs text-scale-800",children:"No data"})});var i=t.toUpperCase(),o=a?i:t,c=function(e){var t=e.className,r=e.children;return(0,l.jsx)("div",{className:"w-24 flex items-center h-full ".concat(t),children:r})};switch(i){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,l.jsxs)(c,{className:"gap-1",children:[(0,l.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,l.jsx)(n.Z,{size:14,strokeWidth:2})}),(0,l.jsx)("span",{className:"!text-red-900 !block titlecase",children:o})]});case"INFO":case"DEBUG":return(0,l.jsxs)(c,{className:"gap-1",children:[(0,l.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,l.jsx)(n.Z,{size:14,strokeWidth:2})}),(0,l.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"LOG":return(0,l.jsxs)(c,{className:"gap-1",children:[(0,l.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,l.jsx)(s.Z,{size:14,strokeWidth:2})}),(0,l.jsx)("span",{className:"!text-blue-900 !block titlecase",children:o})]});case"WARNING":return(0,l.jsxs)(c,{className:"gap-1",children:[(0,l.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,l.jsx)(n.Z,{size:14,strokeWidth:2})}),(0,l.jsx)("span",{className:"!text-amber-900 !block titlecase",children:o})]});default:return(0,l.jsx)(c,{children:(0,l.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-scale-300",children:(0,l.jsx)("label",{className:"block font-mono text-sm text-scale-900",children:o})})})}},x=function(e){var t=e.value,r=e.className;return(0,l.jsx)("span",{className:"text-xs ".concat(r),children:v(t)})},v=function(e){var t=(0,o.Sj)(e)?(0,o.tI)(e):e;return i()(t).format("DD MMM  HH:mm:ss")};function g(e){var t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-scale-1200":"string text-brand-1100":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"})).split("\n").map((function(e){return'<span class="line text-xs">'.concat(e,"</span>")})).join("\n")}},99099:function(e,t,r){r.d(t,{up:function(){return n.up},n7:function(){return n.n7},$K:function(){return n.$K},tZ:function(){return n.tZ},ae:function(){return n.ae},_4:function(){return Fe},ol:function(){return ze},dL:function(){return te},D8:function(){return U},U_:function(){return n.U_},bj:function(){return n.bj},Qp:function(){return n.Qp},Eh:function(){return n.Eh},xN:function(){return n.xN},fg:function(){return n.fg},AJ:function(){return _},h6:function(){return C},g8:function(){return S},My:function(){return P},UR:function(){return O},GT:function(){return n.GT},ue:function(){return N},PJ:function(){return n.PJ},Oy:function(){return b},Sj:function(){return j},dP:function(){return k},tI:function(){return g},Q9:function(){return Z}});var n=r(76873),s=r(90849),a=r(69466),i=r(11246),o=r(27693),c=r.n(o),l=r(98784),u=r(90085),d=r(90397),p=r(74847),m=r(31091),f=r.n(m),h=r(27378);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){return c().unix(Number(e)/1e3/1e3).toISOString()},j=function(e){var t=16===String(e).length;return!Number.isNaN(Number(e))&&t},b=function(e){return e&&e.timestamp&&e.event_message&&e.id},y=function e(t,r){return Object.keys(t).filter((function(e){return t[e]})).flatMap((function(n){var s=r?"".concat(r,".").concat(n):n;return"object"===typeof t[n]?e(t[n],s):[s]}))},w=function(e,t){var r=Object.keys(t),s=n.Eh[e],a=function(e){var r=s[e],n=(0,l.get)(t,e);return void 0!==n&&"function"===typeof r?r(n):void 0===r?"string"===typeof n?"".concat(e," = '").concat(n,"'"):"".concat(e," = ").concat(n):void 0===n&&"function"===typeof r||r&&!1===n?null:r},i=r.map((function(e){if("object"===typeof t[e]){var r=y(t[e],e).map(a).filter(Boolean);return r.length>0?"(".concat(r.join(" or "),")"):null}var n=a(e);return null===n?null:"(".concat(n,")")})).filter(Boolean).join(" and ");return i?"where "+i:""},O=function(e,t){var r=w(e,t);switch(e){case"edge_logs":return"select id, timestamp, event_message, request.method, request.path, response.status_code\n  from ".concat(e,"\n  cross join unnest(metadata) as m\n  cross join unnest(m.request) as request\n  cross join unnest(m.response) as response\n  ").concat(r,"\n  limit 100\n  ");case"postgres_logs":return"select postgres_logs.timestamp, id, event_message, parsed.error_severity from ".concat(e,"\n  cross join unnest(metadata) as m\n  cross join unnest(m.parsed) as parsed\n  ").concat(r,"\n  limit 100\n  ");case"function_logs":return"select id, ".concat(e,".timestamp, event_message, metadata.event_type, metadata.function_id, metadata.level from ").concat(e,"\n  cross join unnest(metadata) as metadata\n  ").concat(r,"\n  limit 100\n    ");case"auth_logs":return"select id, ".concat(e,".timestamp, event_message, metadata.level, metadata.status, metadata.path, metadata.msg as msg, metadata.error from ").concat(e,"\n  cross join unnest(metadata) as metadata\n  ").concat(r,"\n  limit 100\n    ");case"function_edge_logs":return"select id, ".concat(e,".timestamp, event_message, response.status_code, request.method, m.function_id, m.execution_time_ms, m.deployment_id, m.version from ").concat(e,"\n  cross join unnest(metadata) as m\n  cross join unnest(m.response) as response\n  cross join unnest(m.request) as request\n  ").concat(r,"\n  limit 100\n  ");default:return"select id, ".concat(e,".timestamp, event_message from ").concat(e,"\n  ").concat(r,"\n  limit 100\n  ")}},N=function(e,t){return"select id, timestamp, event_message, metadata from ".concat(e," where id = '").concat(t,"' limit 1")},k=function(e,t){var r=Math.abs(c()().diff(c()(e),"day"));return r>1&&"FREE"===t||r>7&&"PRO"===t||r>28&&"TEAM"===t||r>90&&"ENTERPRISE"===t},P=function(e,t){var r=w(e,t);return"SELECT count(*) as count FROM ".concat(e," ").concat(r)},S=function(e,t,r){var s=function(e){var t=e.iso_timestamp_end?c()(e.iso_timestamp_end):c()(),r=e.iso_timestamp_start?c()(e.iso_timestamp_start):c()(),n="minute",s=360,a=t.diff(r,"minute"),i=t.diff(r,"hour");return a>720?(n="hour",s=120):i>72&&(n="day",s=7),[r.add(-s,n),n]}(t),a=(0,i.Z)(s,2),o=a[0],l=a[1],u=w(e,r),d="cross join unnest(t.metadata) as metadata";return e===n.U_.EDGE?(d+=" \n  cross join unnest(metadata.request) as request",d+=" \n  cross join unnest(metadata.response) as response"):e===n.U_.POSTGRES&&(d+=" \n  cross join unnest(metadata.parsed) as parsed"),"\nSELECT\n-- event-chart\n  timestamp_trunc(t.timestamp, ".concat(l,") as timestamp,\n  count(t.timestamp) as count\nFROM\n  ").concat(e," t\n  ").concat(d,"\n  ").concat(u?u+" and t.timestamp > '".concat(o.toISOString(),"'"):"where t.timestamp > '".concat(o.toISOString(),"'"),"\nGROUP BY\ntimestamp\nORDER BY\n  timestamp ASC\n  ")},_=function(e,t){var r=(0,i.Z)(e,2),n=r[0],s=r[1],a=(0,i.Z)(t,2),o=a[0],l=a[1];if(n&&s&&l&&!o){var u=c()(l).diff(c()(n)),d=c()(n);if(u<=0){var p=Math.abs(c()(s).diff(d,"minute"));d=c()(l).subtract(p,"minute")}return[d.toISOString(),l]}return!l&&o?[o,s]:[o,l]},Z=function(){var e=(0,u.Ik)();(0,h.useEffect)((function(){if(e){var t={triggerCharacters:["`"," ","."],provideCompletionItems:function(t,r,n){var s=new p.Z(t,r.column-2,r.lineNumber-1);if(s.isNextDQuote())return{suggestions:[]};var i=[],o=d.Z.schemas.filter((function(e){return s._text.includes(e.reference)}));if(0===o.length&&(o=d.Z.schemas),s.isNextPeriod()){var c=o.flatMap((function(e){return e.fields})).flatMap((function(e){var t=e.path.split("."),r=(0,a.Z)(t);r[0];return r.slice(1)})).map((function(t){return{label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}}));i=i.concat(c)}if("`"===n.triggerCharacter||" "===n.triggerCharacter){var l=d.Z.schemas.map((function(t){return{label:t.reference,kind:e.languages.CompletionItemKind.Class,insertText:t.reference}})),u=o.flatMap((function(e){return e.fields})).flatMap((function(e){return e.path.split(".").slice(0,-1)})).map((function(t){return{label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}}));i=(i=i.concat(u)).concat(l)}return{suggestions:f()(i,"label")}}},r=e.languages.registerCompletionItemProvider("pgsql",t);return function(){r.dispose()}}}),[e])},C=function(e,t,r,n,a,i){if(e.length<=1&&!a&&!i)return e;for(var o=e.map((function(e){return c().utc(e[t])})),u=i?c().utc(i):c().utc(Math.max.apply(null,o)),d=a?c().utc(a):c().utc(Math.min.apply(null,o)),p=e.length>0?o:[d,u],m=E(p),f=e.map((function(e){var r=c().utc(e[t]).toISOString();return e[t]=r,e})),h=u.diff(d,m),x=function(e){var a=d.add(e,m),i=("string"===typeof r?[r]:r).reduce((function(e,t){return v(v({},e),{},(0,s.Z)({},t,n))}),{});o.find((function(e){return(0,l.isEqual)(e,a)}))||f.push(v((0,s.Z)({},t,a.toISOString()),i))},g=0;g<=h;g++)x(g);return f},E=function(e){var t=e.reduce((function(e,t){return e[I(t)]+=1,e}),{second:0,minute:0,hour:0,day:0});return Object.keys(t).reduce((function(e,r){return t[e]>t[r]?e:r}))},I=function(e){return{0:"second",1:"minute",2:"hour",3:"day"}[["second","minute","hour"].map((function(t){return e.get(t)})).reduce((function(e,t){return 0===t&&(e+=1),e}),0)]},D=r(47939),R=r(47314),T=r(93311),A=r(55671),z=r(86677),L=r(90567),F=r(25001),M=r(24246),U=function(e){var t=e.item,r=(0,h.useState)(!1),n=r[0],s=r[1],a=(0,z.useRouter)(),i=a.query.ref;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(A.Z.tr,{className:"expandable-tr",children:[(0,M.jsx)(A.Z.td,{className:"whitespace-nowrap",children:(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)("button",{onClick:function(){return s(!n)},children:(0,M.jsx)("div",{className:"transition "+(n?"rotate-90":"rotate-0"),children:(0,M.jsx)(D.Z,{strokeWidth:2,size:14})})}),(0,M.jsx)("span",{className:"text-sm text-scale-1200",children:t.name})]})}),(0,M.jsx)(A.Z.td,{className:"",children:(0,M.jsx)("span",{className:"text-scale-1100",children:t.description})}),(0,M.jsx)(A.Z.td,{className:"",children:(0,M.jsx)("span",{className:"text-scale-1100",children:(0,F.wi)(t.inserted_at)})}),(0,M.jsx)(A.Z.td,{className:"",children:(0,M.jsx)("span",{className:"text-scale-1100",children:(0,F.wi)(t.updated_at)})}),(0,M.jsx)(A.Z.td,{className:" text-right",children:(0,M.jsx)(R.z,{type:"alternative",iconRight:(0,M.jsx)(T.Z,{size:10}),onClick:function(){return a.push("/project/".concat(i,"/logs/explorer?q=").concat(encodeURIComponent(t.content.sql)))},children:"Run"})})]},t.id),(0,M.jsx)(A.Z.td,{className:"".concat(n?" h-auto opacity-100":"h-0 opacity-0"," expanded-row-content border-l border-r bg-scale-100 !pt-0 !pb-0 transition-all"),colSpan:5,children:n&&(0,M.jsx)(L.Z,{children:t.content.sql})})]})},q=r(2674),B=r(51664),H=r(4158),W=r(11597),G=r(84364),Y=r(98213),V=r(68043),Q=r(38420),K=r(79894),J=r.n(K),X=r(27102),$=r(73443),ee=r(20796),te=function(e){var t=e.templates,r=void 0===t?[]:t,s=e.onSelectTemplate,a=e.hasEditorValue,i=e.onRun,o=e.onClear,c=e.onSave,l=e.onSelectSource,u=e.isLoading,d=e.defaultFrom,p=e.defaultTo,m=e.onDateChange,f=e.warnings,h=(0,$.Z)().data,x=(0,X.FH)(V.KA.CREATE,"user_content",{resource:{type:"log_sql",owner_id:null===h||void 0===h?void 0:h.id},subject:{id:null===h||void 0===h?void 0:h.id}});return(0,M.jsx)("div",{className:"rounded rounded-bl-none rounded-br-none border border-panel-border-light bg-panel-header-light dark:border-panel-border-dark dark:bg-panel-header-dark",children:(0,M.jsx)("div",{className:"flex w-full items-center justify-between px-5 py-2",children:(0,M.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-x-4",children:[(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)(q.ZP,{side:"bottom",align:"start",overlay:Object.values(n.U_).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return(0,M.jsx)(q.ZP.Item,{onClick:function(){return l(e)},children:(0,M.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,M.jsx)("span",{className:"font-mono font-bold text-scale-1100",children:e}),(0,M.jsx)("span",{className:"text-scale-1100",children:n.tZ[e]})]})},e)})),children:(0,M.jsx)(R.z,{as:"span",type:"default",iconRight:(0,M.jsx)(B.Z,{}),children:"Insert source"})}),(0,M.jsx)(q.ZP,{side:"bottom",align:"start",overlay:r.sort((function(e,t){return e.label.localeCompare(t.label)})).map((function(e){return(0,M.jsx)(q.ZP.Item,{onClick:function(){return s(e)},children:(0,M.jsx)("p",{children:e.label})},e.label)})),children:(0,M.jsx)(R.z,{as:"span",type:"default",iconRight:(0,M.jsx)(B.Z,{}),children:"Templates"})}),(0,M.jsx)(Q.Z,{to:p,from:d,onChange:m,helpers:n.up}),(0,M.jsx)("div",{className:"overflow-hidden",children:(0,M.jsx)("div",{className:" transition-all duration-300 ".concat(f.length>0?"opacity-100":"invisible h-0 w-0 opacity-0"),children:(0,M.jsx)(H.Z,{overlay:(0,M.jsx)(W.Z,{variant:"warning",title:"",children:(0,M.jsx)("div",{className:"flex flex-col gap-3",children:f.map((function(e,t){return(0,M.jsxs)("p",{children:[e.text," ",e.link&&(0,M.jsx)(J(),{href:e.link,children:e.linkText||"View"})]},t)}))})}),children:(0,M.jsxs)(G.Z,{color:"yellow",children:[f.length," ",f.length>1?"warnings":"warning"]})})})})]}),(0,M.jsx)("div",{children:(0,M.jsxs)("div",{className:"flex items-center gap-4",children:[(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)(R.z,{type:"default",onClick:o,children:"Clear query"}),ee.Qy&&c&&(0,M.jsxs)(Y.fC,{delayDuration:0,children:[(0,M.jsx)(Y.xz,{children:(0,M.jsx)(R.z,{type:"default",onClick:function(){return c()},disabled:!x||!a,children:"Save query"})}),!x&&(0,M.jsx)(Y.h_,{children:(0,M.jsxs)(Y.VY,{side:"bottom",children:[(0,M.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,M.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,M.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to save your query"})})]})})]})]}),(0,M.jsx)(R.z,{type:a?"primary":"alternative",disabled:!a,onClick:i,iconRight:(0,M.jsx)(T.Z,{}),loading:u,children:"Run"})]})})]})})})},re=r(44285),ne=r(44292),se=r(51669),ae=r(98637),ie=r(70946),oe=function(){return(0,M.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light dark:bg-panel-border-interior-dark"})},ce=function(e){var t,r,s,a,i,o,c,l,u,d,p,m,f=e.log,h=null===f||void 0===f||null===(t=f.metadata[0])||void 0===t||null===(r=t.request)||void 0===r?void 0:r[0],x=null===f||void 0===f||null===(s=f.metadata[0])||void 0===s||null===(a=s.response)||void 0===a?void 0:a[0],v=null===h||void 0===h?void 0:h.method,g=null===x||void 0===x?void 0:x.status_code,j=null===h||void 0===h||null===(i=h.headers)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.cf_connecting_ip,b=null===h||void 0===h||null===(c=h.headers)||void 0===c||null===(l=c[0])||void 0===l?void 0:l.cf_ipcountry,y=null===h||void 0===h||null===(u=h.headers)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.x_client_info,w=null===h||void 0===h||null===(p=h.headers)||void 0===p||null===(m=p[0])||void 0===m?void 0:m.referer;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding," space-y-2"),children:[(0,M.jsx)(F.Yj,{label:"Status",value:g,valueRender:(0,M.jsx)(F.XA,{value:g})}),(0,M.jsx)(F.Yj,{label:"Method",value:v}),(0,M.jsx)(F.tS,{value:f.timestamp}),(0,M.jsx)(F.Yj,{label:"IP Address",value:j}),(0,M.jsx)(F.Yj,{label:"Origin Country",value:b}),y&&(0,M.jsx)(F.Yj,{label:"Client",value:y}),w&&(0,M.jsx)(F.Yj,{label:"Referer",value:w})]}),(0,M.jsx)(oe,{}),(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding),children:[(0,M.jsx)("h3",{className:"text-lg text-scale-1200 mb-4",children:"Request Metadata"}),(0,M.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,M.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:h?(0,F.wv)(f.metadata[0].request[0]):""}})})]}),(0,M.jsx)(oe,{}),(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding),children:[(0,M.jsx)("h3",{className:"text-lg text-scale-1200 mb-4",children:"Response Metadata"}),(0,M.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,M.jsx)("div",{dangerouslySetInnerHTML:{__html:x?(0,F.wv)(f.metadata[0].response[0]):""}})})]})]})},le=function(e){var t,r,s,a,i,o,c,l,u=e.log,d=null===u||void 0===u||null===(t=u.metadata[0])||void 0===t||null===(r=t.parsed[0])||void 0===r?void 0:r.user_name,p=null===u||void 0===u||null===(s=u.metadata[0])||void 0===s||null===(a=s.parsed[0])||void 0===a?void 0:a.session_id,m=null===u||void 0===u||null===(i=u.metadata[0])||void 0===i||null===(o=i.parsed[0])||void 0===o?void 0:o.hint,f=null===u||void 0===u||null===(c=u.metadata[0])||void 0===c||null===(l=c.parsed[0])||void 0===l?void 0:l.error_severity;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:n.W.log_selection_x_padding,children:[(0,M.jsx)("span",{className:"col-span-4 text-sm text-scale-900",children:"Event message"}),(0,M.jsx)("div",{className:"text-wrap mt-2 overflow-x-auto whitespace-pre-wrap font-mono  text-xs text-scale-1200",children:u.event_message})]}),(0,M.jsx)(oe,{}),(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding," space-y-2"),children:[(0,M.jsx)(F.Yj,{label:"Severity",value:f,valueRender:(0,M.jsx)(F.TK,{value:f})}),(0,M.jsx)(F.tS,{value:u.timestamp}),(0,M.jsx)(F.Yj,{label:"Postgres Username",value:d}),(0,M.jsx)(F.Yj,{label:"Session ID",value:p})]}),m&&(0,M.jsx)("div",{className:"mt-4 ".concat(n.W.log_selection_x_padding),children:(0,M.jsx)(W.Z,{variant:"warning",withIcon:!0,title:m})}),(0,M.jsx)(oe,{}),(0,M.jsxs)("div",{className:n.W.log_selection_x_padding,children:[(0,M.jsx)("h3",{className:"mb-4 text-lg text-scale-1200",children:"Metadata"}),(0,M.jsx)("pre",{className:"syntax-highlight overflow-x-auto text-sm",children:(0,M.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:u.metadata?(0,F.wv)(u.metadata[0]):""}})})]})]})};function ue(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=(0,i.Z)(e,1)[0];return!["host","url"].includes(t)})).map((function(e){var t=(0,i.Z)(e,2),r=t[0],n=t[1];return"headers"===r?[r,n.map((function(e){return Object.fromEntries(Object.entries(e).filter((function(e){return!(0,i.Z)(e,1)[0].startsWith("_")})))}))]:[r,n]})))}var de=function(e){var t,r,s,a=e.log,i=null===(t=a.metadata)||void 0===t?void 0:t[0],o=null===i||void 0===i||null===(r=i.request)||void 0===r?void 0:r[0],c=null===i||void 0===i||null===(s=i.response)||void 0===s?void 0:s[0],l=null===o||void 0===o?void 0:o.method,u=null===c||void 0===c?void 0:c.status_code,d=new URL(null===o||void 0===o?void 0:o.url),p=i.execution_time_ms,m=i.deployment_id;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding," space-y-2"),children:[(0,M.jsx)(F.Yj,{label:"Status",value:u,valueRender:(0,M.jsx)(F.XA,{value:u})}),(0,M.jsx)(F.Yj,{label:"Method",value:l}),(0,M.jsx)(F.tS,{value:a.timestamp}),(0,M.jsx)(F.Yj,{label:"Execution Time",value:"".concat(p,"ms")}),(0,M.jsx)(F.Yj,{label:"Deployment ID",value:m}),(0,M.jsx)(F.Yj,{label:"Log ID",value:a.id}),(0,M.jsx)(F.Yj,{label:"Request Path",value:d.pathname+d.search})]}),(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding),children:[(0,M.jsx)("h3",{className:"text-lg text-scale-1200 mb-4",children:"Request Metadata"}),(0,M.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,M.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:o?(0,F.wv)(ue(o)):""}})})]}),(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding),children:[(0,M.jsx)("h3",{className:"text-lg text-scale-1200 mb-4",children:"Response Metadata"}),(0,M.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,M.jsx)("div",{dangerouslySetInnerHTML:{__html:c?(0,F.wv)(ue(c)):""}})})]})]})},pe=function(e){var t=e.log,r=t.metadata[0];return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding),children:[(0,M.jsx)("span",{className:"text-scale-900 text-sm col-span-4",children:"Event message"}),(0,M.jsx)("div",{className:"text-xs text-wrap font-mono text-scale-1200 mt-2 whitespace-pre-wrap overflow-x-auto",children:t.event_message})]}),(0,M.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light dark:bg-panel-border-interior-dark"}),(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding," space-y-2"),children:[(0,M.jsx)(F.Yj,{label:"Severity",value:r.level,valueRender:(0,M.jsx)(F.TK,{value:r.level})}),(0,M.jsx)(F.Yj,{label:"Deployment version",value:r.version}),(0,M.jsx)(F.tS,{value:t.timestamp}),(0,M.jsx)(F.Yj,{label:"Execution ID",value:r.execution_id}),(0,M.jsx)(F.Yj,{label:"Deployment ID",value:r.deployment_id})]}),(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding),children:[(0,M.jsx)("h3",{className:"text-lg text-scale-1200 mb-4",children:"Metadata"}),(0,M.jsx)("pre",{className:"text-sm syntax-highlight overflow-x-auto",children:(0,M.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:r?(0,F.wv)(r):""}})})]})]})},me=function(e){var t=e.log,r=function(e){var t=e.label,r=e.value,n=e.code;return(0,M.jsxs)("div",{className:"grid grid-cols-12",children:[(0,M.jsx)("span",{className:"text-scale-900 text-sm col-span-4",children:t}),(0,M.jsx)("span",{className:"text-scale-1200 text-sm col-span-8 overflow-x-auto ".concat(n&&"text-xs font-mono"),children:(0,M.jsx)("pre",{dangerouslySetInnerHTML:{__html:(0,F.wv)(r)}})})]})};return(0,M.jsx)("div",{className:"overflow-hidden overflow-x-auto space-y-6",children:Object.entries(t).map((function(e,t){var s=(0,i.Z)(e,2),a=s[0],o=s[1];return(0,M.jsx)("div",{className:"".concat(n.W.log_selection_x_padding),children:o&&"object"===typeof o?(0,M.jsx)(r,{label:a,value:o}):(0,M.jsx)(F.Yj,{label:a,value:null===o?"NULL ":String(o)})},"".concat(a,"-").concat(t))}))})},fe=function(e){var t=e.log;return(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding," space-y-6"),children:[(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,M.jsx)("h3",{className:"text-scale-900 text-sm",children:"Event Message"}),(0,M.jsx)("div",{className:"text-xs text-wrap font-mono text-scale-1200 whitespace-pre-wrap overflow-x-auto",children:t.event_message})]}),(0,M.jsx)(F.tS,{value:t.timestamp}),(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,M.jsx)("h3",{className:"text-scale-900 text-sm",children:"Metadata"}),(0,M.jsx)("pre",{className:" className={`text-scale-1200 text-sm col-span-8 overflow-x-auto text-xs font-mono`}",dangerouslySetInnerHTML:{__html:(0,F.wv)(t.metadata)}})]})]})},he=r(14919),xe=r(36492);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(e,t,r,s){var a=t?n.ae[t]:void 0,i=s&&a?N(a,s):"",o=ge(ge({},r),{},{project:e,sql:i}),c="".concat(ee.T5,"/projects/").concat(e,"/analytics/endpoints/logs.all?").concat((0,n.GT)(o)),l=Boolean(s&&a),u=(0,xe.a)(["projects",e,"log",s],(function(e){var t=e.signal;return(0,he.U2)(c,{signal:t})}),{enabled:l,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1}),d=u.data,p=u.error,m=u.isLoading,f=u.isRefetching,h=u.refetch,x=p?p.message:null;return{logData:null!==d&&void 0!==d&&d.result?d.result[0]:void 0,isLoading:l&&m||f,error:x,refresh:function(){return h()}}},be=r(62771),ye=r(1825),we=function(e){var t,r,s,a,i,o,c,l,u,d,p,m=e.log;return(0,M.jsxs)("div",{className:"".concat(n.W.log_selection_x_padding," space-y-6"),children:[(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,M.jsx)("h3",{className:"text-scale-900 text-sm",children:"Event Message"}),(0,M.jsx)("div",{className:"text-xs text-wrap font-mono text-scale-1200 whitespace-pre-wrap overflow-x-auto",children:(null===(t=m.metadata)||void 0===t?void 0:t.msg)||m.event_message})]}),(0,M.jsx)(F.tS,{value:m.timestamp}),(null===(r=m.metadata)||void 0===r?void 0:r.status)&&(0,M.jsx)(F.Yj,{label:"Status",value:String(null===(s=m.metadata)||void 0===s?void 0:s.status),valueRender:(0,M.jsx)(F.XA,{value:null===(a=m.metadata)||void 0===a?void 0:a.status})}),(null===(i=m.metadata)||void 0===i?void 0:i.level)&&(0,M.jsx)(F.Yj,{label:"Severity",value:null===(o=m.metadata)||void 0===o?void 0:o.level,valueRender:(0,M.jsx)(F.TK,{value:null===(c=m.metadata)||void 0===c?void 0:c.level})}),(null===(l=m.metadata)||void 0===l?void 0:l.path)&&(0,M.jsx)(F.Yj,{label:"Request Path",value:null===(u=m.metadata)||void 0===u?void 0:u.path}),(null===(d=m.metadata)||void 0===d?void 0:d.error)&&(0,M.jsx)(F.Yj,{label:"Error Message",value:null===(p=m.metadata)||void 0===p?void 0:p.error}),(0,M.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,M.jsx)("h3",{className:"text-scale-900 text-sm",children:"Metadata"}),(0,M.jsx)("pre",{className:" className={`text-scale-1200 text-sm col-span-8 overflow-x-auto text-xs font-mono`}",dangerouslySetInnerHTML:{__html:(0,F.wv)(m.metadata)}})]})]})},Oe=function(e){var t=e.projectRef,r=e.log,n=e.onClose,s=e.queryType,a=e.params,i=je(t,s,void 0===a?{}:a,null===r||void 0===r?void 0:r.id),o=i.logData,c=i.isLoading,l=function(){switch(s){case"api":return o?(0,M.jsx)(ce,{log:o}):null;case"database":return o?(0,M.jsx)(le,{log:o}):null;case"fn_edge":return o?(0,M.jsx)(de,{log:o}):null;case"functions":return o?(0,M.jsx)(pe,{log:o}):null;case"auth":return o?(0,M.jsx)(we,{log:o}):null;default:return s&&o&&b(o)?(0,M.jsx)(fe,{log:o}):s&&!o?null:r?(0,M.jsx)(me,{log:r}):null}};return(0,M.jsxs)("div",{className:["relative flex h-full flex-grow flex-col border border-l","border-panel-border-light dark:border-panel-border-dark","overflow-y-scroll bg-gray-200"].join(" "),children:[(0,M.jsx)("div",{className:"absolute flex\n          h-full w-full flex-col items-center justify-center gap-2 overflow-y-scroll bg-scale-200 text-center opacity-0 transition-all "+(r?"z-0 opacity-0":"z-10 opacity-100"),children:(0,M.jsxs)("div",{className:"flex\n          w-full\n          max-w-sm\n          scale-95\n          flex-col\n          items-center\n          justify-center\n          gap-6\n          text-center\n          opacity-0\n          transition-all delay-300 duration-500 "+(r||c?"mt-0 scale-95 opacity-0":"mt-8 scale-100 opacity-100"),children:[(0,M.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-scale-600 px-2 dark:border-scale-400",children:[(0,M.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-scale-600 dark:bg-scale-500"}),(0,M.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})})})]}),(0,M.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,M.jsx)("h3",{className:"text-sm text-scale-1200",children:"Select an Event"}),(0,M.jsx)("p",{className:"text-xs text-scale-900",children:"Select an Event to view the code snippet (pretty view) or complete JSON payload (raw view)."})]})]})}),(0,M.jsxs)("div",{className:"relative h-px flex-grow bg-scale-300",children:[(0,M.jsxs)("div",{className:"pt-4 px-4 flex flex-col gap-4",children:[(0,M.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,M.jsx)("div",{className:"transition ".concat(c?"opacity-0":"opacity-100"),children:(0,M.jsx)(ye.Z,{text:o?s?"Log ID\n".concat(o.id,"\n\nLog Timestamp (UTC)\n").concat(j(o.timestamp)?g(o.timestamp):o.timestamp,"\n\nLog Event Message\n").concat(o.event_message,"\n\nLog Metadata\n").concat(JSON.stringify(o.metadata,null,2),"\n"):JSON.stringify(o,null,2):"",type:"default",title:"Copy log to clipboard"})}),(0,M.jsx)(R.z,{type:"text",className:"cursor-pointer transition hover:text-scale-1200 h-8 w-8 px-0 py-0 flex items-center justify-center",onClick:n,children:(0,M.jsx)(ie.Z,{size:14,strokeWidth:2,className:"text-scale-900"})})]}),(0,M.jsx)("div",{className:"h-px w-full bg-scale-600 rounded "})]}),c&&(0,M.jsx)(be.Z,{}),(0,M.jsx)("div",{className:"flex flex-col space-y-6 bg-scale-300 py-4",children:!c&&(0,M.jsx)(l,{})})]})]})},Ne=r(41518),ke=[{formatter:function(e){return(0,M.jsxs)(F.VK,{children:[(0,M.jsx)(F.io,{value:e.row.timestamp}),(0,M.jsx)(F.XA,{row:e,value:e.row.status_code}),(0,M.jsx)(F.VG,{className:"w-20",value:e.row.method}),(0,M.jsx)(F.VG,{className:"w-full",value:e.row.path})]})}}],Pe=[{formatter:function(e){return(0,M.jsxs)(F.VK,{children:[(0,M.jsx)(F.io,{value:e.row.timestamp}),(0,M.jsx)(F.TK,{value:e.row.error_severity}),(0,M.jsx)(F.VG,{className:"w-full",value:e.row.event_message})]})}}],Se=[{formatter:function(e){return(0,M.jsxs)(F.VK,{children:[(0,M.jsx)(F.io,{value:e.row.timestamp}),(0,M.jsx)(F.VG,{className:"w-full",value:e.row.event_message})]})}}],_e=r(32327),Ze=r(3648),Ce=function(e){var t=e.error,r=e.isCustomQuery;return(0,M.jsxs)("div",{className:"flex flex-col gap-2 text-scale-1100",children:[(0,M.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[(0,M.jsx)("p",{children:"This query requires too much memory to be executed."}),(0,M.jsx)("p",{children:r?"Avoid selecting entire objects and instead select specific keys using dot notation.":"Avoid querying across a large datetime range."}),!r&&(0,M.jsx)("p",{children:"Please contact support if this error persists."})]}),(0,M.jsx)(_e.Z,{className:"text-sm",justified:!1,openBehaviour:"multiple",type:"default",chevronAlign:"left",size:"small",iconPosition:"left",children:(0,M.jsx)(_e.Z.Item,{id:"1",header:"Full error message",children:(0,M.jsx)(Ze.Z.TextArea,{size:"tiny",value:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:5})})})]})},Ee=function(e){var t=e.error;return(0,M.jsx)(Ze.Z.TextArea,{size:"tiny",value:"string"===typeof t?t:JSON.stringify(t,null,2),borderless:!0,className:"mt-4 w-full font-mono",copy:!0,rows:7})},Ie=[{formatter:function(e){return(0,M.jsxs)(F.VK,{children:[(0,M.jsx)(F.io,{value:e.row.timestamp}),"uncaughtException"===e.row.event_type?(0,M.jsx)(F.TK,{value:e.row.event_type,uppercase:!1}):(0,M.jsx)(F.TK,{value:e.row.level}),(0,M.jsx)(F.VG,{className:"w-full",value:e.row.event_message})]})}}],De=[{formatter:function(e){return(0,M.jsxs)(F.VK,{children:[(0,M.jsx)(F.io,{value:e.row.timestamp}),(0,M.jsx)(F.XA,{row:e,value:e.row.status_code}),(0,M.jsx)(F.VG,{value:e.row.method}),(0,M.jsx)(F.VG,{value:e.row.id})]})}}],Re=[{formatter:function(e){var t;return(0,M.jsxs)(F.VK,{children:[(0,M.jsx)(F.io,{value:e.row.timestamp}),e.row.level&&(0,M.jsx)(F.TK,{value:e.row.level}),(0,M.jsx)(F.VG,{className:"w-full",value:"".concat(e.row.path?e.row.path+" | ":"").concat((null===(t=e.row.msg)||void 0===t?void 0:t.trim())||e.row.event_message)})]})}}];function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ze=function(e){var t,r=e.data,n=void 0===r?[]:r,s=e.queryType,a=e.onHistogramToggle,i=e.isHistogramShowing,o=e.isLoading,c=e.error,u=e.projectRef,d=e.params,p=(0,h.useState)(null),m=p[0],f=p[1],x=null===n||void 0===n?void 0:n[0],v=Object.keys(n[0]||{}),g=v.includes("id"),j=v.includes("timestamp"),y=v.map((function(e,t){var r;return r=function(t){var r,n=null===(r=t.row)||void 0===r?void 0:r[e];return n&&"object"===typeof n?JSON.stringify(n):null===n?"NULL":String(n)},{key:"logs-column-".concat(t),name:e,resizable:!0,formatter:r,header:e,minWidth:128}}));if(s)switch(s){case"api":t=ke;break;case"database":t=Pe;break;case"fn_edge":t=De;break;case"functions":t=Ie;break;case"auth":t=Re;break;default:t=x&&b(x)?Se:y}else t=y;var w=JSON.stringify(n),O=(0,h.useMemo)((function(){var e=(0,re.Z)(new Set(n));if(!g)return[e,{}];var t=e.reduce((function(e,t){return e[t.id]=t,e}),{});return[e,t]}),[w]),N=O[0],k=O[1];(0,h.useEffect)((function(){n&&(n.find((function(e){return(0,l.isEqual)(e,m)}))||f(null))}),[w]);var P=s?"calc(100vh - 42px - 3rem)":"calc(100vh - 42px - 10rem)",S=(0,h.useMemo)((function(){return g&&j?Object.values(k).sort((function(e,t){return t.timestamp-e.timestamp})):N}),[w]),_=(0,h.useCallback)((function(e){return(0,M.jsx)(ae.X2,Ae(Ae({},e),{},{isRowSelected:!1,selectedCellIdx:void 0}))}),[]),Z=function(){return(0,M.jsxs)("div",{className:"flex w-full items-center justify-between rounded-tl rounded-tr border-t border-l border-r bg-scale-100 px-5 py-2 dark:bg-scale-300",children:[(0,M.jsx)("div",{className:"flex items-center gap-2",children:n&&n.length?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("span",{className:"text-sm text-scale-1200",children:"Query results"}),(0,M.jsx)("span",{className:"text-sm text-scale-1100",children:n&&n.length})]}):(0,M.jsx)("span",{className:"text-xs text-scale-1200",children:"Results will be shown below"})}),(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,M.jsx)(R.z,{type:"default",icon:i?(0,M.jsx)(ne.Z,{}):(0,M.jsx)(se.Z,{}),onClick:a,children:"Histogram"}),(0,M.jsx)(Ne.Z,{data:n,children:"Download"})]})]})};return n?(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("section",{className:"flex w-full flex-col "+(s?"":"shadow-lg"),style:{maxHeight:P},children:[!s&&(0,M.jsx)(Z,{}),(0,M.jsxs)("div",{className:"flex h-full flex-row ".concat(s?"":"border-l border-r"),children:[(0,M.jsx)(ae.ZP,{style:{height:"100%"},className:"\n            flex-1 flex-grow\n            ".concat(s?" data-grid--simple-logs":"data-grid--logs-explorer","\n          "),rowHeight:40,headerRowHeight:s?0:28,onSelectedCellChange:function(e){var t=e.rowIdx;g&&f(n[t])},selectedRows:new Set([]),noRowsFallback:o?null:(0,M.jsxs)("div",{className:"mx-auto flex h-full w-full items-center justify-center space-y-12 py-4 transition-all delay-200 duration-500",children:[!c&&(0,M.jsxs)("div",{className:"mt-16 flex scale-100 flex-col items-center justify-center gap-6 text-center opacity-100",children:[(0,M.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,M.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-scale-600 px-2 dark:border-scale-900"}),(0,M.jsx)("div",{className:"relative flex h-4 w-32 items-center rounded border border-dashed border-scale-600 px-2 dark:border-scale-900",children:(0,M.jsx)("div",{className:"absolute right-1 -bottom-4 text-scale-1100",children:(0,M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]}),(0,M.jsxs)("div",{className:"flex flex-col gap-1 px-5",children:[(0,M.jsx)("h3",{className:"text-lg text-scale-1200",children:"No results"}),(0,M.jsx)("p",{className:"text-sm text-scale-900",children:"Try another search, or adjusting the filters"})]})]}),c&&function(){var e;if(!c)return null;var t={isCustomQuery:!s,error:c},r=Ee;return"object"===typeof c&&null!==(e=c.error)&&void 0!==e&&e.errors.find((function(e){return"resourcesExceeded"===e.reason}))&&(r=Ce),(0,M.jsx)("div",{className:"flex w-1/2 justify-center px-5",children:(0,M.jsx)(W.Z,{variant:"danger",title:"Sorry! An error occurred when fetching data.",withIcon:!0,children:(0,M.jsx)(r,Ae({},t))})})}()]}),columns:t,rowClass:function(e){return["font-mono tracking-tight",(0,l.isEqual)(e,m)?"!bg-scale-800 rdg-row--focused":" !bg-scale-200 hover:!bg-scale-300 cursor-pointer"].join(" ")},rows:S,rowKeyGetter:function(e){return g?e.id:JSON.stringify(e)},onRowClick:f,rowRenderer:_}),S.length>0?(0,M.jsx)("div",{className:s||m?"flex w-1/2 flex-col":"hidden w-0",children:(0,M.jsx)(Oe,{projectRef:u,onClose:function(){return f(null)},log:m,queryType:s,params:d})}):null]})]})}):null},Le=r(86827),Fe=function(e){var t=e.data,r=e.onBarClick;return(0,M.jsx)(Le.Z,{minimalHeader:!0,size:"tiny",yAxisKey:"count",xAxisKey:"timestamp",data:t,title:"Logs / Time",onBarClick:function(e){var t,n;if(e&&null!==e&&void 0!==e&&null!==(t=e.activePayload)&&void 0!==t&&null!==(n=t[0])&&void 0!==n&&n.payload){var s=e.activePayload[0].payload.timestamp,a=j(s)?g(s):s;r(a)}},customDateFormat:"MMM D, HH:mm:s"})};r(20047)},31027:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(43659),s=r(68043),a=r(86677),i=r(27102),o=r(42753),c=r(38230),l=r(20796),u=function(e){var t,r=null!==(t=null===e||void 0===e?void 0:e.ref)&&void 0!==t?t:"default";return[{title:"Logs Explorer",items:[{key:"explorer",name:"Query",root:!0},l.Qy?{key:"saved",name:"Saved Queries"}:null,{key:"recent",name:"Recent Queries"},{key:"templates",name:"Templates"}].filter((function(e){return e})).map((function(e){var t=e.key,n=e.name,s=e.root;return{name:n,key:t,url:"/project/".concat(r,"/logs/explorer").concat(s?"":"/"+t),items:[]}}))},{items:[{name:l.Qy?"API Edge Network":"Kong API",key:"edge-logs",url:"/project/".concat(r,"/logs/edge-logs"),items:[]},{name:"Postgres",key:"postgres-logs",url:"/project/".concat(r,"/logs/postgres-logs"),items:[]},{name:"PostgREST",key:"postgrest-logs",url:"/project/".concat(r,"/logs/postgrest-logs"),items:[]},l.Qy?{name:"PgBouncer",key:"pgbouncer-logs",url:"/project/".concat(r,"/logs/pgbouncer-logs"),items:[]}:null,,{name:"Auth",key:"auth-logs",url:"/project/".concat(r,"/logs/auth-logs"),items:[]},{name:"Storage",key:"storage-logs",url:"/project/".concat(r,"/logs/storage-logs"),items:[]},{name:"Realtime",key:"realtime-logs",url:"/project/".concat(r,"/logs/realtime-logs"),items:[]}].filter((function(e){return e}))}]},d=r(24376),p=r(24246),m=(0,i.QO)((0,n.Pi)((function(e){var t=e.title,r=e.children,n=(0,i.oR)().ui,l=(0,a.useRouter)().pathname.split("/"),m=l[l.length-1],f=n.selectedProject;return(0,i.FH)(s.KA.ANALYTICS_READ,"logflare")?(0,p.jsx)(o.ZP,{title:t,product:"Logs",productMenu:(0,p.jsx)(d.Z,{page:m,menu:u(f)}),children:(0,p.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:r})}):(0,p.jsx)(o.ZP,{children:(0,p.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:(0,p.jsx)(c.Z,{isFullPage:!0,resourceText:"access your project's logs explorer"})})})})))},87574:function(e,t,r){var n=r(90849),s=r(55732),a=r(34707),i=r.n(a),o=r(79894),c=r.n(o),l=r(27378),u=r(98213),d=r(93359),p=r(47314),m=r(94269),f=r(68043),h=r(27102),x=r(14919),v=r(20796),g=r(96364),j=r(65966),b=r(22917),y=r(24246);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t,r,n=e.product,a=(0,h.oR)(),o=a.ui,w=a.app,N=(0,b.UO)().ref,k=o.selectedProject,P=null===(t=o.selectedOrganization)||void 0===t?void 0:t.slug,S=(0,h.P5)("initWithKps"),_=(0,j.u)({slug:P}).data,Z=(_||[]).length>0,C=(0,l.useState)(!1),E=C[0],I=C[1],D=(0,l.useState)(!1),R=D[0],T=D[1],A=(0,h.FH)(f.KA.INFRA_EXECUTE,"queue_jobs.projects.initialize_or_resume"),z=function(){var e=(0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return",o.setNotification({error:"Project is required",category:"error",message:"Unable to restore: project is required"}));case 2:return e.next=4,(0,x.v_)("".concat(v.T5,"/projects/").concat(k.ref,"/restore"),{kps_enabled:S});case 4:w.onProjectUpdated(O(O({},k),{},{status:v.S.RESTORING})),o.setNotification({category:"success",message:"Restoring project"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"space-y-4",children:(0,y.jsx)("div",{className:"w-full mx-auto mb-16 max-w-7xl",children:(0,y.jsx)("div",{className:"mx-6 flex h-[500px] items-center justify-center rounded border border-scale-400 bg-scale-300 p-8",children:(0,y.jsxs)("div",{className:"grid w-[480px] gap-4",children:[(0,y.jsx)("div",{className:"mx-auto flex max-w-[300px] items-center justify-center space-x-4 lg:space-x-8",children:(0,y.jsx)(d.Z,{className:"text-scale-1100",size:50,strokeWidth:1.5})}),(0,y.jsxs)("div",{className:"space-y-1",children:[(0,y.jsxs)("p",{className:"text-center",children:['The project "',null!==(r=null===k||void 0===k?void 0:k.name)&&void 0!==r?r:"",'" is currently paused.']}),(0,y.jsxs)("p",{className:"text-sm text-scale-1100 text-center",children:["All of your project's data is still intact, but your project is inaccessible while paused."," ",void 0!==n?(0,y.jsxs)(y.Fragment,{children:["Restore this project to access the"," ",(0,y.jsx)("span",{className:"text-brand-900",children:n})," page"]}):"Restore this project and get back to building the next big thing!"]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,y.jsxs)(u.fC,{delayDuration:0,children:[(0,y.jsx)(u.xz,{children:(0,y.jsx)(p.z,{size:"tiny",type:"primary",disabled:!A,onClick:function(){A?Z?T(!0):I(!0):o.setNotification({category:"error",message:"You do not have the required permissions to restore this project"})},children:"Restore project"})}),!A&&(0,y.jsx)(u.h_,{children:(0,y.jsxs)(u.VY,{side:"bottom",children:[(0,y.jsx)(u.Eh,{className:"radix-tooltip-arrow"}),(0,y.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,y.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to resume this project"})})]})})]}),(0,y.jsx)(c(),{href:"/project/".concat(N,"/settings/general"),children:(0,y.jsx)("a",{children:(0,y.jsx)(p.z,{type:"default",children:"View project settings"})})})]})]})})})}),(0,y.jsx)(g.Z,{visible:E,title:"Restore this project",description:"Confirm to restore this project? Your project's data will be restored to when it was initially paused.",buttonLabel:"Restore project",buttonLoadingLabel:"Restoring project",onSelectCancel:function(){return I(!1)},onSelectConfirm:z}),(0,y.jsx)(m.C,{hideFooter:!0,visible:R,size:"medium",header:"Your organization has members who have exceeded their free project limits",onCancel:function(){return T(!1)},children:(0,y.jsxs)("div",{className:"py-4 space-y-4",children:[(0,y.jsx)(m.C.Content,{children:(0,y.jsxs)("div",{className:"space-y-2",children:[(0,y.jsx)("p",{className:"text-sm text-scale-1100",children:"The following members have reached their maximum limits for the number of active free tier projects within organizations where they are an administrator or owner:"}),(0,y.jsx)("ul",{className:"pl-5 text-sm list-disc text-scale-1100",children:(_||[]).map((function(e,t){return(0,y.jsxs)("li",{children:[e.username||e.primary_email," (Limit: ",e.free_project_limit," ","free projects)"]},"member-".concat(t))}))}),(0,y.jsx)("p",{className:"text-sm text-scale-1100",children:"These members will need to either delete, pause, or upgrade one or more of these projects before you're able to unpause this project."})]})}),(0,y.jsx)(m.C.Separator,{}),(0,y.jsx)(m.C.Content,{children:(0,y.jsx)("div",{className:"flex items-center gap-2",children:(0,y.jsx)(p.z,{htmlType:"button",type:"default",onClick:function(){return T(!1)},block:!0,children:"Understood"})})})]})})]})}},91700:function(e,t,r){var n=r(88038),s=r.n(n),a=r(92836),i=r(20796),o=r(24246);t.Z=function(e){var t=e.children;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{children:(0,o.jsx)("title",{children:"Supabase + Vercel"})}),(0,o.jsxs)("main",{className:"flex flex-col w-full h-full overflow-y-auto",children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"mx-auto px-4 sm:px-6",children:(0,o.jsx)("div",{className:"max-w-xl flex justify-between items-center mx-auto py-4",children:(0,o.jsx)("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"sr-only",children:"Supabase"}),(0,o.jsx)("img",{className:"h-6 w-auto sm:h-6",src:"".concat(i.GW,"/img/supabase-logo.svg"),alt:""})]})})})})}),(0,o.jsx)(a.Z,{light:!0}),(0,o.jsx)("div",{className:"flex-grow",children:(0,o.jsx)("div",{className:"max-w-7xl h-full mx-auto px-4 sm:px-6",children:(0,o.jsx)("div",{className:"max-w-xl h-full mx-auto py-10",children:t})})})]})]})}},42753:function(e,t,r){r.d(t,{p0:function(){return In},g1:function(){return h},Ht:function(){return Ln},_h:function(){return en},zt:function(){return rn},gm:function(){return C},Uj:function(){return Fn.Z},Ix:function(){return qn},q3:function(){return qt},$E:function(){return Lt},li:function(){return Un},Vk:function(){return Xr},dU:function(){return nn},_J:function(){return Z},ro:function(){return jn},lz:function(){return vr},Ru:function(){return Tn},pj:function(){return An},ZP:function(){return Bn}});var n=r(27378),s=r(43659),a=r(86677),i=r(27102),o=r(79894),c=r.n(o),l=r(47314),u=r(24246);function d(e){var t=e.error;return(0,n.useEffect)((function(){console.error("Error",t)}),[]),(0,u.jsxs)("div",{className:"mx-auto flex h-full w-full flex-col items-center justify-center space-y-6",children:[(0,u.jsxs)("div",{className:"flex w-[320px] flex-col items-center justify-center space-y-3",children:[(0,u.jsx)("h4",{className:"text-lg",children:"Something went wrong \ud83e\udd15"}),(0,u.jsx)("p",{className:"text-center text-sm text-scale-1100",children:"Sorry about that, please try again later or feel free to reach out to us if the problem persists."})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,u.jsx)(c(),{href:"/projects",children:(0,u.jsx)("a",{children:(0,u.jsx)(l.z,{children:"Head back"})})}),(0,u.jsx)(c(),{href:"/support/new",children:(0,u.jsx)("a",{children:(0,u.jsx)(l.z,{type:"secondary",children:"Submit a support request"})})})]}),(0,u.jsxs)("p",{className:"text-sm text-scale-1100",children:["Error: [",null===t||void 0===t?void 0:t.code,"] ",null===t||void 0===t?void 0:t.message]})]})}var p=r(24376),m=r(44285),f=r(20796),h=(0,i.QO)((0,s.Pi)((function(e){var t,r,s,o,c=e.title,l=e.children,h=(0,i.oR)(),x=h.ui,v=h.meta,g=v.tables,j=g.isInitialized,b=g.isLoading,y=g.error,w=null!==(t=null===(r=x.selectedProject)||void 0===r?void 0:r.ref)&&void 0!==t?t:"default",O=(0,a.useRouter)().pathname.split("/")[4],N=(0,n.useState)(j),k=N[0],P=N[1];return(0,n.useEffect)((function(){var e;null!==(e=x.selectedProject)&&void 0!==e&&e.ref&&(v.policies.load(),v.tables.load(),v.roles.load(),v.schemas.load())}),[null===(s=x.selectedProject)||void 0===s?void 0:s.ref]),(0,n.useEffect)((function(){b||k||P(!0)}),[b]),y?(0,u.jsx)(Bn,{children:(0,u.jsx)(d,{error:y})}):(0,u.jsx)(Bn,{isLoading:!k,title:c||"Authentication",product:"Authentication",productMenu:(0,u.jsx)(p.Z,{page:O,menu:(o=w,[{title:"Manage",items:[{name:"Users",key:"users",url:"/project/".concat(o,"/auth/users"),items:[]}]},{title:"Configuration",items:[{name:"Policies",key:"policies",url:"/project/".concat(o,"/auth/policies"),items:[]}].concat((0,m.Z)(f.Qy?[{name:"Providers",key:"providers",url:"/project/".concat(o,"/auth/providers"),items:[]},{name:"Email Templates",key:"templates",url:"/project/".concat(o,"/auth/templates"),items:[]},{name:"URL Configuration",key:"url-configuration",url:"/project/".concat(o,"/auth/url-configuration"),items:[]}]:[]))}])}),children:(0,u.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:l})})}))),x=r(55732),v=r(34707),g=r.n(v),j=r(85945),b=r(22917),y=r(37753),w=r(13830),O=r(88038),N=r.n(O),k=r(38579),P=r.n(k),S=r(75118),_=r(37385),Z=(0,s.Pi)((function(e){var t=e.heading,r=e.subheading,s=e.showDisclaimer,a=void 0===s||s,i=e.logoLinkToMarketingSite,o=void 0!==i&&i,d=e.children,p=(0,y.v)(),m=(0,j.NL)(),h=(0,b.Fg)().isDarkMode;(0,n.useEffect)((function(){var e=new URLSearchParams(location.search),t=e.has("returnTo"),r=e.has("next");!t&&!r&&(0,x.Z)(g().mark((function e(){var t,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.I8.initialize();case 2:if(t=e.sent,!t.error){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,w.I8.getSession();case 8:if(r=e.sent,!r.data.session){e.next=15;break}return e.next=13,m.resetQueries();case 13:return e.next=15,p();case 15:case"end":return e.stop()}}),e)})))()}),[]);var v=(0,n.useState)(null),O=v[0],k=v[1];return(0,n.useEffect)((function(){var e=S.U[Math.floor(Math.random()*S.U.length)];k(e)}),[]),(0,u.jsxs)(u.Fragment,{children:[f.Qy&&(0,u.jsx)(N(),{children:(0,u.jsx)("script",{dangerouslySetInnerHTML:{__html:"window._getReturnToPath = ".concat(w.nD.toString(),";if (localStorage.getItem('").concat(w.Uf,"') && !(new URLSearchParams(location.search).has('next'))) {location.replace('").concat(null!==f.GW&&void 0!==f.GW?f.GW:"","' + window._getReturnToPath())}")}})}),(0,u.jsxs)("div",{className:"flex flex-col flex-1 bg-scale-100",children:[(0,u.jsx)("div",{className:"absolute top-0 w-full px-8 pt-6 mx-auto sm:px-6 lg:px-8",children:(0,u.jsxs)("nav",{className:"relative flex items-center justify-between sm:h-10",children:[(0,u.jsx)("div",{className:"flex items-center flex-grow flex-shrink-0 lg:flex-grow-0",children:(0,u.jsx)("div",{className:"flex items-center justify-between w-full md:w-auto",children:(0,u.jsx)(c(),{href:o?"https://supabase.com":"/projects",children:(0,u.jsx)("a",{children:(0,u.jsx)(P(),{src:"".concat(f.GW,h?"/img/supabase-dark.svg":"/img/supabase-light.svg"),alt:"Supabase Logo",height:24,width:120})})})})}),(0,u.jsx)("div",{className:"items-center hidden space-x-3 md:ml-10 md:flex md:pr-4",children:(0,u.jsx)(c(),{href:"https://supabase.com/docs",children:(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,u.jsx)(l.z,{type:"default",icon:(0,u.jsx)(_.Z,{}),children:"Documentation"})})})})]})}),(0,u.jsxs)("div",{className:"flex flex-1",children:[(0,u.jsxs)("main",{className:"flex flex-col items-center flex-1 flex-shrink-0 px-5 pt-16 pb-8 border-r shadow-lg bg-scale-200 border-scale-500",children:[(0,u.jsxs)("div",{className:"flex-1 flex flex-col justify-center w-[330px] sm:w-[384px]",children:[(0,u.jsxs)("div",{className:"mb-10",children:[(0,u.jsx)("h1",{className:"mt-8 mb-2 text-2xl lg:text-3xl",children:t}),(0,u.jsx)("h2",{className:"text-sm text-scale-1100",children:r})]}),d]}),a&&(0,u.jsx)("div",{className:"sm:text-center",children:(0,u.jsxs)("p",{className:"text-xs text-scale-900 sm:mx-auto sm:max-w-sm",children:["By continuing, you agree to Supabase's"," ",(0,u.jsx)(c(),{href:"https://supabase.com/terms",children:(0,u.jsx)("a",{className:"underline hover:text-scale-1100",children:"Terms of Service"})})," ","and"," ",(0,u.jsx)(c(),{href:"https://supabase.com/privacy",children:(0,u.jsx)("a",{className:"underline hover:text-scale-1100",children:"Privacy Policy"})}),", and to receive periodic emails with updates."]})})]}),(0,u.jsx)("aside",{className:"flex-col items-center justify-center flex-1 flex-shrink hidden basis-1/4 xl:flex",children:null!==O&&(0,u.jsxs)("div",{className:"relative flex flex-col gap-6",children:[(0,u.jsx)("div",{className:"absolute select-none -top-12 -left-11",children:(0,u.jsx)("span",{className:"text-[160px] leading-none text-scale-600",children:"\u201c"})}),(0,u.jsx)("blockquote",{className:"z-10 max-w-lg text-3xl",children:O.text}),(0,u.jsxs)("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4",children:[(0,u.jsx)("img",{src:"https://supabase.com".concat(O.img_url),alt:O.handle,className:"w-12 h-12 rounded-full"}),(0,u.jsx)("div",{className:"flex flex-col",children:(0,u.jsxs)("cite",{className:"not-italic font-medium text-scale-1100 whitespace-nowrap",children:["@",O.handle]})})]})]})})]})]})]})})),C=(0,s.Pi)((function(e){var t=e.heading,r=e.subheading,n=e.logoLinkToMarketingSite,s=void 0!==n&&n,a=e.showHeadings,i=void 0===a||a,o=e.children,l=(0,b.Fg)().isDarkMode;return(0,u.jsxs)("div",{className:"flex-1 bg-scale-200 flex flex-col gap-8 lg:gap-16 xl:gap-32",children:[(0,u.jsx)("div",{className:"sticky top-0 mx-auto w-full max-w-7xl px-8 pt-6 sm:px-6 lg:px-8",children:(0,u.jsx)("nav",{className:"relative flex items-center justify-between sm:h-10",children:(0,u.jsx)("div",{className:"flex flex-shrink-0 flex-grow items-center lg:flex-grow-0",children:(0,u.jsx)("div",{className:"flex w-full items-center justify-between md:w-auto",children:(0,u.jsx)(c(),{href:s?"https://supabase.com":"/projects",children:(0,u.jsx)("a",{children:(0,u.jsx)(P(),{src:"".concat(f.GW,l?"/img/supabase-dark.svg":"/img/supabase-light.svg"),alt:"",height:24,width:120})})})})})})}),(0,u.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,u.jsxs)("main",{className:"max-w-[448px] w-full flex flex-col px-5",children:[i&&(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("h1",{className:"text-2xl lg:text-3xl mt-8 mb-2",children:t}),(0,u.jsx)("h2",{className:"text-scale-1100 text-sm",children:r})]}),o]})})]})})),E=r(36802),I=r(97588),D=r(79305),R=r(98784),T=r(72112),A=r(2674),z=r(33759),L=r(84411),F=r(34789),M=r(82687),U=r(23753),q=r(4708),B=r(83443),H=r(2686),W=r(38480),G=r(99099),Y=r(98213),V=function(e){var t=e.condition,r=e.children,s=e.wrap;return t?(0,n.cloneElement)(s(r)):r},Q=function(e){var t=e.route,r=e.isActive,n=void 0!==r&&r;return(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{children:(0,u.jsx)(V,{condition:void 0!==t.link,wrap:function(e){return(0,u.jsx)(c(),{href:t.link,children:e})},children:(0,u.jsx)("a",{className:["transition-colors duration-200","flex items-center justify-center h-10 w-10 rounded","bg-scale-200 hover:bg-scale-500","text-scale-900 hover:text-scale-1200 ","".concat(n?"bg-scale-500 shadow-sm text-scale-1200":"")].join(" "),children:t.icon})})}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"right",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["bg-scale-100 shadow py-1 px-2 rounded leading-none","border border-scale-200 "].join(" "),children:(0,u.jsx)("span",{className:"text-scale-1200 text-xs",children:t.label})})]})})]})},K=(0,s.Pi)((function(e){(0,D.Z)(e);var t=(0,a.useRouter)(),r=(0,i.oR)().ui,n=(0,b.Fg)(),s=n.isDarkMode,o=n.toggleTheme,d=(0,E.UO)().ref,p=r.selectedProjectBaseInfo,h=(0,i.P5)("ongoingIncident"),x=t.pathname.split("/")[3],v=function(e,t){var r=(null===t||void 0===t?void 0:t.status)===f.S.COMING_UP,n="/project/".concat(e,"/building");return[{key:"editor",label:"Table Editor",icon:(0,u.jsx)(W.Z,{src:"".concat(f.GW,"/img/table-editor.svg"),style:{width:"".concat(18,"px"),height:"".concat(18,"px")},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}),link:e&&(r?n:"/project/".concat(e,"/editor"))},{key:"sql",label:"SQL Editor",icon:(0,u.jsx)(W.Z,{src:"".concat(f.GW,"/img/sql-editor.svg"),style:{width:"".concat(18,"px"),height:"".concat(18,"px")},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}),link:e&&(r?n:"/project/".concat(e,"/sql"))}]}(d,p),g=function(e,t){var r=(null===t||void 0===t?void 0:t.status)===f.S.COMING_UP,n="/project/".concat(e,"/building");return[{key:"database",label:"Database",icon:(0,u.jsx)(F.Z,{size:18,strokeWidth:2}),link:e&&(r?n:"/project/".concat(e,"/database/tables"))},{key:"auth",label:"Authentication",icon:(0,u.jsx)(M.Z,{size:18,strokeWidth:2}),link:e&&(r?n:"/project/".concat(e,"/auth/users"))},{key:"storage",label:"Storage",icon:(0,u.jsx)(U.Z,{size:18,strokeWidth:2}),link:e&&(r?n:"/project/".concat(e,"/storage/buckets"))}].concat((0,m.Z)(f.Qy?[{key:"functions",label:"Edge Functions",icon:(0,u.jsx)(q.Z,{size:18,strokeWidth:2}),link:e&&(r?n:"/project/".concat(e,"/functions"))}]:[]))}(d,p),j=function(e,t){var r=(null===t||void 0===t?void 0:t.status)===f.S.COMING_UP,n="/project/".concat(e,"/building");return[].concat((0,m.Z)(f.Qy?[{key:"reports",label:"Reports",icon:(0,u.jsx)(B.Z,{size:18,strokeWidth:2}),link:e&&(r?n:"/project/".concat(e,"/reports"))}]:[]),(0,m.Z)(G.Qp?[{key:"logs",label:"Logs",icon:(0,u.jsx)(H.Z,{size:18,strokeWidth:2}),link:e&&(r?n:"/project/".concat(e,"/logs/explorer"))}]:[]),[{key:"api",label:"API Docs",icon:(0,u.jsx)(_.Z,{size:18,strokeWidth:2}),link:e&&(r?n:"/project/".concat(e,"/api"))}],(0,m.Z)(f.Qy?[{key:"settings",label:"Project Settings",icon:(0,u.jsx)(z.Z,{size:18,strokeWidth:2}),link:e&&"/project/".concat(e,"/settings/general")}]:[]))}(d,p);return(0,u.jsxs)("div",{style:{height:h?"calc(100vh - 44px)":"100vh"},className:["flex w-14 flex-col justify-between overflow-y-hidden p-2","border-r bg-body border-scale-500"].join(" "),children:[(0,u.jsxs)("ul",{className:"flex flex-col space-y-2",children:[(0,u.jsx)(c(),{href:"/projects",children:(0,u.jsx)("a",{className:"block",children:(0,u.jsx)("img",{src:"".concat(t.basePath,"/img/supabase-logo.svg"),alt:"Supabase",className:"mx-auto h-[40px] w-6 cursor-pointer rounded"})})}),(0,u.jsx)(Q,{isActive:(0,R.isUndefined)(x)&&!(0,R.isUndefined)(t.query.ref),route:{key:"HOME",label:"Home",icon:(0,u.jsx)(T.Z,{size:18,strokeWidth:2}),link:"/project/".concat(d)}}),(0,u.jsx)("div",{className:"bg-scale-500 h-px w-full"}),v.map((function(e){return(0,u.jsx)(Q,{route:e,isActive:x===e.key},e.key)})),(0,u.jsx)("div",{className:"bg-scale-500 h-px w-full"}),g.map((function(e){return(0,u.jsx)(Q,{route:e,isActive:x===e.key},e.key)})),(0,u.jsx)("div",{className:"h-px w-full bg-scale-500"}),j.map((function(e){return(0,u.jsx)(Q,{route:e,isActive:x===e.key},e.key)}))]}),(0,u.jsx)("ul",{className:"flex flex-col space-y-2",children:(0,u.jsx)(A.ZP,{side:"right",align:"start",overlay:(0,u.jsxs)(u.Fragment,{children:[f.Qy&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c(),{href:"/account/me",children:(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(z.Z,{size:14,strokeWidth:1.5}),children:"Account Preferences"},"header")}),(0,u.jsx)(A.ZP.Separator,{})]}),(0,u.jsx)(A.ZP.Label,{children:"Theme"}),(0,u.jsxs)(A.ZP.RadioGroup,{value:s?"dark":"light",onChange:function(e){return o("dark"===e)},children:[(0,u.jsx)(A.ZP.Radio,{value:"dark",children:"Dark"}),(0,u.jsx)(A.ZP.Radio,{value:"light",children:"Light"})]},"theme")]}),children:(0,u.jsx)(l.z,{as:"span",type:"text",size:"tiny",children:(0,u.jsx)("div",{className:"py-1",children:(0,u.jsx)(L.Z,{size:18,strokeWidth:2})})})})})]})})),J=function(e){var t=e.title,r=e.children,n=(0,i.P5)("ongoingIncident")?"calc(100vh - 44px)":"100vh";return(0,u.jsxs)("div",{style:{height:n,maxHeight:n},className:["hide-scrollbar flex w-64 flex-col border-r","bg-scale-200","dark:border-dark "].join(" "),children:[(0,u.jsx)("div",{className:"dark:border-dark flex max-h-12 items-center border-b px-6",style:{minHeight:"3rem"},children:(0,u.jsx)("h4",{className:"text-lg",children:t})}),(0,u.jsx)("div",{className:"flex-grow overflow-y-auto",children:r})]})},X=r(78695),$=r(84364),ee=r(1296),te=r(40288),re=r(24903),ne=(0,s.Pi)((function(e){var t=e.defaultValue;return(0,u.jsx)(u.Fragment,{children:null!==t&&void 0!==t&&t.length?t.map((function(e){return(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)("span",{className:"text-scale-800 dark:text-scale-700",children:(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,u.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,u.jsx)("a",{onClick:e.onClick||function(){},className:"text-gray-1100 block px-2 py-1 text-xs leading-5 focus:bg-gray-100 focus:text-gray-900 focus:outline-none ".concat(e.onClick?"cursor-pointer hover:text-white":""),children:e.label})]},e.key)})):null})})),se=r(79588),ae=r(87474),ie=(0,s.Pi)((function(){var e=(0,a.useRouter)(),t=(0,i.oR)(),r=t.app,n=t.ui,s=r.organizations.list(),o=n.selectedOrganization;return f.Qy?(0,u.jsx)(A.ZP,{side:"bottom",align:"start",overlay:(0,u.jsxs)(u.Fragment,{children:[s.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){var r=(0,se.ZN)(t.slug);return(0,u.jsx)(A.ZP.Item,{onClick:function(){var t;if(!r)return n.setNotification({category:"error",message:"Could not navigate to organization settings, please try again or contact support"});e.push({pathname:"/org/[slug]/general",query:{slug:r},hash:null===(t=e.asPath.split("#")[1])||void 0===t?void 0:t.toLowerCase()})},children:t.name},r)})),(0,u.jsx)(A.ZP.Separator,{}),(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(ae.Z,{size:"tiny"}),onClick:function(){return e.push("/new")},children:"New organization"})]}),children:(0,u.jsx)(l.z,{as:"span",type:"text",size:"tiny",children:o.name})}):(0,u.jsx)(l.z,{as:"span",type:"text",size:"tiny",children:o.name})})),oe=r(4158),ce=(0,s.Pi)((function(){var e,t,r,n=(0,i.oR)(),s=n.app,o=n.ui,d=s.projects.list(),p=null===(e=o.selectedOrganization)||void 0===e?void 0:e.slug,m=o.selectedProject,h=(0,a.useRouter)(),x=(t=h.route,r=h.query,Object.entries(r).length>1?t.split("/").slice(0,4).join("/"):t);return f.Qy?(0,u.jsx)(A.ZP,{side:"bottom",align:"start",overlay:(0,u.jsxs)(u.Fragment,{children:[d.filter((function(e){return e.status!==f.S.INACTIVE})).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){var t;return(0,u.jsx)(c(),{href:null!==(t=null===x||void 0===x?void 0:x.replace("[ref]",e.ref))&&void 0!==t?t:"/project/".concat(e.ref),passHref:!0,children:(0,u.jsx)("a",{className:"block",children:(0,u.jsx)(A.ZP.Item,{children:e.name})})},e.ref)})),(0,u.jsx)(oe.Z.Separator,{}),(0,u.jsx)(c(),{href:"/new/".concat(p),children:(0,u.jsx)("a",{className:"block",children:(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(ae.Z,{size:"tiny"}),children:"New project"})})})]}),children:(0,u.jsx)(l.z,{as:"span",type:"text",size:"tiny",className:"my-1",children:m.name})}):(0,u.jsx)(l.z,{as:"span",type:"text",size:"tiny",children:m.name})})),le=r(90849),ue=r(55991),de=r(12163);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var me=function(e){return(0,u.jsx)(de.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:ue.Z},e))},fe=r(11246),he=r(83763),xe=r(3648),ve=r(70946),ge=r(46578),je=r(74271);function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ye=function(e){return(0,u.jsx)(de.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:je.Z},e))},we=r(52979),Oe=r(14919),Ne=r(14620),ke=function(e){for(var t="image/png",r=atob(e.substr("data:".concat(t,";base64,").length)),n=[],s=0;s<r.length;s+=1024){for(var a=r.slice(s,s+1024),i=new Array(a.length),o=0;o<a.length;o++)i[o]=a.charCodeAt(o);var c=new Uint8Array(i);n.push(c)}return new Blob(n,{type:t})},Pe=function(){var e=(0,x.Z)(g().mark((function e(t,r){var n,s,a,i,o,c,l,u,d;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ne.eI)("https://mfrkmguhoejspftfvgdz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyNzg4NjQ0MCwiZXhwIjoxOTQzNDYyNDQwfQ.wRGmWXOORz-cxVBof4WLOSxRog9Tdff1P8gI72U8ta8",{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:function(e){},setItem:function(e,t){},removeItem:function(e){}}}}),s=ke(r),a="".concat(t||"no-project","/").concat((0,re.k$)(),".png"),i={cacheControl:"3600"},e.next=6,n.storage.from("feedback-attachments").upload(a,s,i);case 6:if(o=e.sent,c=o.data,!(l=o.error)){e.next=12;break}return console.error("Failed to upload:",l),e.abrupt("return",void 0);case 12:if(!c){e.next=18;break}return e.next=15,n.storage.from("feedback-attachments").createSignedUrls([c.path],31536e4);case 15:return u=e.sent,d=u.data,e.abrupt("return",null===d||void 0===d?void 0:d[0].signedUrl);case 18:return e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Se=function(e){var t=e.onClose,r=e.feedback,s=e.setFeedback,o=e.screenshot,d=e.setScreenshot,p=(0,a.useRouter)(),m=p.query.ref,h=(0,i.oR)().ui,v=(0,n.useRef)(null),j=(0,n.useRef)(),b=(0,n.useState)(!1),y=b[0],w=b[1],O=(0,n.useState)(!1),N=O[0],k=O[1];(0,n.useEffect)((function(){var e;null===v||void 0===v||null===(e=v.current)||void 0===e||e.focus()}),[v]);var P=function(){var e=(0,x.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t;return!((null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:[]).length>0)||"feedback-widget"!==e.children[0].id},k(!0),e.next=4,(0,re.Vs)(100);case 4:(0,he.YM)(document.body,{filter:t}).then((function(e){return d(e)})).catch((function(e){h.setNotification({error:e,category:"error",message:"Failed to capture screenshot",duration:4e3})})).finally((function(){k(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,x.Z)(g().mark((function e(t){var r,n,s,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.persist(),r=t.target.files||t.dataTransfer.items,n=(0,fe.Z)(r,1),s=n[0],(a=new FileReader).onload=function(e){var t;d(null===(t=e.target)||void 0===t?void 0:t.result)},a.readAsDataURL(s),t.target.value="";case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,x.Z)(g().mark((function e(){var n,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length||void 0===o){e.next=4;break}return e.abrupt("return",h.setNotification({category:"error",message:"Please include a message in your feedback.",duration:4e3}));case 4:if(!(r.length>0)){e.next=20;break}if(w(!0),!o){e.next=12;break}return e.next=9,Pe(m,o);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=void 0;case 13:return n=e.t0,a=void 0!==n?"".concat(r,"\n\nAttachments:\n").concat(n):r,e.next=17,(0,Oe.v_)("".concat(f.T5,"/feedback/send"),{message:a,pathname:p.asPath,category:"Feedback",projectRef:m,tags:["dashboard-feedback"]});case 17:w(!1),s(""),h.setNotification({category:"success",message:"Feedback sent. Thank you!"});case 20:return e.abrupt("return",t());case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{id:"feedback-widget",className:"text-area-text-sm",children:[(0,u.jsx)(xe.Z.TextArea,{className:"w-80 p-3",size:"small",placeholder:"Ideas on how to improve this page.\nUse the Support Form for technical issues.",rows:5,value:r,onChange:function(e){s(e.target.value)}}),(0,u.jsx)(oe.Z.Separator,{}),(0,u.jsxs)("div",{className:"w-80 space-y-3 px-3 py-2 pb-4",children:[(0,u.jsxs)("div",{className:"flex justify-between space-x-2",children:[(0,u.jsx)(l.z,{type:"default",onClick:t,className:"hover:border-gray-500",children:"Cancel"}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[void 0!==o?(0,u.jsx)("div",{style:{backgroundImage:'url("'.concat(o,'")')},onClick:function(){var e=ke(o),t=URL.createObjectURL(e);window.open(t,"_blank")},className:"cursor-pointer rounded h-[26px] w-[30px] border border-scale-600 relative bg-cover bg-center bg-no-repeat",children:(0,u.jsx)("div",{className:["cursor-pointer rounded-full bg-red-900 h-3 w-3","flex items-center justify-center absolute -top-1 -right-1"].join(" "),onClick:function(e){e.stopPropagation(),d(void 0)},children:(0,u.jsx)(ve.Z,{size:8,strokeWidth:3})})}):(0,u.jsx)(A.ZP,{className:"feedback-dropdown",size:"small",overlay:[(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(ge.Z,{size:14}),onClick:function(){j.current&&j.current.click()},children:"Upload screenshot"},"upload-screenshot"),(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(ye,{size:14}),onClick:function(){return P()},children:"Capture screenshot"},"capture-screenshot")],children:(0,u.jsx)(l.z,{as:"span",type:"default",disabled:N,loading:N,className:"px-2 py-1.5",icon:(0,u.jsx)(we.Z,{size:14})})}),(0,u.jsx)("input",{type:"file",ref:j,className:"hidden",accept:"image/png",onChange:S}),(0,u.jsx)(l.z,{disabled:y,loading:y,onClick:_,children:"Send feedback"})]})]}),(0,u.jsxs)("p",{className:"text-xs text-scale-1000",children:["Have a technical issue? Contact"," ",(0,u.jsx)(c(),{href:"/support/new",children:(0,u.jsx)("a",{children:(0,u.jsx)("span",{className:"cursor-pointer text-brand-900 transition-colors hover:text-brand-1200",children:"Supabase support"})})})," ","or"," ",(0,u.jsx)("a",{href:"https://supabase.com/docs",target:"_blank",rel:"noreferrer",children:(0,u.jsx)("span",{className:"cursor-pointer text-brand-900 transition-colors hover:text-brand-1200",children:"browse our docs"})}),"."]})]})]})},_e=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],s=(0,n.useState)(""),a=s[0],i=s[1],o=(0,n.useState)(),c=o[0],d=o[1];return(0,u.jsx)(oe.Z,{open:t,onOpenChange:function(e){r(e),e||d(void 0)},size:"content",side:"bottom",align:"end",overlay:(0,u.jsx)(Se,{onClose:function(){i(""),d(void 0),r(!1)},feedback:a,setFeedback:i,screenshot:c,setScreenshot:d}),children:(0,u.jsxs)(l.z,{as:"span",onClick:function(){r((function(e){return!e}))},type:"default",icon:(0,u.jsx)(me,{size:16,strokeWidth:1.5,className:"text-scale-900"}),children:[(0,u.jsx)("span",{className:"block md:hidden",children:"Feedback"}),(0,u.jsx)("span",{className:"hidden md:block",children:"Feedback on this page?"})]})})},Ze=r(99950),Ce=r(49239),Ee=r(40622),Ie=r(29432),De=function(){var e=(0,a.useRouter)(),t=e.query.ref,r="/support/new".concat(t?"?ref=".concat(t):"");return(0,u.jsx)(oe.Z,{size:"content",align:"end",side:"bottom",sideOffset:8,overlay:(0,u.jsxs)("div",{className:"my-4 w-96 space-y-4",children:[(0,u.jsxs)("div",{className:"my-5 space-y-4 px-5",children:[(0,u.jsx)("h5",{className:"text-scale-1200",children:"Need help with your project?"}),(0,u.jsx)("p",{className:"text-sm text-scale-900",children:"For issues with your project hosted on supabase.com, or other inquiries about our hosted services."}),(0,u.jsxs)("div",{className:"space-x-1",children:[(0,u.jsx)(c(),{passHref:!0,href:r,children:(0,u.jsx)("a",{children:(0,u.jsx)(l.z,{type:"default",icon:(0,u.jsx)(Ze.Z,{}),children:"Contact Support"})})}),(0,u.jsx)(c(),{passHref:!0,href:"https://supabase.com/docs/",children:(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,u.jsx)(l.z,{type:"text",size:"tiny",icon:(0,u.jsx)(Ce.Z,{}),children:"Docs"})})}),(0,u.jsx)(c(),{passHref:!0,href:"https://status.supabase.com/",children:(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,u.jsx)(l.z,{type:"text",size:"tiny",icon:(0,u.jsx)(Ee.Z,{}),children:"Supabase Status"})})})]}),(0,u.jsx)("p",{className:"text-sm text-scale-900",children:"Expected response time is based on your billing tier. Pro and Pay as You Go plans are prioritized."})]}),(0,u.jsx)(oe.Z.Separator,{}),(0,u.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,u.jsxs)("div",{className:"mb-4 px-5",children:[(0,u.jsx)("h5",{className:"mb-2",children:"Reach out to the community"}),(0,u.jsx)("p",{className:"text-sm text-scale-900",children:"For other support, including questions on our client libraries, advice, or best practices."})]}),(0,u.jsx)("div",{className:"px-5",children:(0,u.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",style:{background:"#404EED"},children:(0,u.jsxs)("a",{href:"https://discord.supabase.com",target:"_blank",rel:"noreferrer",className:"dark block cursor-pointer",children:[(0,u.jsx)(P(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(e.basePath,"/img/support/discord-bg-small.jpg"),layout:"fill",objectFit:"cover",alt:"discord illustration header"}),(0,u.jsx)(l.z,{type:"secondary",icon:(0,u.jsx)(W.Z,{src:"".concat(e.basePath,"/img/discord-icon.svg"),className:"h-4 w-4"}),children:(0,u.jsx)("span",{style:{color:"#404EED"},children:"Join Discord server"})})]})})}),(0,u.jsx)("div",{className:"px-5",children:(0,u.jsx)("div",{className:"relative space-y-2 overflow-hidden rounded px-5 py-4 pb-12 shadow-md",children:(0,u.jsxs)("a",{href:"https://github.com/supabase/supabase/discussions",target:"_blank",rel:"noreferrer",className:"block cursor-pointer",children:[(0,u.jsx)(P(),{className:"absolute left-0 top-0 opacity-50",src:"".concat(e.basePath,"/img/support/github-bg.jpg?v-1"),layout:"fill",objectFit:"cover",alt:"discord illustration header"}),(0,u.jsx)(l.z,{type:"secondary",icon:(0,u.jsx)(me,{}),children:"GitHub Discussions"})]})})})]})]}),children:(0,u.jsx)(l.z,{as:"span",type:"default",icon:(0,u.jsx)(Ie.Z,{size:16,strokeWidth:1.5,className:"text-scale-900"}),children:"Help"})})},Re=r(27693),Te=r.n(Re),Ae=r(16921);function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Le=function(e){return(0,u.jsx)(de.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:Ae.Z},e))},Fe=r(21063),Me=r(11597),Ue=r(25478),qe=r(36492),Be=function(){return["notifications"]},He=r(65961),We=function(e,t,r){var n=e.name;if(t.data.name===Ue.O0.ProjectExceedingTierLimit){var s=t.data.violations.map((function(e){return e.dimension})).reduce((function(e,t){return"".concat(e,", ").concat(t)}));return(0,u.jsxs)("p",{className:"text-sm",children:['Your project "',n,'" has exceeded its limits in the following areas:'," ",s,"."]})}if(t.data.name===Ue.O0.PostgresqlUpgradeAvailable){var a=t.data,i=a.upgrade_type,o=a.additional;if("postgresql-server"===i){var l=o.version_to;return(0,u.jsxs)("p",{className:"text-sm",children:["New version of Postgres (",l,') is now available for project "',n,'".']})}if("extensions"===i){var d=o,p=d.name,m=d.version_to;return(0,u.jsxs)("p",{className:"text-sm",children:['New version of "',p,'" (',m,') is now available for project "',n,'".']})}if("schema-migration"===i){var f=o,h=f.name,x=f.version_to;return(0,u.jsxs)("div",{className:"text-sm space-y-1",children:[(0,u.jsxs)("p",{children:['A new schema migration is available for your project "',n,'".']}),(0,u.jsx)("ol",{className:"list-disc pl-6",children:(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,u.jsx)("p",{children:h}),(0,u.jsx)(Fe.Z,{size:12,strokeWidth:2}),(0,u.jsx)("p",{children:x})]})})})]})}return""}if(t.data.name!==Ue.O0.PostgresqlUpgradeCompleted){if(t.data.name===Ue.O0.ProjectUpdateCompleted){var v=t.data.upgrades;return(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"text-sm",children:['The following services have been successfully updated for project "',n,'":']}),(0,u.jsx)("ol",{className:"list-disc pl-6",children:v.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,u.jsx)("p",{className:"text-sm",children:e.name}),(0,u.jsx)(Fe.Z,{size:12,strokeWidth:2}),(0,u.jsx)("p",{className:"text-sm",children:e.version_to}),e.changelog_link&&(0,u.jsx)("div",{className:"!ml-4",children:(0,u.jsx)(c(),{href:e.changelog_link,children:(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,u.jsx)(He.Z,{className:"cursor-pointer text-scale-1000 hover:text-scale-1200 transition",size:12,strokeWidth:2})})})})]})},e.name)}))})]})}return t.data.name===Ue.O0.ProjectInformational?(0,u.jsx)("p",{className:"text-sm",children:t.data.message}):(0,u.jsxs)("p",{className:"text-sm",children:["Unknown notification type: ",t.notification_name," - Please reach out to support for more information."]})}var g=t.data,j=g.upgrade_type,b=g.additional;if("postgresql-server"===j){var y=b.version_to;return(0,u.jsxs)("p",{className:"text-sm",children:["Postgres (",y,") has been successfully updated to ",y,' for project "',n,'".']})}if("extensions"===j){var w=b,O=w.name,N=w.version_to;return(0,u.jsxs)("p",{className:"text-sm",children:['The extension "',O,'" has been successfully updated to ',N,' for project "',n,'".']})}if("schema-migration"===j){var k=b.version_to;return"unmigrated"===(null===r||void 0===r?void 0:r.desired)?(0,u.jsxs)("p",{className:"text-sm",children:['The schema migration "',k,'" will be applied for project "',n,"\" within a few days. You may opt to apply the changes now, or it'll be done so automatically."]}):"temp_role"===(null===r||void 0===r?void 0:r.desired)?(0,u.jsxs)("p",{className:"text-sm",children:['The schema migration "',k,'" will be finalized for project "',n,"\" within a few days. You may opt to finalize the changes now, or it'll be done so automatically."]}):(0,u.jsxs)("p",{className:"text-sm",children:['The schema migration "',k,'" has been successfully applied for project "',n,'".']})}},Ge=function(e,t){var r=(0,fe.Z)(e,1)[0];if(!r)return(0,u.jsx)("p",{className:"text-sm"});switch(r.action_type){case Ue.Us.SchedulePostgresRestart:return(0,u.jsx)("p",{className:"text-sm",children:"Restart your project to get the latest updates."});case Ue.Us.UpgradeProjectToPro:return(0,u.jsx)("p",{className:"text-sm",children:"Upgrade your project to ensure continued availability."});case Ue.Us.PgBouncerRestart:return(0,u.jsx)("p",{className:"text-sm",children:"Restart your connection pooler to get the latest updates."});case Ue.Us.MigratePostgresSchema:var n;return r.deadline?"migrated"===(null===t||void 0===t?void 0:t.desired)?(0,u.jsxs)("p",{className:"text-sm space-x-1",children:["This patch was applied on"," ",Te()(new Date(null!==(n=t.migrated_at)&&void 0!==n?n:r.deadline)).format("DD MMM YYYY, HH:mma")]}):"temp_role"===(null===t||void 0===t?void 0:t.desired)?r.reason===Ue.Fi.Finalize?(0,u.jsxs)("p",{className:"text-sm space-x-1",children:["This patch will be automatically applied after"," ",Te()(new Date(r.deadline)).format("DD MMM YYYY, HH:mma")]}):(0,u.jsxs)("p",{className:"text-sm space-x-1",children:["This patch was applied on"," ",Te()(new Date(t.modified_at)).format("DD MMM YYYY, HH:mma")]}):(0,u.jsxs)("p",{className:"text-sm space-x-1",children:["This patch will be automatically applied after"," ",Te()(new Date(r.deadline)).format("DD MMM YYYY, HH:mma")]}):"";default:return""}},Ye=function(e){var t=e.project,r=e.changelogLink,s=e.ownerReassignStatus,i=e.availableActions,o=e.onSelectRestartProject,d=e.onSelectApplyMigration,p=e.onSelectRollbackMigration,m=e.onSelectFinalizeMigration,f=(0,a.useRouter)(),h=function(){return f.push("/project/".concat(t.ref,"/settings/billing/update/pro"))},x=function(e){switch(e.action_type){case Ue.Us.UpgradeProjectToPro:return(0,u.jsx)(l.z,{type:"default",onClick:h,children:"Upgrade project"});case Ue.Us.SchedulePostgresRestart:return(0,u.jsx)(l.z,{type:"default",onClick:o,children:"Restart project"});case Ue.Us.MigratePostgresSchema:return e.reason===Ue.Fi.Finalize?"migrated"!==(null===s||void 0===s?void 0:s.desired)&&(0,u.jsx)(l.z,{type:"default",onClick:m,children:"Finalize"}):e.reason===Ue.Fi.Rollback?"temp_role"===(null===s||void 0===s?void 0:s.desired)&&(0,u.jsx)(l.z,{type:"default",onClick:p,children:"Rollback"}):"unmigrated"===(null===s||void 0===s?void 0:s.desired)&&(0,u.jsx)(l.z,{type:"default",onClick:d,children:"Apply now"})}};return(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[i.map((function(e){return(0,u.jsx)(n.Fragment,{children:x(e)},"".concat(e.action_type,"_").concat(e.reason))})),r&&(0,u.jsx)(c(),{href:r,children:(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,u.jsx)(l.z,{as:"span",type:"default",icon:(0,u.jsx)(He.Z,{size:12,strokeWidth:2}),children:"More info"})})})]})},Ve=function(e){var t,r,s=e.notification,a=e.onSelectRestartProject,o=e.onSelectApplyMigration,c=e.onSelectRollbackMigration,d=e.onSelectFinalizeMigration,p=(0,i.oR)(),m=p.app,h=p.ui,v=(0,j.NL)(),b=(0,n.useState)(!1),y=b[0],w=b[1],O=m.projects.list((function(e){return e.id===s.project_id})),N=(0,fe.Z)(O,1)[0],k=Te()(s.inserted_at).format("DD MMM YYYY, HH:mma"),P=s.data.changelog_link,S=null!==(t=null===(r=s.meta)||void 0===r?void 0:r.actions_available)&&void 0!==t?t:[],_=(0,qe.a)(["projects",N.ref,"owner-reassign"],(function(e){var t=e.signal;return(0,Oe.U2)("".concat(f.T5,"/database/").concat(N.ref,"/owner-reassign"),{signal:t})}),{enabled:"schema-migration"===s.data.upgrade_type}).data,Z=function(){var e=(0,x.Z)(g().mark((function e(t){var r,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return w(!0),e.next=5,(0,Oe.$v)("".concat(f.T5,"/notifications"),{ids:[t]});case 5:if(r=e.sent,!(n=r.error)){e.next=11;break}h.setNotification({category:"error",message:"Failed to dismiss notification",error:n,duration:4e3}),e.next=13;break;case 11:return e.next=13,v.invalidateQueries(Be());case 13:w(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"flex py-2",children:[(0,u.jsx)("div",{className:"flex min-w-[50px] justify-center",children:s.notification_status!==Ue.Ez.Seen&&(0,u.jsx)("div",{className:"mt-1.5 h-2 w-2 rounded-full bg-green-900"})}),(0,u.jsxs)("div",{className:"flex-grow mr-8 flex flex-col gap-4",children:[(0,u.jsxs)("div",{className:"w-full flex justify-between",children:[(0,u.jsxs)("div",{className:"w-9/10 space-y-2",children:[We(N,s,_),Ge(S,_),(0,u.jsx)("p",{className:"text-scale-1100 text-sm !mt-2",children:k})]}),(0,u.jsx)("div",{className:"w-1/10 flex justify-end",children:(0,u.jsx)("div",{children:(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{children:(0,u.jsx)(l.z,{className:"!px-1 group",type:"text",loading:y,icon:(0,u.jsx)(ve.Z,{size:14,strokeWidth:2,className:"text-scale-1100 group-hover:text-scale-1200 transition"}),onClick:function(){return Z(s.id)}})}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200",children:"Dismiss"})})]})})]})})})]}),(S.length>0||void 0!==P)&&(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsx)(Ye,{project:N,changelogLink:P,ownerReassignStatus:_,availableActions:S,onSelectRestartProject:function(){return a(N,s)},onSelectApplyMigration:function(){return o(N,s)},onSelectRollbackMigration:function(){return c(N,s)},onSelectFinalizeMigration:function(){return d(N,s)}})})]})]})},Qe=r(96364);function Ke(e){return Je.apply(this,arguments)}function Je(){return(Je=(0,x.Z)(g().mark((function e(t){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Oe.U2)("".concat(f.T5,"/notifications"),{signal:t});case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xe=function(){var e,t,r,s,o,c,d,p,m,h,v,j,b,y,w,O,N,k,P=(0,a.useRouter)(),S=(0,i.oR)(),_=S.app,Z=S.meta,C=S.ui,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,qe.a)(Be(),(function(e){return Ke(e.signal)}),e)}(),I=E.data,D=E.refetch,R=(0,n.useState)(),T=R[0],A=R[1],z=(0,n.useState)(),L=z[0],F=z[1],M=(0,n.useState)(),U=M[0],q=M[1],B=(0,n.useState)(),H=B[0],W=B[1],G=(0,n.useState)(),V=G[0],Q=G[1];if(!I)return(0,u.jsx)(u.Fragment,{});var K=null===I||void 0===I?void 0:I.some((function(e){return e.notification_status===Ue.Ez.New})),J=function(){var e=(0,x.Z)(g().mark((function e(t){var r,n,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}if(!((r=I.filter((function(e){return e.notification_status===Ue.Ez.New})).map((function(e){return e.id}))).length>0)){e.next=9;break}return e.next=5,(0,Oe.r$)("".concat(f.T5,"/notifications"),{ids:r});case 5:n=e.sent,(s=n.error)&&console.error("Failed to update notifications",s),D();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,x.Z)(g().mark((function e(){var t,r,n,s,a,i,o,c,l;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T&&V){e.next=2;break}return e.abrupt("return");case 2:return r=V.id,n=T.id,s=T.ref,a=T.region,t={},(0,le.Z)(t,Ue.Us.PgBouncerRestart,"pgbouncer"),(0,le.Z)(t,Ue.Us.SchedulePostgresRestart,"postgresql"),(0,le.Z)(t,Ue.Us.MigratePostgresSchema,"postgresql"),i=t,o=V.meta.actions_available.map((function(e){return e.action_type})).filter((function(e){return-1!==Object.keys(i).indexOf(e)})).map((function(e){return i[e]})),e.next=8,(0,Oe.v_)("".concat(f.T5,"/projects/").concat(s,"/restart-services"),{restartRequest:{region:a,source_notification_id:r,services:o}});case 8:c=e.sent,(l=c.error)?C.setNotification({category:"error",message:"Failed to restart project: ".concat(l.message),error:l}):(_.onProjectPostgrestStatusUpdated(n,"OFFLINE"),C.setNotification({category:"success",message:"Restarting services"}),P.push("/project/".concat(s))),A(void 0),Q(void 0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,x.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Oe.v_)("".concat(f.T5,"/database/").concat(L.ref,"/owner-reassign"),{});case 4:if((t=e.sent).error){e.next=11;break}return e.next=8,_.projects.fetchDetail(L.ref,(function(e){return Z.setProjectDetails(e)}));case 8:C.setNotification({category:"success",message:'Successfully applied migration for project "'.concat(L.name,'"')}),e.next=12;break;case 11:C.setNotification({error:t.error,category:"error",message:"Failed to apply migration: ".concat(t.error.message)});case 12:F(void 0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,x.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Oe.$v)("".concat(f.T5,"/database/").concat(U.ref,"/owner-reassign"),{});case 4:if((t=e.sent).error){e.next=11;break}return e.next=8,_.projects.fetchDetail(U.ref,(function(e){return Z.setProjectDetails(e)}));case 8:C.setNotification({category:"success",message:'Successfully rolled back migration for project "'.concat(U.name,'"')}),e.next=12;break;case 11:C.setNotification({error:t.error,category:"error",message:"Failed to roll back migration: ".concat(t.error.message)});case 12:q(void 0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,x.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Oe.r$)("".concat(f.T5,"/database/").concat(H.ref,"/owner-reassign"),{});case 4:if((t=e.sent).error){e.next=11;break}return e.next=8,_.projects.fetchDetail(H.ref,(function(e){return Z.setProjectDetails(e)}));case 8:C.setNotification({category:"success",message:'Successfully finalized migration for project "'.concat(H.name,'"')}),e.next=12;break;case 11:C.setNotification({error:t.error,category:"error",message:"Failed to finalize migration: ".concat(t.error.message)});case 12:W(void 0);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(oe.Z,{size:"content",align:"end",side:"bottom",sideOffset:8,onOpenChange:J,overlay:(0,u.jsxs)("div",{className:"w-[400px] lg:w-[700px]",children:[(0,u.jsx)("div",{className:"flex items-center justify-between border-b border-gray-500 bg-gray-400 px-4 py-2",children:(0,u.jsx)("p",{className:"text-sm",children:"Notifications"})}),(0,u.jsx)("div",{className:"max-h-[380px] overflow-y-auto py-2",children:0===I.length?(0,u.jsx)("div",{className:"py-2 px-4",children:(0,u.jsx)("p",{className:"text-sm text-scale-1000",children:"No notifications available"})}):(0,u.jsx)(u.Fragment,{children:I.map((function(e,t){return(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(Ve,{notification:e,onSelectRestartProject:function(e,t){A(e),Q(t)},onSelectApplyMigration:function(e,t){F(e),Q(t)},onSelectRollbackMigration:function(e,t){q(e),Q(t)},onSelectFinalizeMigration:function(e,t){W(e),Q(t)}}),t!==I.length-1&&(0,u.jsx)(oe.Z.Separator,{})]},e.id)}))})})]}),children:(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{children:(0,u.jsxs)("div",{className:"relative flex",children:[(0,u.jsx)(l.z,{as:"span",id:"notification-button",type:"default",icon:(0,u.jsx)(Le,{size:16,strokeWidth:1.5,className:"text-scale-1200"})}),K&&(0,u.jsxs)("div",{className:"absolute -top-1 -right-1 z-50 flex h-3 w-3 items-center justify-center",children:[(0,u.jsx)("div",{className:"h-full w-full animate-ping rounded-full bg-green-800 opacity-60"}),(0,u.jsx)("div",{className:"z-60 absolute top-0 right-0 h-full w-full rounded-full bg-green-900 opacity-80"})]})]})}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 flex items-center space-x-1"].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200",children:"Notifications"})})]})})]})}),(0,u.jsx)(Qe.Z,{danger:!0,visible:void 0!==T,title:'Restart project "'.concat(null===T||void 0===T?void 0:T.name,'"'),description:"Are you sure you want to restart the project? There will be a few minutes of downtime.",buttonLabel:"Restart",buttonLoadingLabel:"Restarting",onSelectCancel:function(){return A(void 0)},onSelectConfirm:X}),(0,u.jsx)(Qe.Z,{size:"large",visible:void 0!==L,title:'Apply schema migration for "'.concat(null===L||void 0===L?void 0:L.name,'"'),description:(0,u.jsxs)("div",{className:"text-scale-1200 space-y-2",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{children:"The following schema migration will be applied to the project"}),(0,u.jsx)("ol",{className:"list-disc pl-6",children:(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,u.jsx)("p",{children:null===V||void 0===V||null===(e=V.data)||void 0===e||null===(t=e.additional)||void 0===t?void 0:t.name}),(0,u.jsx)(Fe.Z,{size:12,strokeWidth:2}),(0,u.jsx)("p",{children:null===V||void 0===V||null===(r=V.data)||void 0===r||null===(s=r.additional)||void 0===s?void 0:s.version_to})]})})})]}),(0,u.jsxs)("p",{children:["This change can be rolled back anytime up till"," ",Te()(new Date(null!==(o=null===V||void 0===V||null===(c=V.meta.actions_available)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.deadline)&&void 0!==o?o:0)).format("DD MMM YYYY, HH:mma ZZ"),", after which the changes will be finalized and can no longer be undone."]})]}),buttonLabel:"Confirm",buttonLoadingLabel:"Confirm",onSelectCancel:function(){return F(void 0)},onSelectConfirm:$}),(0,u.jsx)(Qe.Z,{size:"medium",visible:void 0!==U,title:'Rollback schema migration for "'.concat(null===U||void 0===U?void 0:U.name,'"'),description:(0,u.jsxs)("div",{className:"text-scale-1200 space-y-2",children:[(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{children:"The following schema migration will be rolled back for the project"}),(0,u.jsx)("ol",{className:"list-disc pl-6",children:(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,u.jsx)("p",{children:null===V||void 0===V||null===(p=V.data)||void 0===p||null===(m=p.additional)||void 0===m?void 0:m.name}),(0,u.jsx)(Fe.Z,{size:12,strokeWidth:2}),(0,u.jsx)("p",{children:null===V||void 0===V||null===(h=V.data)||void 0===h||null===(v=h.additional)||void 0===v?void 0:v.version_to})]})})})]}),(0,u.jsxs)("p",{children:["This migration however will still be applied and finalized after"," ",Te()(new Date(null!==(j=null===V||void 0===V||null===(b=V.meta.actions_available)||void 0===b||null===(y=b[0])||void 0===y?void 0:y.deadline)&&void 0!==j?j:0)).format("DD MMM YYYY, HH:mma ZZ"),", after which the changes can no longer be undone."]})]}),buttonLabel:"Confirm",buttonLoadingLabel:"Confirm",onSelectCancel:function(){return q(void 0)},onSelectConfirm:ee}),(0,u.jsx)(Qe.Z,{danger:!0,size:"small",visible:void 0!==H,title:'Finalize schema migration for "'.concat(null===H||void 0===H?void 0:H.name,'"'),description:(0,u.jsxs)("div",{className:"text-scale-1200 space-y-4",children:[(0,u.jsx)(Me.Z,{withIcon:!0,variant:"warning",title:"This action canot be undone"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{children:"The following schema migration will be finalized for the project"}),(0,u.jsx)("ol",{className:"list-disc pl-6",children:(0,u.jsx)("li",{children:(0,u.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,u.jsx)("p",{children:null===V||void 0===V||null===(w=V.data)||void 0===w||null===(O=w.additional)||void 0===O?void 0:O.name}),(0,u.jsx)(Fe.Z,{size:12,strokeWidth:2}),(0,u.jsx)("p",{children:null===V||void 0===V||null===(N=V.data)||void 0===N||null===(k=N.additional)||void 0===k?void 0:k.version_to})]})})})]})]}),buttonLabel:"Confirm",buttonLoadingLabel:"Confirm",onSelectCancel:function(){return W(void 0)},onSelectConfirm:te})]})},$e=r(64368),et=r(45322),tt=r(83282),rt=r(47510),nt=(0,s.Pi)((function(e){var t,r,n,s=e.customHeaderComponents,a=e.breadcrumbs,o=void 0===a?[]:a,d=e.headerBorder,p=void 0===d||d,m=(0,i.oR)().ui,h=m.selectedOrganization,x=m.selectedProject,v=(0,re.fV)(),g=(0,X.f$)().setIsOpen,j=(0,i.P5)("dashboardCmdk"),y=(0,b.UO)().ref,w=(0,rt.d2)().project,O=(0,tt.VP)({projectRef:null===w||void 0===w?void 0:w.ref,connectionString:null===w||void 0===w?void 0:w.connectionString}).data,N=(0,et.DK)({projectRef:y}).data,k=(0,$e.O)(N),P=(null===(t=m.selectedProject)||void 0===t?void 0:t.subscription_tier)===f.ev.PAYG||(null===(r=m.selectedProject)||void 0===r?void 0:r.subscription_tier)===f.ev.ENTERPRISE||(null===(n=m.selectedProject)||void 0===n?void 0:n.subscription_tier)===f.ev.TEAM,S=(0,i.P5)("overusageBadge")&&void 0!==(null===x||void 0===x?void 0:x.subscription_tier)&&!P&&k.length>0;return(0,u.jsxs)("div",{className:"flex h-12 max-h-12 items-center justify-between py-2 px-5 ".concat(p?"border-b border-scale-500":""),children:[(0,u.jsxs)("div",{className:"-ml-2 flex items-center text-sm",children:[y&&h?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ie,{}),x&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"text-scale-800 dark:text-scale-700",children:(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,u.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,u.jsx)(ce,{}),O&&(0,u.jsx)("div",{className:"ml-2",children:(0,u.jsx)(c(),{href:"/project/".concat(y,"/settings/billing/usage"),children:(0,u.jsx)("a",{children:(0,u.jsx)($.Z,{color:"red",children:"Project is in read-only mode"})})})}),S&&(0,u.jsx)("div",{className:"ml-2",children:(0,u.jsx)(c(),{href:"/project/".concat(y,"/settings/billing/usage"),children:(0,u.jsx)("a",{children:(0,u.jsx)($.Z,{color:"red",children:"Exceeding usage limits"})})})})]})]}):(0,u.jsx)(c(),{href:"/projects",children:(0,u.jsx)("a",{className:"cursor-pointer px-2 py-1 text-xs text-scale-1200 focus:bg-transparent focus:outline-none",children:"Supabase"})}),(0,u.jsx)(ne,{defaultValue:o})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[s&&s,f.Qy&&j&&(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{children:(0,u.jsx)("div",{className:"flex",children:(0,u.jsx)(l.z,{type:"default",icon:(0,u.jsx)(ee.Z,{size:16,strokeWidth:1.5,className:"text-scale-1200"}),onClick:function(){return g(!0)}})})}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsxs)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 flex items-center space-x-1"].join(" "),children:["macos"===v?(0,u.jsx)(te.Z,{size:11.5,strokeWidth:1.5,className:"text-scale-1200"}):(0,u.jsx)("p",{className:"text-xs",children:"CTRL"}),(0,u.jsx)("p",{className:"text-xs",children:"K"})]})]})})]}),f.Qy&&(0,u.jsx)(De,{}),f.Qy&&(0,u.jsx)(_e,{}),f.Qy&&(0,u.jsx)(Xe,{})]})]})})),st=r(14971),at=r(62786),it=r(66674);function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ct=function(e){return(0,u.jsx)(de.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:it.Z},e))},lt=r(94269),ut=r(71714),dt=r(6159),pt=(0,s.Pi)((function(e){var t=e.project,r=(0,i.oR)().app,s=(0,n.useRef)(),a=(0,n.useState)(!1),o=a[0],d=a[1],p=(0,n.useState)(!1),m=p[0],f=p[1];(0,n.useEffect)((function(){var e=setTimeout((function(){return d(!0)}),3e4);return function(){return clearTimeout(e)}}),[]),(0,n.useEffect)((function(){if(t.restUrl)return s.current=window.setInterval(h,4e3),function(){clearInterval(s.current)}}),[t]);var h=function(){var e=(0,x.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,dt.Z)(t.ref,{kpsVersion:t.kpsVersion});case 2:e.sent&&(clearInterval(s.current),r.onProjectPostgrestStatusUpdated(t.id,"ONLINE"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mx-auto my-16 w-full max-w-7xl space-y-16",children:(0,u.jsxs)("div",{className:"mx-6 space-y-16",children:[(0,u.jsxs)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:space-y-0 lg:space-x-6",children:[(0,u.jsx)("h1",{className:"text-3xl",children:t.name}),(0,u.jsx)("div",{children:(0,u.jsx)($.Z,{color:"brand",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(st.Z,{className:"animate-spin",size:12}),(0,u.jsx)("span",{children:"Connecting to project"})]})})})]}),(0,u.jsx)("div",{className:"flex h-[500px] items-center justify-center rounded border border-scale-400 bg-scale-300 p-8",children:(0,u.jsxs)("div",{className:"w-[420px] space-y-4",children:[(0,u.jsxs)("div",{className:"mx-auto flex max-w-[300px] items-center justify-center space-x-4 lg:space-x-8",children:[(0,u.jsx)(at.Z,{className:"text-scale-1100",size:50,strokeWidth:1.5}),(0,u.jsx)(ut.Z,{active:!0}),(0,u.jsx)(ct,{className:"text-scale-1100",size:50,strokeWidth:1.5})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsxs)("p",{className:"text-center",children:["Connecting to ",t.name]}),(0,u.jsx)("p",{className:"cursor-pointer text-center text-sm text-scale-1100 opacity-60 transition hover:opacity-100",onClick:function(){return f(!0)},children:"This may take a few minutes"})]}),(0,u.jsx)("div",{className:"flex flex-col items-center",children:o&&(0,u.jsx)(l.z,{type:"default",onClick:function(){return f(!0)},children:"Still connecting?"})})]})})]})}),(0,u.jsx)(lt.C,{visible:m,onCancel:function(){return f(!1)},header:(0,u.jsx)("div",{className:"flex items-baseline gap-2",children:(0,u.jsx)("h5",{className:"text-sm text-scale-1200",children:"Checking the health of your database"})}),size:"medium",hideFooter:!0,closable:!0,children:(0,u.jsx)("div",{className:"py-4",children:(0,u.jsx)(lt.C.Content,{children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("p",{className:"text-sm text-scale-1200",children:["Your project might be facing resource constraints and hence is having trouble connecting. You can verify this by checking your"," ",(0,u.jsx)("span",{className:"text-brand-1000",children:(0,u.jsx)(c(),{href:"/project/".concat(t.ref,"/settings/database"),children:(0,u.jsx)("a",{children:"database's health"})})})," ","or your remaining daily disk IO budget via a"," ",(0,u.jsx)("span",{className:"text-brand-1000",children:(0,u.jsx)(c(),{href:"/project/".concat(t.ref,"/reports"),children:(0,u.jsx)("a",{children:"customizable project report"})})}),"."]}),(0,u.jsxs)("p",{className:"text-sm text-scale-1200",children:["If your project is facing resource constraints, you can"," ",(0,u.jsx)("span",{className:"text-brand-1000",children:(0,u.jsx)(c(),{href:"/project/".concat(t.ref,"/reports"),children:(0,u.jsx)("a",{children:"upgrade"})})})," ","your project's subscription to a Pro for access to larger compute sizes."]}),(0,u.jsxs)("p",{className:"text-sm text-scale-1200",children:["However, if your project still fails to connect thereafter, you can open a support ticket"," ",(0,u.jsx)("span",{className:"text-brand-1000",children:(0,u.jsx)(c(),{href:"/support/new?ref=".concat(t.ref),children:"here"})}),"."]})]})})})})]})})),mt=r(26160);function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ht=function(e){return(0,u.jsx)(de.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:mt.Z},e))},xt=function(e){var t=e.project;return(0,u.jsx)("div",{className:"mx-auto my-16 w-full max-w-7xl space-y-16",children:(0,u.jsxs)("div",{className:"mx-6 space-y-16",children:[(0,u.jsxs)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:space-y-0 lg:space-x-6",children:[(0,u.jsx)("h1",{className:"text-3xl",children:t.name}),(0,u.jsx)("div",{children:(0,u.jsx)($.Z,{color:"gray",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(st.Z,{className:"animate-spin",size:12}),(0,u.jsx)("span",{children:"Pausing project"})]})})})]}),(0,u.jsx)("div",{className:"mx-auto mt-8 mb-16 w-full max-w-7xl",children:(0,u.jsx)("div",{className:"mx-6 flex h-[500px] items-center justify-center rounded border border-scale-400 bg-scale-300 p-8",children:(0,u.jsxs)("div",{className:"grid w-[380px] gap-4",children:[(0,u.jsxs)("div",{className:"relative mx-auto max-w-[300px]",children:[(0,u.jsx)("div",{className:"absolute flex h-full w-full items-center justify-center",children:(0,u.jsx)(st.Z,{className:"animate-spin",size:20,strokeWidth:2})}),(0,u.jsx)(ht,{className:"text-scale-900",size:50,strokeWidth:1.5})]}),(0,u.jsxs)("p",{className:"text-center",children:["Pausing ",t.name]}),(0,u.jsx)("p",{className:"mt-4 text-center text-sm text-scale-1100",children:"You may restore your project anytime thereafter, and your data will be restored to when it was initially paused."})]})})})]})})},vt=r(65512),gt=r(34465),jt=r(95925),bt=r(941);function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ot=(0,s.Pi)((function(e){var t=e.project,r=(0,i.oR)(),s=(r.ui,r.app),a=(0,n.useRef)();function o(){return d.apply(this,arguments)}function d(){return(d=(0,x.Z)(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Oe.GC)("".concat(f.T5,"/projects/").concat(t.ref,"/status"),{timeout:2e3});case 4:if(!(r=e.sent)||r.error){e.next=11;break}if(r.status!==f.S.ACTIVE_HEALTHY){e.next=11;break}return clearInterval(a.current),e.next=11,s.projects.fetchDetail(t.ref);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,n.useEffect)((function(){return a.current=window.setInterval(o,4e3),function(){clearInterval(a.current)}}),[]),(0,u.jsxs)("div",{className:"mx-auto my-16 w-full max-w-6xl items-center justify-center",children:[(0,u.jsxs)("div",{className:"mx-6 flex flex-col space-y-16",children:[(0,u.jsxs)("div",{className:" flex flex-col gap-4",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("h1",{className:"text-3xl text-scale-1200",children:null===t||void 0===t?void 0:t.name}),(0,u.jsx)($.Z,{color:"brand",children:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(st.Z,{className:"animate-spin",size:12}),(0,u.jsx)("span",{children:t.status===f.S.RESTORING?"Restoring project":"Setting up project"})]})})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"text-sm text-scale-1100",children:[" ","We are provisioning your database and API endpoints"]}),(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:" This may take a few minutes"})]})]}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:" grid grid-cols-12 gap-12",children:[(0,u.jsxs)("div",{className:"col-span-12 space-y-12 lg:col-span-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"text-base text-scale-1200",children:"While you wait"}),(0,u.jsx)(Nt,{description:(0,u.jsxs)("p",{className:"text-sm text-scale-1100",children:["Browse the Supabase"," ",(0,u.jsx)(c(),{href:"https://supabase.com/docs",children:(0,u.jsx)("a",{className:"mb-0 text-brand-900 transition-colors hover:text-brand-1200",target:"_blank",rel:"noreferrer",children:"documentation"})}),"."]})})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"text-base text-scale-1200",children:"Not working?"}),(0,u.jsx)(Nt,{description:(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:"Try refreshing after a couple of minutes."})}),(0,u.jsx)("ul",{children:(0,u.jsx)(Nt,{description:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{className:"mb-4 text-sm text-scale-1100",children:"If your dashboard hasn't connected within 2 minutes, you can open a support ticket."}),(0,u.jsx)(c(),{href:"/support/new",children:(0,u.jsx)("a",{children:(0,u.jsx)(l.z,{type:"default",children:"Contact support team"})})})]})})})]})]}),(0,u.jsxs)("div",{className:"col-span-12  lg:col-span-8",children:[(0,u.jsx)(bt.D,{}),(0,u.jsx)(bt.m,{})]})]})})]}),t.status===f.S.COMING_UP&&(0,u.jsxs)("div",{className:"mx-auto my-16 w-full max-w-7xl space-y-16",children:[(0,u.jsxs)("div",{className:"space-y-8",children:[(0,u.jsx)("div",{className:"mx-6",children:(0,u.jsx)("h5",{children:"Client libraries"})}),(0,u.jsx)("div",{className:"mx-6 mb-12 grid gap-12 md:grid-cols-3",children:jt.l.map((function(e){return(0,u.jsx)(gt.Z,wt({},e),e.language)}))})]}),(0,u.jsxs)("div",{className:"space-y-8",children:[(0,u.jsx)("div",{className:"mx-6",children:(0,u.jsx)("h5",{children:"Example projects"})}),(0,u.jsx)("div",{className:"mx-6 grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:jt.B.map((function(e){return(0,u.jsx)(vt.Z,wt({},e),e.url)}))})]})]})]})})),Nt=function(e){var t=e.description;return(0,u.jsxs)("li",{className:"my-3 flex flex-wrap space-x-3",children:[(0,u.jsx)("div",{className:"mt-0.5",children:(0,u.jsx)(Fe.Z,{className:"text-scale-900",size:"tiny"})}),(0,u.jsx)("div",{className:"flex-1",children:t})]})},kt=r(44602),Pt=r(33769),St=function(e){(0,D.Z)(e);var t=(0,i.oR)(),r=t.app,s=t.ui,a=t.meta,o=s.selectedProject,d=(0,n.useRef)(),p=(0,n.useState)(!1),m=p[0],h=p[1],v=(0,n.useState)(!1),j=v[0],b=v[1],y=(0,n.useState)(!1),w=y[0],O=y[1];function N(){return k.apply(this,arguments)}function k(){return(k=(0,x.Z)(g().mark((function e(){var t,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,Oe.GC)("".concat(f.T5,"/projects/").concat(o.ref,"/status"),{timeout:2e3});case 4:(t=e.sent)&&!t.error&&((r=t.status)===f.S.RESTORATION_FAILED?(clearInterval(d.current),b(!0)):r===f.S.ACTIVE_HEALTHY&&(clearInterval(d.current),O(!0)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,n.useEffect)((function(){return d.current=window.setInterval(N,4e3),function(){return clearInterval(d.current)}}),[]);var P=function(){var e=(0,x.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,r.projects.fetchDetail(null!==(t=null===o||void 0===o?void 0:o.ref)&&void 0!==t?t:"",(function(e){return a.setProjectDetails(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,u.jsx)("div",{className:"bg-scale-300 border border-scale-400 rounded-md w-3/4 lg:w-1/2",children:w?(0,u.jsxs)("div",{className:"space-y-6 pt-6",children:[(0,u.jsxs)("div",{className:"flex px-8 space-x-8",children:[(0,u.jsx)("div",{className:"mt-1",children:(0,u.jsx)(kt.Z,{className:"text-brand-900",size:18,strokeWidth:2})}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{children:"Restoration complete!"}),(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:"Your project has been successfully restored and is now back online."})]})]}),(0,u.jsx)("div",{className:"border-t border-scale-400 flex items-center justify-end py-4 px-8",children:(0,u.jsx)(l.z,{disabled:m,loading:m,onClick:P,children:"Return to project"})})]}):j?(0,u.jsxs)("div",{className:"space-y-6 pt-6",children:[(0,u.jsxs)("div",{className:"flex px-8 space-x-8",children:[(0,u.jsx)("div",{className:"mt-1",children:(0,u.jsx)(Pt.Z,{size:18,strokeWidth:2})}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{children:"Something went wrong while restoring your project"}),(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:"Our engineers have already been notified of this, do hang tight while we are investigating into the issue."})]})]}),j&&(0,u.jsx)("div",{className:"border-t border-scale-400 flex items-center justify-end py-4 px-8",children:(0,u.jsx)(c(),{href:"/support/new?category=Database_unresponsive&ref=".concat(null===o||void 0===o?void 0:o.ref,"&subject=Restoration%20failed%20for%20project"),children:(0,u.jsx)("a",{children:(0,u.jsx)(l.z,{type:"default",children:"Contact support"})})})})]}):(0,u.jsx)("div",{className:"space-y-6 py-6",children:(0,u.jsxs)("div",{className:"flex px-8 space-x-8",children:[(0,u.jsx)("div",{className:"mt-1",children:(0,u.jsx)(st.Z,{className:"animate-spin",size:18})}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{children:"Restoration in progress"}),(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:"Restoration can take from a few minutes up to several hours depending on the size of your database. Your project will be offline while the restoration is running."})]})]})})})})},_t=r(93942),Zt=r(78651),Ct=r(66804),Et=r(25024),It=[{key:Et.L9.Started,initial:"Prepare new server",progress:"Preparing new server",completed:"Prepared new server"},{key:Et.L9.LaunchedUpgradedInstance,initial:"Prepare new server for migration",progress:"Preparing new server for migration",completed:"New server ready for migration"},{key:Et.L9.DetachedVolumeFromUpgradedInstance,initial:"Execute pre-upgrade checks",progress:"Executing pre-upgrade checks",completed:"Completed pre-upgrade checks"},{key:Et.L9.AttachedVolumeToOriginalInstance,initial:"Shut down API services",progress:"Shutting down API services",completed:"Completed shutting down API services"},{key:Et.L9.InitiatedDataUpgrade,initial:"Migrate to new database",progress:"Migrating to new database",completed:"Completed migration to new database"},{key:Et.L9.CompletedDataUpgrade,initial:"Execute database migration",progress:"Executing database migration",completed:"Completed database migration"},{key:Et.L9.DetachedVolumeFromOriginalInstance,initial:"Update database extensions",progress:"Updating database extensions",completed:"Updated database extensions"},{key:Et.L9.AttachedVolumeToUpgradedInstance,initial:"Optimize database",progress:"Optimizing database",completed:"Completed optimization of database"}],Dt=r(86051),Rt=function(){var e,t,r=(0,E.UO)().ref,s=(0,i.oR)(),a=s.app,o=s.ui,d=s.meta,p=(0,n.useState)(!1),m=p[0],h=p[1],v=(0,n.useState)(!1),j=v[0],b=v[1],y=(0,Dt.h1)({projectRef:r,projectStatus:null===(e=o.selectedProject)||void 0===e?void 0:e.status},{enabled:f.Qy}).data,w=o.selectedProject,O=null!==(t=null===y||void 0===y?void 0:y.databaseUpgradeStatus)&&void 0!==t?t:{},N=O.initiated_at,k=O.status,P=O.progress,S=O.target_version,_=O.error,Z=Number((P||"").split("_")[0]),C=k===Et.h.Failed,I=k===Et.h.Upgraded,D=Te()(null!==N&&void 0!==N?N:0).format("DD MMM YYYY HH:mm:ss (ZZ)"),R=Te()(null!==N&&void 0!==N?N:0).utc().format("DD MMM YYYY HH:mm:ss"),T=function(){var e=(0,x.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,a.projects.fetchDetail(null!==(t=null===w||void 0===w?void 0:w.ref)&&void 0!==t?t:"",(function(e){return d.setProjectDetails(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A="Upgrade information:%0A\u2022 Initiated at: ".concat(N,"%0A\u2022 Target Version: ").concat(S,"%0A\u2022 Error: ").concat(_);return(0,u.jsx)("div",{className:"w-full mx-auto my-16 space-y-16 max-w-7xl",children:(0,u.jsxs)("div",{className:"mx-6 space-y-16",children:[(0,u.jsx)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:space-y-0 lg:space-x-6",children:(0,u.jsx)("h1",{className:"text-3xl",children:null===w||void 0===w?void 0:w.name})}),(0,u.jsx)("div",{className:"w-full mx-auto mt-8 mb-16 max-w-7xl",children:(0,u.jsx)("div",{className:"flex h-[500px] items-center justify-center rounded border border-scale-400 bg-scale-300 p-8",children:I?(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsx)("div",{className:"relative mx-auto max-w-[300px]",children:(0,u.jsx)(kt.Z,{className:"text-brand-900",size:40,strokeWidth:1.5})}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("p",{className:"text-center",children:"Upgrade completed!"}),(0,u.jsxs)("p",{className:"mt-4 text-center text-sm text-scale-1100 w-[300px] mx-auto",children:["Your project has been successfully upgraded to Postgres ",S," and is now back online."]})]}),(0,u.jsx)("div",{className:"mx-auto",children:(0,u.jsx)(l.z,{loading:m,disabled:m,onClick:T,children:"Return to project"})})]}):C?(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsx)("div",{className:"relative mx-auto max-w-[300px]",children:(0,u.jsx)(Pt.Z,{className:"text-amber-900",size:40,strokeWidth:1.5})}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("p",{className:"text-center",children:"We ran into an issue while upgrading your project"}),(0,u.jsx)("p",{className:"mt-4 text-center text-sm text-scale-1100 w-[450px] mx-auto",children:"Your project is back online and its data is not affected. Please reach out to us via our support form for assistance with the upgrade."})]}),(0,u.jsxs)("div",{className:"flex items-center mx-auto space-x-2",children:[(0,u.jsx)(c(),{href:"/support/new?category=Database_unresponsive&ref=".concat(r,"&subject=").concat("Upgrade%20failed%20for%20project","&message=").concat(A),children:(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,u.jsx)(l.z,{type:"default",children:"Contact support"})})}),(0,u.jsx)(l.z,{loading:m,disabled:m,onClick:T,children:"Return to project"})]})]}):(0,u.jsxs)("div",{className:"grid w-[480px] gap-4",children:[(0,u.jsxs)("div",{className:"relative mx-auto max-w-[300px]",children:[(0,u.jsx)("div",{className:"absolute flex items-center justify-center w-full h-full",children:(0,u.jsx)(z.Z,{className:"animate-spin",size:20,strokeWidth:2})}),(0,u.jsx)(ht,{className:"text-scale-900",size:50,strokeWidth:1.5})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("p",{className:"text-center",children:"Upgrading in progress"}),(0,u.jsx)("p",{className:"text-sm text-center text-scale-1100",children:"Upgrades can take from a few minutes up to several hours depending on the size of your database. Your project will be offline while it is being upgraded."}),(0,u.jsxs)("div",{className:"!mt-4 !mb-2 py-3 px-4 transition-all overflow-hidden border rounded relative",style:{maxHeight:j?"500px":"110px"},children:[j?(0,u.jsx)(_t.Z,{size:"tiny",strokeWidth:2,className:"absolute z-10 cursor-pointer top-3 right-3",onClick:function(){return b(!1)}}):(0,u.jsx)(Zt.Z,{size:"tiny",strokeWidth:2,className:"absolute z-10 cursor-pointer top-3 right-3",onClick:function(){return b(!0)}}),(0,u.jsx)("div",{className:"space-y-2 transition-all",style:{translate:j?"0px 0px":"0px ".concat(-28*(Z-2<=0?0:Z>6?5:Z-2),"px")},children:It.map((function(e,t){var r=e.key===P,n=Z>t;return(0,u.jsxs)("div",{className:"flex items-center space-x-4",children:[r?(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 rounded-full",children:(0,u.jsx)(st.Z,{size:20,className:"animate-spin text-scale-1100",strokeWidth:2})}):n?(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 border rounded-full bg-brand-800 border-brand-700",children:(0,u.jsx)(Ct.Z,{size:12,className:"text-white",strokeWidth:2})}):(0,u.jsx)("div",{className:"flex items-center justify-center w-5 h-5 border rounded-full bg-scale-600"}),(0,u.jsx)("p",{className:"text-sm ".concat(r?"text-scale-1200":n?"text-scale-1100":"text-scale-1000"," hover:text-scale-1200 transition"),children:r?e.progress:n?e.completed:e.initial})]},e.key)}))})]}),void 0!==N&&(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{className:"w-full",children:(0,u.jsxs)("p",{className:"text-sm text-center text-scale-1000",children:["Started on: ",R," (UTC)"]})}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200",children:D})})]})})]})]})]})})})]})})},Tt=Rt,At=r(87574),zt=function(e){var t,r,n,s=e.title,o=e.isLoading,c=void 0!==o&&o,l=e.product,d=void 0===l?"":l,p=e.productMenu,m=e.children,h=e.hideHeader,x=void 0!==h&&h,v=e.hideIconBar,g=void 0!==v&&v,j=e.selectedTable,b=(0,i.oR)().ui,y=(0,a.useRouter)(),w=(0,E.UO)().ref,O=(0,i.P5)("ongoingIncident"),k=null===(t=b.selectedProject)||void 0===t?void 0:t.name,P=null===(r=b.selectedOrganization)||void 0===r?void 0:r.name,S=(null===(n=b.selectedProject)||void 0===n?void 0:n.status)===f.S.INACTIVE,_="/project/[ref]"===y.pathname||y.pathname.includes("/project/[ref]/settings"),Z=S&&!_;return(0,u.jsxs)(rt.Ml,{projectRef:w,children:[(0,u.jsxs)(N(),{children:[(0,u.jsx)("title",{children:s?"".concat(s," | Supabase"):j?"".concat(j," | ").concat(k," | ").concat(P," | Supabase"):k?"".concat(k," | ").concat(P," | Supabase"):P?"".concat(P," | Supabase"):"Supabase"}),(0,u.jsx)("meta",{name:"description",content:"Supabase Studio"})]}),(0,u.jsxs)("div",{className:"flex h-full",children:[!g&&(0,u.jsx)(K,{}),!Z&&(0,u.jsx)(Mt,{isLoading:c,productMenu:p,children:(0,u.jsx)(J,{title:d,children:p})}),(0,u.jsxs)("main",{className:"flex flex-col flex-1 w-full overflow-x-hidden",style:{height:O?"calc(100vh - 44px)":"100vh"},children:[!x&&(0,u.jsx)(nt,{}),Z?(0,u.jsx)("div",{className:"mx-auto my-16 w-full h-full max-w-7xl flex items-center",children:(0,u.jsx)("div",{className:"w-full",children:(0,u.jsx)(At.Z,{product:d})})}):(0,u.jsx)(Ut,{isLoading:c,children:m})]})]})]})},Lt=(0,i.QO)((0,s.Pi)(zt)),Ft=(0,s.Pi)(zt),Mt=(0,s.Pi)((function(e){var t=e.isLoading,r=e.productMenu,n=e.children,s=(0,i.oR)().ui;return(0,u.jsx)(u.Fragment,{children:!t&&r&&void 0!==s.selectedProject?n:null})})),Ut=(0,s.Pi)((function(e){var t,r,s,o,c,l=e.isLoading,d=e.children,p=(0,i.oR)().ui,m=(0,a.useRouter)(),h="/project/[ref]/settings/general"!==m.pathname,x=!["/project/[ref]/reports","/project/[ref]/settings/general","/project/[ref]/settings/database","/project/[ref]/settings/billing/subscription","/project/[ref]/settings/billing/usage","/project/[ref]/settings/billing/invoices","/project/[ref]/settings/billing/update","/project/[ref]/settings/billing/update/free","/project/[ref]/settings/billing/update/pro"].includes(m.pathname),v=(null===(t=p.selectedProject)||void 0===t?void 0:t.status)===f.S.UPGRADING,g=(null===(r=p.selectedProject)||void 0===r?void 0:r.status)===f.S.RESTORING,j=(null===(s=p.selectedProject)||void 0===s?void 0:s.status)===f.S.COMING_UP,b=(null===(o=p.selectedProject)||void 0===o?void 0:o.status)===f.S.GOING_DOWN,y="OFFLINE"===(null===(c=p.selectedProject)||void 0===c?void 0:c.postgrestStatus);return(0,u.jsx)(u.Fragment,{children:l||void 0===p.selectedProject?(0,u.jsx)(I.Z,{}):v?(0,u.jsx)(Tt,{}):b?(0,u.jsx)(xt,{project:p.selectedProject}):x&&y?(0,u.jsx)(pt,{project:p.selectedProject}):h&&g?(0,u.jsx)(St,{}):h&&j?(0,u.jsx)(Ot,{project:p.selectedProject}):(0,u.jsx)(n.Fragment,{children:d},p.selectedProject.ref)})})),qt=(0,s.Pi)((function(e){var t,r=e.title,n=e.product,s=void 0===n?"":n,o=e.productMenu,c=e.children,l=e.hideHeader,d=void 0!==l&&l,p=e.hideIconBar,m=void 0!==p&&p,h=(0,i.oR)().ui,x=(0,a.useRouter)(),v=(0,E.UO)().ref,g=(0,i.P5)("ongoingIncident"),j=(null===(t=h.selectedProject)||void 0===t?void 0:t.status)===f.S.INACTIVE,b="/project/[ref]"===x.pathname||x.pathname.includes("/project/[ref]/settings"),y=j&&!b;return(0,u.jsxs)(rt.Ml,{projectRef:v,children:[(0,u.jsxs)(N(),{children:[(0,u.jsx)("title",{children:r?"".concat(r," | Supabase"):"Supabase"}),(0,u.jsx)("meta",{name:"description",content:"Supabase Studio"}),(0,u.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,u.jsxs)("div",{className:"flex h-full",children:[!m&&(0,u.jsx)(K,{}),o&&!y&&(0,u.jsx)(J,{title:s,children:o}),(0,u.jsxs)("main",{className:"flex w-full flex-1 flex-col overflow-x-hidden",style:{height:g?"calc(100vh - 44px)":"100vh"},children:[!d&&(0,u.jsx)(nt,{}),y?(0,u.jsx)("div",{className:"mx-auto my-16 w-full h-full max-w-7xl flex items-center",children:(0,u.jsx)("div",{className:"w-full",children:(0,u.jsx)(At.Z,{product:s})})}):c]})]})]})})),Bt=r(68043),Ht=r(76309),Wt=r(86949),Gt=r(34860),Yt=r(98631),Vt=(0,Wt.sj)({projectRef:void 0,loadedIds:(0,Yt.C6)([]),addLoadedId:function(e,t){e!==Vt.projectRef&&(Vt.loadedIds.clear(),Vt.projectRef=e),Vt.loadedIds.add(t)}}),Qt=function(e){return(0,Gt.RK)(Vt,e)},Kt=r(58728),Jt=r(67863),Xt=r(37772),$t=r(68464),er=r(95992),tr=r(58069),rr=r(89301),nr=r(86010),sr=r(3108),ar=r(86223),ir=r(44315),or=r(51664),cr=function(e){var t,r,n,s=e.id,a=e.projectRef,i=e.item,o=e.isLocked,l=e.onEditTable,d=e.onDeleteTable,p=e.onDuplicateTable,m=e.isLoadingTableMetadata,h=Number(s)===i.id;return(0,u.jsxs)("div",{className:(0,nr.Z)("group flex items-center justify-between rounded-md",h&&"text-scale-1200 bg-scale-300"),children:[(0,u.jsx)(c(),{href:"/project/".concat(a,"/editor/").concat(i.id),children:(0,u.jsxs)("a",{className:"flex items-center py-1 px-3 w-full space-x-3 max-w-[90%]",children:[(0,u.jsxs)(Y.fC,{delayDuration:0,disableHoverableContent:!0,children:[(0,u.jsx)(Y.xz,{className:"flex items-center",children:i.type===Ht.l.TABLE?(0,u.jsx)(W.Z,{className:"table-icon",src:"".concat(f.GW,"/img/icons/table-icon.svg"),style:{width:"16px",height:"16px",strokeWidth:"1px"},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}):i.type===Ht.l.VIEW?(0,u.jsx)(W.Z,{className:"view-icon",src:"".concat(f.GW,"/img/icons/view-icon.svg"),style:{width:"16px",height:"16px",strokeWidth:"1px"},preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}):(0,u.jsx)("div",{className:(0,nr.Z)("flex items-center justify-center text-xs h-4 w-4 rounded-[2px] font-bold",i.type===Ht.l.FOREIGN_TABLE&&"text-yellow-900 bg-yellow-500",i.type===Ht.l.MATERIALIZED_VIEW&&"text-purple-1000 bg-purple-500",i.type===Ht.l.PARTITIONED_TABLE&&"text-scale-1100 bg-scale-800"),children:null===(t=Object.entries(Ht.l).find((function(e){return(0,fe.Z)(e,2)[1]===i.type})))||void 0===t||null===(r=t[0])||void 0===r||null===(n=r[0])||void 0===n?void 0:n.toUpperCase()})}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200 capitalize",children:function(e){var t,r,n,s;return null===(t=Object.entries(Ht.l).find((function(t){return(0,fe.Z)(t,2)[1]===e})))||void 0===t||null===(r=t[0])||void 0===r||null===(n=r.toLowerCase())||void 0===n||null===(s=n.split("_"))||void 0===s?void 0:s.join(" ")}(i.type)})})]})})]}),(0,u.jsx)("p",{className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition max-w-[85%] overflow-hidden text-ellipsis whitespace-nowrap",children:i.name.length>20?(0,u.jsxs)(Y.fC,{delayDuration:0,disableHoverableContent:!0,children:[(0,u.jsx)(Y.xz,{className:"max-w-[95%] overflow-hidden text-ellipsis whitespace-nowrap",children:i.name}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200",children:i.name})})]})})]}):i.name})]})}),(0,u.jsx)("div",{className:"pr-3",children:i.type===Ht.l.TABLE&&h&&!o&&(0,u.jsx)(A.ZP,{size:"small",side:"bottom",align:"start",overlay:[(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(Jt.Z,{size:"tiny"}),onClick:function(e){e.stopPropagation(),l(i)},disabled:m,children:"Edit Table"},"edit-table"),(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(sr.Z,{size:"tiny"}),onClick:function(e){e.stopPropagation(),p(i)},disabled:m,children:"Duplicate Table"},"duplicate-table"),(0,u.jsx)(c(),{href:"/project/".concat(a,"/auth/policies?search=").concat(i.id),children:(0,u.jsx)("a",{children:(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(ar.Z,{size:"tiny"}),children:"View Policies"},"delete-table")})},"view-policies"),(0,u.jsx)(A.ZP.Separator,{},"separator"),(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(ir.Z,{size:"tiny"}),onClick:function(e){e.stopPropagation(),d(i)},disabled:m,children:"Delete Table"},"delete-table")],children:(0,u.jsx)("div",{className:"text-scale-900 transition-colors hover:text-scale-1200",children:(0,u.jsx)(or.Z,{size:14,strokeWidth:2})})})})]})},lr=(0,s.Pi)((function(e){var t,r,s,a=e.selectedSchema,o=e.onSelectSchema,c=void 0===o?R.noop:o,d=e.onAddTable,p=void 0===d?R.noop:d,m=e.onEditTable,f=void 0===m?R.noop:m,h=e.onDeleteTable,v=void 0===h?R.noop:h,j=e.onDuplicateTable,b=void 0===j?R.noop:j,y=(0,i.oR)().meta,w=(0,E.UO)().id,O=(0,n.useState)(""),N=O[0],k=O[1],P=(0,i._)("table-editor-sort","alphabetical"),S=(0,fe.Z)(P,2),_=S[0],Z=S[1],C=(0,rt.d2)().project,I=(0,tr.H)({projectRef:null===C||void 0===C?void 0:C.ref,connectionString:null===C||void 0===C?void 0:C.connectionString,schema:a,search:N||void 0,sort:_},{keepPreviousData:!0}),D=I.data,T=I.isLoading,z=I.refetch,L=I.isRefetching,F=I.hasNextPage,M=I.isFetchingNextPage,U=I.fetchNextPage,q=I.isPreviousData,B=null===D||void 0===D||null===(t=D.pages)||void 0===t?void 0:t[0].data.count,H=(0,n.useMemo)((function(){return null===D||void 0===D?void 0:D.pages.flatMap((function(e){return e.data.entities}))}),[null===D||void 0===D?void 0:D.pages]),W=y.schemas.list(),G=W.find((function(e){return e.name===a})),V=(0,i.FH)(Bt.KA.TENANT_SQL_ADMIN_WRITE,"tables"),Q=!w||!y.tables.byId(w),K=function(){var e=(0,x.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=(0,R.partition)(W,(function(e){var t;return y.excludedSchemas.includes(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"")})),X=(0,fe.Z)(J,2),$=X[0],te=X[1],re=$.some((function(e){return e.id===(null===G||void 0===G?void 0:G.id)}));return(0,u.jsxs)("div",{className:"pt-6 flex flex-col flex-grow space-y-6 h-full",style:{maxHeight:"calc(100vh - 48px)"},children:[(0,u.jsx)("div",{className:"px-3 mx-4",children:y.schemas.isInitialized?(0,u.jsxs)(Kt.Z,{size:"tiny",value:a,onChange:function(e){k(""),c(e)},children:[(0,u.jsx)(Kt.Z.Option,{disabled:!0,value:"normal-schemas",label:"Schemas",className:"!w-[200px]",children:(0,u.jsx)("p",{className:"text-xs text-scale-1100",children:"Schemas"})},"normal-schemas"),te.map((function(e){return(0,u.jsx)(Kt.Z.Option,{value:e.name,label:e.name,className:"!w-[200px]",addOnBefore:function(){return(0,u.jsx)("span",{className:"text-scale-900 text-xs",children:"schema"})},children:(0,u.jsx)("span",{className:"text-scale-1200 text-xs",children:e.name})},e.id)})),(0,u.jsx)(Kt.Z.Option,{disabled:!0,value:"protected-schemas",label:"Protected schemas",className:"!w-[200px]",children:(0,u.jsx)("p",{className:"text-xs text-scale-1100",children:"Protected schemas"})},"protected-schemas"),$.map((function(e){return(0,u.jsx)(Kt.Z.Option,{value:e.name,label:e.name,className:"!w-[200px]",addOnBefore:function(){return(0,u.jsx)("span",{className:"text-scale-900 text-xs",children:"schema"})},children:(0,u.jsx)("span",{className:"text-scale-1200 text-xs",children:e.name})},e.id)}))]}):(0,u.jsxs)("div",{className:"flex h-[26px] items-center space-x-3 rounded border border-gray-500 px-3",children:[(0,u.jsx)(st.Z,{className:"animate-spin",size:12}),(0,u.jsx)("span",{className:"text-xs text-scale-900",children:"Loading schemas..."})]})}),(0,u.jsxs)("div",{className:"space-y-1 mx-4",children:[!re&&(0,u.jsx)("div",{className:"px-3",children:(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{className:"w-full",children:(0,u.jsx)(l.z,{block:!0,as:"span",disabled:!V,size:"tiny",icon:(0,u.jsx)("div",{className:"text-scale-900",children:(0,u.jsx)(Jt.Z,{size:14,strokeWidth:1.5})}),type:"default",style:{justifyContent:"start"},onClick:p,children:"New table"})}),!V&&(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to create tables"})})]})})]})}),(0,u.jsx)("div",{className:"mb-2 block px-3",children:(0,u.jsx)(xe.Z,{className:"table-editor-search border-none",icon:q?(0,u.jsx)(st.Z,{className:"animate-spin text-scale-900",size:12,strokeWidth:1.5}):(0,u.jsx)(ee.Z,{className:"text-scale-900",size:12,strokeWidth:1.5}),placeholder:"Search tables",onChange:function(e){return k(e.target.value.trim())},value:N,size:"tiny",actions:N&&(0,u.jsx)(l.z,{size:"tiny",type:"text",onClick:function(){return k("")},children:(0,u.jsx)(ve.Z,{size:12,strokeWidth:2})})})})]}),T?(0,u.jsxs)("div",{className:"mx-7 flex items-center space-x-2",children:[(0,u.jsx)(st.Z,{className:"animate-spin",size:14,strokeWidth:1.5}),(0,u.jsx)("p",{className:"text-sm text-scale-1000",children:"Loading entities..."})]}):0===N.length&&0===(null!==(r=null===H||void 0===H?void 0:H.length)&&void 0!==r?r:0)?(0,u.jsxs)("div",{className:"mx-7 space-y-1 rounded-md border border-scale-400 bg-scale-300 py-3 px-4",children:[(0,u.jsx)("p",{className:"text-xs",children:"No entities available"}),(0,u.jsx)("p",{className:"text-xs text-scale-1100",children:"This schema has no entities available yet"})]}):N.length>0&&0===(null!==(s=null===H||void 0===H?void 0:H.length)&&void 0!==s?s:0)?(0,u.jsxs)("div",{className:"mx-7 space-y-1 rounded-md border border-scale-400 bg-scale-300 py-3 px-4",children:[(0,u.jsx)("p",{className:"text-xs",children:"No results found"}),(0,u.jsx)("p",{className:"text-xs text-scale-1100",children:"There are no entities that match your search"})]}):(0,u.jsxs)(Xt.ZP,{type:"pills",className:"flex flex-auto px-4 space-y-6 pb-4",ulClassName:"flex flex-auto flex-col",children:[(0,u.jsx)(Xt.ZP.Group,{title:(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,u.jsx)("p",{children:"Tables"}),void 0!==B&&(0,u.jsxs)("p",{style:{fontVariantNumeric:"tabular-nums"},children:["(",B,")"]})]}),(0,u.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,u.jsx)(A.ZP,{size:"small",side:"bottom",align:"start",style:{zIndex:1},overlay:[(0,u.jsx)(A.ZP.Item,{icon:"alphabetical"===_?(0,u.jsx)(Ct.Z,{size:"tiny"}):(0,u.jsx)("div",{className:"w-[14px] h-[14px]"}),onClick:function(){Z("alphabetical")},children:"Alphabetical"},"alphabetical"),(0,u.jsx)(A.ZP.Item,{icon:"grouped-alphabetical"===_?(0,u.jsx)(Ct.Z,{size:"tiny"}):(0,u.jsx)("div",{className:"w-[14px] h-[14px]"}),onClick:function(){Z("grouped-alphabetical")},children:"Entity Type"},"grouped-alphabetical")],children:(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{asChild:!0,children:(0,u.jsx)("div",{className:"text-scale-900 transition-colors hover:text-scale-1200",children:(0,u.jsx)($t.Z,{size:18,strokeWidth:1})})}),(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,u.jsx)("span",{className:"text-xs",children:"Sort By"})})]})})]})}),(0,u.jsx)("button",{className:"cursor-pointer text-scale-900 transition-colors hover:text-scale-1200",onClick:K,children:(0,u.jsx)(er.Z,{className:L?"animate-spin":"",size:14})})]})]})})}),(0,u.jsx)("div",{className:"flex flex-1",children:(0,u.jsx)(rr.Z,{items:H,ItemComponent:cr,itemProps:{projectRef:null===C||void 0===C?void 0:C.ref,id:Number(w),onEditTable:f,onDeleteTable:v,onDuplicateTable:b,isLoadingTableMetadata:Q},getItemSize:function(){return 28},hasNextPage:F,isLoadingNextPage:M,onLoadNextPage:function(){return U()}})})]})]})})),ur=r(38230),dr=r(98248),pr=r(62771),mr=r(21246),fr=r(97033),hr=r(29026);var xr=function(){var e=(0,i.x3)({arrayKeys:["sort","filter"]}),t=(0,fe.Z)(e,1)[0],r=t.sort,s=t.filter,a=(0,fr.rg)(r),o=(0,fr.Yb)(s),c=(0,rt.d2)().project,l=(0,hr.Xj)();return(0,n.useCallback)((function(e){return l({queryKey:[e.schema,e.name],projectRef:null===c||void 0===c?void 0:c.ref,connectionString:null===c||void 0===c?void 0:c.connectionString,table:e,sorts:a,filters:o,page:1,limit:100})}),[c,a,o])},vr=(0,s.Pi)((function(e){var t,r,s=e.selectedSchema,o=e.selectedTable,c=e.onSelectSchema,l=void 0===c?R.noop:c,d=e.onAddTable,p=void 0===d?R.noop:d,m=e.onEditTable,f=void 0===m?R.noop:m,h=e.onDeleteTable,v=void 0===h?R.noop:h,j=e.onDuplicateTable,b=void 0===j?R.noop:j,y=e.children,w=(0,i.oR)(),O=w.vault,N=w.meta,k=w.ui,P=(0,a.useRouter)(),S=(0,E.UO)(),_=S.ref,Z=S.id,C=Z?Number(Z):void 0,I=Qt(),D=(0,i.FH)(Bt.KA.TENANT_SQL_ADMIN_READ,"tables"),T=N.extensions.byId("supabase_vault"),A=void 0!==T&&null!==T.installed_version;(0,n.useEffect)((function(){var e;null!==(e=k.selectedProject)&&void 0!==e&&e.ref&&(N.schemas.load(),N.types.load(),N.policies.load(),N.publications.load(),N.extensions.load())}),[null===(t=k.selectedProject)||void 0===t?void 0:t.ref]);var z=function(e,t){var r=Qt();return!(!e||!t)&&e===r.projectRef&&r.loadedIds.has(t)}(_,C),L=(0,dr.Z)(C,(function(e){_&&I.addLoadedId(_,e)})),F=(0,mr.Z)(xr());return(0,n.useEffect)((function(){var e,t=!0;return null===(e=function(){if(null!==L&&void 0!==L&&L.type)switch(L.type){case Ht.l.MATERIALIZED_VIEW:return N.materializedViews.loadById(L.id);case Ht.l.VIEW:return N.views.loadById(L.id);case Ht.l.FOREIGN_TABLE:return N.foreignTables.loadById(L.id);default:return N.tables.loadById(L.id)}}())||void 0===e||e.then(function(){var e=(0,x.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.current(t);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){t&&_&&I.addLoadedId(_,e.id)})).catch((function(){t&&null!==L&&void 0!==L&&L.id&&_&&I.addLoadedId(_,L.id)})),function(){t=!1}}),[null===L||void 0===L?void 0:L.id]),(0,n.useEffect)((function(){A&&O.load()}),[null===(r=k.selectedProject)||void 0===r?void 0:r.ref,A]),D?(0,u.jsx)(Bn,{product:"Table editor",selectedTable:o,productMenu:(0,u.jsx)(lr,{selectedSchema:s,onSelectSchema:l,onAddTable:p,onEditTable:f,onDeleteTable:v,onDuplicateTable:b}),children:P.isReady&&void 0!==C?z?y:(0,u.jsx)(pr.Z,{}):y}):(0,u.jsx)(Bn,{children:(0,u.jsx)(ur.Z,{isFullPage:!0,resourceText:"view tables from this project"})})})),gr=r(73443),jr=r(24954),br=r(58663),yr=r(90089),wr=r(94174),Or=["enabled"];function Nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pr(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,x.Z)(g().mark((function e(t,r){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t){e.next=2;break}throw new Error("projectRef is required for getContent");case 2:return e.next=4,(0,Oe.U2)("".concat(f.T5,"/projects/").concat(t,"/content"),{signal:r});case 4:if(!(n=e.sent).error){e.next=7;break}throw n.error;case 7:if(n){e.next=9;break}throw new Error("Content not found");case 9:return e.abrupt("return",{content:n.data});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.enabled,n=void 0===r||r,s=(0,yr.Z)(t,Or);return(0,qe.a)(wr.$.list(e),(function(t){var r=t.signal;return Pr(e,r)}),kr({enabled:n&&"undefined"!==typeof e},s))};function Zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Er(e){return"sql"===e.type}var Ir=r(51452),Dr=r(63840),Rr=r(48228),Tr=["onSuccess"];function Ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lr(e,t){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,x.Z)(g().mark((function e(t,r){var n,s,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectRef,s=t.id,e.next=3,(0,Oe.$v)("".concat(f.T5,"/projects/").concat(n,"/content?id=").concat(s),void 0,{signal:r});case 3:if(!(a=e.sent).error){e.next=6;break}throw a.error;case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,r=(0,yr.Z)(e,Tr),n=(0,j.NL)();return(0,Rr.D)((function(e){return Lr(e)}),zr({onSuccess:function(e,r,s){return(0,x.Z)(g().mark((function a(){var i;return g().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.projectRef,a.next=3,Promise.all([n.invalidateQueries(wr.$.list(i))]);case 3:return a.next=5,null===t||void 0===t?void 0:t(e,r,s);case 5:case"end":return a.stop()}}),a)})))()}},r))},Ur=r(93986),qr=r(77758),Br=function(e){var t=e.snippet,r=e.visible,n=e.onCancel,s=e.onComplete,a=(0,i.oR)().ui,o=(0,b.UO)().ref,c=(0,br.W2)(),d=t.id,p=t.name,m=t.description,f=function(){var e=(0,x.Z)(g().mark((function e(t,r){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.setSubmitting,o){e.next=3;break}return e.abrupt("return",console.error("Project ref is required"));case 3:if(d){e.next=5;break}return e.abrupt("return",console.error("Snippet ID is required"));case 5:return n(!0),e.prev=6,c.renameSnippet(d,t.name,t.description),s&&s(),e.abrupt("return",Promise.resolve());case 12:e.prev=12,e.t0=e.catch(6),a.setNotification({error:e.t0,category:"error",message:"Failed to rename query: ".concat(e.t0.message)});case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,r){return e.apply(this,arguments)}}();return(0,u.jsx)(lt.C,{visible:r,onCancel:n,hideFooter:!0,header:"Rename",size:"small",children:(0,u.jsx)(qr.Z,{onReset:n,validateOnBlur:!0,initialValues:{name:null!==p&&void 0!==p?p:"",description:null!==m&&void 0!==m?m:""},validate:function(e){var t={};return e.name||(t.name="Please enter a query name"),t},onSubmit:f,children:function(e){var t=e.isSubmitting;return(0,u.jsxs)("div",{className:"space-y-4 py-4",children:[(0,u.jsx)(lt.C.Content,{children:(0,u.jsx)(xe.Z,{label:"Name",id:"name",name:"name"})}),(0,u.jsx)(lt.C.Content,{children:(0,u.jsx)(xe.Z,{label:"Description",id:"description",placeholder:"Describe query"})}),(0,u.jsx)(lt.C.Separator,{}),(0,u.jsx)(lt.C.Content,{children:(0,u.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,u.jsx)(l.z,{htmlType:"reset",type:"default",onClick:n,disabled:t,children:"Cancel"}),(0,u.jsx)(l.z,{htmlType:"submit",loading:t,disabled:t,children:"Rename query"})]})})]})}})})},Hr=function(e){var t=e.tabInfo,r=(0,b.UO)(),s=r.ref,a=r.id,i=t||{},o=i.id,l=i.name,d=o===a,p=(0,n.useRef)(null);return(0,n.useEffect)((function(){d&&p.current&&setTimeout((function(){var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}),0)})),(0,u.jsxs)("div",{className:(0,nr.Z)("flex items-center justify-between rounded-md group",d&&"text-scale-1200 bg-scale-400 dark:bg-scale-300 -active"),ref:d?p:null,children:[(0,u.jsx)(c(),{href:"/project/".concat(s,"/sql/").concat(o),children:(0,u.jsx)("a",{className:"py-1 px-3 w-full",children:(0,u.jsx)("p",{title:l,className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition",children:l})})}),(0,u.jsx)("div",{className:"pr-3",children:d&&(0,u.jsx)(Wr,{tabInfo:t})})]},o)},Wr=(0,s.Pi)((function(e){var t=e.tabInfo,r=(0,i.oR)().ui,s=(0,b.UO)().ref,o=(0,a.useRouter)(),c=(0,br.W2)(),d=Mr({onSuccess:function(e){e.id&&c.removeSnippet(e.id)}}).mutateAsync,p=t||{},m=p.id,h=p.name,v=(0,n.useState)(!1),j=v[0],y=v[1],w=(0,n.useState)(!1),O=w[0],N=w[1],k=function(){y(!1)},P=function(){var e=(0,x.Z)(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(m){e.next=4;break}return e.abrupt("return",console.error("Snippet ID is required"));case 4:return e.prev=4,e.next=7,d({projectRef:s,id:m});case 7:0===(n=(null!==(t=c.orders[s])&&void 0!==t?t:[]).filter((function(e){return e!==m}))).length?o.push("/project/".concat(s,"/sql")):o.push("/project/".concat(s,"/sql/").concat(n[0])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.setNotification({category:"error",message:"Failed to create new query: ".concat(e.t0.message)});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{children:[f.Qy?(0,u.jsx)(A.ZP,{side:"bottom",align:"end",overlay:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(A.ZP.Item,{onClick:function(e){e.stopPropagation(),y(!0)},icon:(0,u.jsx)(Ur.Z,{size:"tiny"}),children:"Rename query"}),(0,u.jsx)(A.ZP.Separator,{}),(0,u.jsx)(A.ZP.Item,{onClick:function(e){e.stopPropagation(),N(!0)},icon:(0,u.jsx)(ir.Z,{size:"tiny"}),children:"Delete query"})]}),children:(0,u.jsx)(l.z,{as:"span",type:"text",icon:(0,u.jsx)(or.Z,{size:"tiny",strokeWidth:2,className:"text-scale-1100"}),style:{padding:"3px"}})}):(0,u.jsx)(l.z,{as:"span",type:"text",style:{padding:"3px"}}),(0,u.jsx)(Br,{snippet:t,visible:j,onCancel:k,onComplete:k}),(0,u.jsx)(Dr.Z,{header:"Confirm to delete",buttonLabel:"Delete query",buttonLoadingLabel:"Deleting query",visible:O,onSelectConfirm:P,onSelectCancel:function(){return N(!1)},children:(0,u.jsx)(lt.C.Content,{children:(0,u.jsx)("p",{className:"py-4 text-sm text-scale-1100",children:"Are you sure you want to delete '".concat(h,"' ?")})})})]})})),Gr=r(90046),Yr=r(71360);function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kr=(0,s.Pi)((function(){var e=(0,i.oR)().ui,t=(0,b.UO)(),r=t.ref,s=t.id,o=(0,a.useRouter)(),c=(0,gr.Z)().data,d=(0,n.useState)(""),p=d[0],m=d[1],h=(0,X.f$)(),v=h.setPages,j=h.setIsOpen,y=(0,i.P5)("dashboardCmdk"),w=(0,br.W2)(),O=function(e){return _r(e,Cr({select:function(e){return{snippets:e.content.filter(Er)}}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(r,{onSuccess:function(e){r&&w.setRemoteSnippets(e.snippets,r)}}),N=O.isLoading,k=O.isSuccess,P=(0,br.Fy)(r),S=(0,n.useMemo)((function(){return P?(0,R.partition)(P,(function(e){return e.content.favorite})):[[],[]]}),[P]),_=S[0],Z=S[1],C=0===p.length?_:_.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})),E=0===p.length?Z:Z.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})),I=(0,i.FH)(Bt.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null===c||void 0===c?void 0:c.id},subject:{id:null===c||void 0===c?void 0:c.id}}),D=function(){var t=(0,x.Z)(g().mark((function t(){var n,s;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",console.error("Project ref is required"));case 2:if(I){t.next=4;break}return t.abrupt("return",e.setNotification({category:"info",message:"Your queries will not be saved as you do not have sufficient permissions"}));case 4:try{n=(0,Gr.U)({name:"Untitled query",owner_id:null===c||void 0===c?void 0:c.id}),s=Qr(Qr({},n),{},{id:(0,re.k$)()}),w.addSnippet(s,r,!0),o.push("/project/".concat(r,"/sql/").concat(s.id))}catch(a){e.setNotification({category:"error",message:"Failed to create new query: ".concat(a.message)})}case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsxs)(Xt.ZP,{type:"pills",children:[f.Qy&&(0,u.jsxs)("div",{className:"my-4 mx-3 space-y-1 px-3",children:[(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(l.z,{className:y?"rounded-r-none px-3":void 0,block:!0,icon:(0,u.jsx)(ae.Z,{}),type:"default",disabled:N,style:{justifyContent:"start"},onClick:function(){return D()},children:"New query"}),y&&(0,u.jsx)(A.ZP,{align:"end",side:"bottom",sideOffset:3,className:"max-w-[210px]",overlay:[(0,u.jsx)(A.ZP.Item,{onClick:function(){j(!0),v([Yr.p.GENERATE_SQL])},children:(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("p",{className:"block text-scale-1200",children:"New AI query"}),(0,u.jsx)("p",{className:"block text-scale-1100",children:"Generate a SQL query using Supabase AI"})]})},"new-ai-query")],children:(0,u.jsx)(l.z,{disabled:N,type:"default",className:"rounded-l-none px-[4px] py-[5px]",icon:(0,u.jsx)(or.Z,{})})})]}),(0,u.jsx)(xe.Z,{size:"tiny",icon:(0,u.jsx)(ee.Z,{size:"tiny"}),placeholder:"Search",disabled:N,onChange:function(e){return m(e.target.value)},value:p,actions:p&&(0,u.jsx)(ve.Z,{size:"tiny",className:"mr-2 cursor-pointer",onClick:function(){return m("")}})})]}),N?(0,u.jsxs)("div",{className:"px-5 my-4 space-y-2",children:[(0,u.jsx)(Ir.Z,{}),(0,u.jsx)(Ir.Z,{className:"w-3/4"}),(0,u.jsx)(Ir.Z,{className:"w-1/2"})]}):k?(0,u.jsxs)("div",{className:"space-y-6",children:[f.Qy&&(0,u.jsxs)("div",{className:"px-3",children:[(0,u.jsx)(Xt.ZP.Group,{title:"Getting started"}),(0,u.jsx)(jr.Z,{name:"Welcome",isActive:void 0===s,url:"/project/".concat(r,"/sql")})]}),(0,u.jsxs)("div",{className:"space-y-6 px-3",children:[C.length>=1&&(0,u.jsxs)("div",{className:"editor-product-menu",children:[(0,u.jsx)(Xt.ZP.Group,{title:"Favorites"}),(0,u.jsx)("div",{className:"space-y-1",children:C.map((function(e){var t=(e||{}).id;return(0,u.jsx)(Hr,{tabInfo:e},t)}))})]}),E.length>=1&&(0,u.jsxs)("div",{className:"editor-product-menu",children:[(0,u.jsx)(Xt.ZP.Group,{title:"SQL snippets"}),(0,u.jsx)("div",{className:"space-y-1 pb-8",children:E.map((function(e){var t=(e||{}).id;return(0,u.jsx)(Hr,{tabInfo:e},t)}))})]}),p.length>0&&0===C.length&&0===E.length&&(0,u.jsx)("div",{className:"px-4",children:(0,u.jsx)("p",{className:"text-sm",children:"No queries found"})})]})]}):(0,u.jsx)("div",{})]})})})),Jr=Kr,Xr=(0,i.QO)((function(e){var t=e.title,r=e.children,s=(0,n.useMemo)((function(){return(0,u.jsx)(Jr,{},"sql-editor-menu")}),[]);return(0,u.jsx)(qt,{title:t||"SQL",product:"SQL Editor",productMenu:s,children:r})})),$r=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=null!==(t=null===e||void 0===e?void 0:e.ref)&&void 0!==t?t:"default";return[{title:"Database",items:[{name:"Tables",key:"tables",url:"/project/".concat(s,"/database/tables"),items:[]},{name:"Triggers",key:"triggers",url:"/project/".concat(s,"/database/triggers"),items:[]},{name:"Functions",key:"functions",url:"/project/".concat(s,"/database/functions"),items:[]},{name:"Extensions",key:"extensions",url:"/project/".concat(s,"/database/extensions"),items:[]},{name:"Roles",key:"roles",url:"/project/".concat(s,"/database/roles"),items:[]},{name:"Replication",key:"replication",url:"/project/".concat(s,"/database/replication"),items:[]}].concat((0,m.Z)(n?[{name:"Webhooks",key:"hooks",url:"/project/".concat(s,"/database/hooks"),items:[]}]:[]),(0,m.Z)(r?[{name:"Wrappers",key:"wrappers",url:"/project/".concat(s,"/database/wrappers"),items:[],label:"ALPHA"}]:[]),(0,m.Z)(f.Qy?[{name:"Backups",key:"backups",url:"/project/".concat(s,"/database/backups/scheduled"),items:[]}]:[]))}]},en=(0,i.QO)((0,s.Pi)((function(e){e.title;var t,r,s=e.children,o=(0,i.oR)(),c=o.meta,l=o.ui,m=o.vault,h=o.backups,x=c.schemas.isLoading,v=m.isLoading,g=c.tables,j=g.isInitialized,b=g.error,y=l.selectedProject,w=(0,a.useRouter)().pathname.split("/")[4],O=c.extensions.byId("supabase_vault"),N=void 0!==O&&null!==O.installed_version,k=(0,i.P5)("foreignDataWrappers"),P=void 0!==c.extensions.byId("pg_net"),S=x||N&&v,_=(0,n.useState)(j),Z=_[0],C=_[1];return(0,n.useEffect)((function(){var e;null!==(e=l.selectedProject)&&void 0!==e&&e.ref&&(c.schemas.load(),c.tables.load(),c.roles.load(),c.triggers.load(),c.extensions.load(),c.publications.load(),f.Qy&&h.load())}),[null===(t=l.selectedProject)||void 0===t?void 0:t.ref]),(0,n.useEffect)((function(){N&&m.load()}),[null===(r=l.selectedProject)||void 0===r?void 0:r.ref,N]),(0,n.useEffect)((function(){S||Z||C(!0)}),[S]),b?(0,u.jsx)(Bn,{children:(0,u.jsx)(d,{error:b})}):(0,u.jsx)(Bn,{isLoading:!Z,product:"Database",productMenu:(0,u.jsx)(p.Z,{page:w,menu:$r(y,k,P)}),children:(0,u.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:s})})}))),tn=r(81391);var rn=(0,i.QO)((0,s.Pi)((function(e){var t,r,s,o,c,l,h=e.title,x=e.children,v=(0,a.useRouter)(),g=(0,i.oR)(),j=g.meta,b=g.ui,y=j.openApi,w=y.data,O=y.isLoading,N=y.error,k=(null===(t=b.selectedProject)||void 0===t?void 0:t.status)===f.S.INACTIVE;if((0,n.useEffect)((function(){var e;null!==(e=b.selectedProject)&&void 0!==e&&e.ref&&!k&&j.openApi.load()}),[null===(r=b.selectedProject)||void 0===r?void 0:r.ref]),N)return(0,u.jsx)(Bn,{product:"API Docs",children:(0,u.jsx)(d,{error:N})});var P,S,_,Z=null!==(s=null===(o=b.selectedProject)||void 0===o?void 0:o.ref)&&void 0!==s?s:"default",C=(null!==(c=null===w||void 0===w?void 0:w.tables)&&void 0!==c?c:[]).map((function(e){return e.name})),E=(null!==(l=null===w||void 0===w?void 0:w.functions)&&void 0!==l?l:[]).map((function(e){return e.name}));return(0,u.jsx)(Bn,{title:h||"API Docs",isLoading:O,product:"API Docs",productMenu:(0,u.jsx)(p.Z,{page:function(){if(v.pathname.endsWith("graphiql"))return"graphiql";var e=v.query,t=e.page,r=e.resource;return t||r?t||r||"":"introduction"}(),menu:(P=Z,S=C,_=E,[{title:"Getting Started",items:[{name:"Introduction",key:"introduction",url:"/project/".concat(P,"/api"),items:[]},{name:"Authentication",key:"auth",url:"/project/".concat(P,"/api?page=auth"),items:[]},{name:"User Management",key:"users",url:"/project/".concat(P,"/api?page=users"),items:[]}]},{title:"Tables and Views",items:[{name:"Introduction",key:"tables-intro",url:"/project/".concat(P,"/api?page=tables-intro"),items:[]}].concat((0,m.Z)(S.sort().map((function(e){return{name:e,key:e,url:"/project/".concat(P,"/api?resource=").concat(e),items:[]}}))))},{title:"Stored Procedures",items:[{name:"Introduction",key:"rpc-intro",url:"/project/".concat(P,"/api?page=rpc-intro"),items:[]}].concat((0,m.Z)(_.map((function(e){return{name:e,key:e,url:"/project/".concat(P,"/api?rpc=").concat(e),items:[]}}))))},{title:"GraphQL",items:[{name:"GraphiQL",key:"graphiql",url:"/project/".concat(P,"/api/graphiql"),icon:(0,u.jsx)(W.Z,{src:"".concat(f.GW,"/img/graphql.svg"),style:{width:"".concat(16,"px"),height:"".concat(16,"px")},className:"text-scale-1200",preProcessor:function(e){return e.replace(/svg/,'svg class="m-auto text-color-inherit"')}}),items:[]}]},{title:"More Resources",items:[{name:"Guides",key:"guides",url:"https://supabase.com/docs",icon:(0,u.jsx)(tn.Z,{size:14,strokeWidth:2}),items:[],isExternal:!0},{name:"API Reference",key:"api-reference",url:"https://supabase.com/docs/guides/api",icon:(0,u.jsx)(Ce.Z,{size:14,strokeWidth:2}),items:[],isExternal:!0}]}])}),children:x})}))),nn=(0,i.QO)((0,s.Pi)((function(e){var t,r=e.title,s=e.children,o=(0,i.oR)(),c=o.ui,l=o.meta,d=c.selectedProjectRef,h=c.selectedProjectBaseInfo,x=(0,a.useRouter)(),v=x.pathname.includes("billing")?x.pathname.split("/")[5]:x.pathname.split("/")[4],g=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(null===t||void 0===t?void 0:t.status)===f.S.COMING_UP,s="/project/".concat(e,"/building");return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},{name:"Database",key:"database",url:n?s:"/project/".concat(e,"/settings/database"),items:[]},{name:"API",key:"api",url:n?s:"/project/".concat(e,"/settings/api"),items:[]}].concat((0,m.Z)(f.Qy?[{name:"Auth",key:"auth",url:n?s:"/project/".concat(e,"/settings/auth"),items:[]}]:[]),(0,m.Z)(f.Qy?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[]),(0,m.Z)(r?[{name:"Vault",key:"vault",url:n?s:"/project/".concat(e,"/settings/vault/secrets"),items:[],label:"BETA"}]:[]))}].concat((0,m.Z)(f.Qy?[{title:"Billing",items:[{name:"Subscription",key:"subscription",url:n?s:"/project/".concat(e,"/settings/billing/subscription"),items:[]},{name:"Usage",key:"usage",url:n?s:"/project/".concat(e,"/settings/billing/usage"),items:[]},{name:"Invoices",key:"invoices",url:n?s:"/project/".concat(e,"/settings/billing/invoices"),items:[]}]}]:[]))}(d,h,(0,i.P5)("vaultExtension"));return(0,n.useEffect)((function(){var e;null!==(e=c.selectedProject)&&void 0!==e&&e.ref&&l.extensions.load()}),[null===(t=c.selectedProject)||void 0===t?void 0:t.ref]),(0,u.jsx)(Bn,{title:r||"Settings",product:"Settings",productMenu:(0,u.jsx)(p.Z,{page:v,menu:g}),children:(0,u.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:s})})}))),sn=r(2288),an=r(61548),on=function(e){var t=e.bucket,r=void 0===t?{}:t,n=e.projectRef,s=void 0===n?"":n,a=e.isSelected,o=void 0!==a&&a,d=e.onSelectDeleteBucket,p=void 0===d?R.noop:d,m=e.onSelectEditBucket,f=void 0===m?R.noop:m,h=(0,i.FH)(Bt.KA.STORAGE_ADMIN_WRITE,"*");return(0,u.jsxs)("div",{className:(0,nr.Z)("group flex items-center justify-between rounded-md",o&&"text-scale-1200 bg-scale-300"),children:[(0,u.jsx)(c(),{href:"/project/".concat(s,"/storage/buckets/").concat(r.id),children:(0,u.jsx)("a",{className:"py-1 px-3 w-full",children:(0,u.jsxs)("div",{className:"flex items-center justify-between space-x-2 truncate w-full",children:[(0,u.jsx)("p",{className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition truncate",title:r.name,children:r.name}),r.public&&(0,u.jsx)($.Z,{color:"yellow",children:"Public"})]})})}),(0,u.jsx)("div",{className:"pr-3",children:r.status===an.R9.LOADING?(0,u.jsx)(st.Z,{className:"animate-spin",size:16,strokeWidth:2}):h&&r.status===an.R9.READY&&o?(0,u.jsx)(A.ZP,{side:"bottom",align:"start",overlay:[(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(Ur.Z,{size:"tiny"}),onClick:function(){return f(r)},children:"Edit bucket"},"toggle-private"),(0,u.jsx)(A.ZP.Separator,{},"bucket-separator"),(0,u.jsx)(A.ZP.Item,{icon:(0,u.jsx)(ir.Z,{size:"tiny"}),onClick:function(){return p(r)},children:"Delete bucket"},"delete-bucket")],children:(0,u.jsx)(l.z,{as:"span",type:"text",icon:(0,u.jsx)(or.Z,{size:"tiny",strokeWidth:2,className:"text-scale-1100"}),style:{padding:"3px"}})}):(0,u.jsx)("div",{className:"w-5"})})]},r.id)},cn=r(17737),ln=r(17634),un=r(11872),dn=r(20183),pn=r(77249),mn=r(33582),fn=function(e){var t,r=e.visible,s=e.bucket,a=e.onClose,o=(0,i.oR)().ui,d=(0,b.UO)().ref,p=(0,cn.HN)().editBucket,m=(0,mn.kl)({projectRef:d},{enabled:f.Qy}).data,h=(0,pn.K)(null!==(t=null===m||void 0===m?void 0:m.fileSizeLimit)&&void 0!==t?t:0),v=h.value,j=h.unit,y="".concat(v," ").concat(j),w=(0,n.useState)(dn.b.BYTES),O=w[0],N=w[1],k=(0,n.useState)(!1),P=k[0],S=k[1],_=function(){var e=(0,x.Z)(g().mark((function e(t,r){var n,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.setSubmitting,void 0!==s){e.next=3;break}return e.abrupt("return",console.error("Bucket is required"));case 3:return i={public:t.public,file_size_limit:t.has_file_size_limit?(0,pn.F)(t.formatted_size_limit,O):null,allowed_mime_types:t.allowed_mime_types.length>0?t.allowed_mime_types.split(",").map((function(e){return e.trim()})):null},n(!0),e.next=7,p(s,i);case 7:e.sent.error?n(!1):(o.setNotification({category:"success",message:'Successfully updated bucket "'.concat(s.name,'"')}),a());case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){if(r){var e,t=(0,pn.K)(null!==(e=null===s||void 0===s?void 0:s.file_size_limit)&&void 0!==e?e:0).unit;N(t),S(!1)}}),[r]),(0,u.jsx)(lt.C,{hideFooter:!0,visible:r,size:"medium",header:'Edit bucket "'.concat(null===s||void 0===s?void 0:s.name,'"'),onCancel:a,children:(0,u.jsx)(qr.Z,{validateOnBlur:!1,initialValues:{},validate:function(e){var t={};return e.has_file_size_limit&&e.formatted_size_limit<0&&(t.formatted_size_limit="File size upload limit has to be at least 0"),t},onSubmit:_,children:function(e){var t=e.values,i=e.isSubmitting,o=e.resetForm;return(0,n.useEffect)((function(){if(r&&void 0!==s){var e,t,n,a=(0,pn.K)(null!==(e=s.file_size_limit)&&void 0!==e?e:0).value,i={name:null!==(t=s.name)&&void 0!==t?t:"",public:s.public,file_size_limit:s.file_size_limit,allowed_mime_types:(null!==(n=s.allowed_mime_types)&&void 0!==n?n:[]).join(", "),has_file_size_limit:null!==s.file_size_limit,formatted_size_limit:null!==a&&void 0!==a?a:0};o({values:i,initialValues:i})}}),[r]),(0,u.jsxs)("div",{className:"space-y-4 py-4",children:[(0,u.jsxs)(lt.C.Content,{children:[(0,u.jsx)(xe.Z,{disabled:!0,id:"name",name:"name",type:"text",className:"w-full",layout:"vertical",label:"Name of bucket",labelOptional:"Buckets cannot be renamed once created."}),(0,u.jsxs)("div",{className:"space-y-2 mt-6",children:[(0,u.jsx)(ln.Z,{id:"public",name:"public",layout:"flex",label:"Public bucket",descriptionText:"Anyone can read any object without any authorization"}),(null===s||void 0===s?void 0:s.public)!==t.public&&(0,u.jsx)(Me.Z,{title:null!==s&&void 0!==s&&s.public||!t.public?null!==s&&void 0!==s&&s.public&&!t.public?"Warning: Making bucket private":"":"Warning: Making bucket public",variant:"warning",withIcon:!0,children:(0,u.jsx)("p",{className:"mb-2",children:null!==s&&void 0!==s&&s.public||!t.public?null!==s&&void 0!==s&&s.public&&!t.public?'All objects in "'.concat(null===s||void 0===s?void 0:s.name,'" will be made private and will only be accessible via signed URLs or downloaded with the right authorisation headers'):"":'This will make all objects in the bucket "'.concat(null===s||void 0===s?void 0:s.name,'" public')})})]})]}),(0,u.jsxs)(un.ZP,{open:P,onOpenChange:function(){return S(!P)},children:[(0,u.jsx)(un.ZP.Trigger,{asChild:!0,children:(0,u.jsxs)("div",{className:"w-full cursor-pointer py-3 px-5 flex items-center justify-between border-t border-scale-500",children:[(0,u.jsx)("p",{className:"text-sm",children:"Additional configuration"}),(0,u.jsx)(or.Z,{size:18,strokeWidth:2,className:(0,nr.Z)("text-scale-1100",P&&"rotate-180")})]})}),(0,u.jsx)(un.ZP.Content,{className:"py-4",children:(0,u.jsxs)("div",{className:"w-full space-y-4 px-5",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(ln.Z,{id:"has_file_size_limit",name:"has_file_size_limit",layout:"flex",label:"Restrict file upload size for bucket",descriptionText:"Prevent uploading of file sizes greater than a specified limit"}),t.has_file_size_limit&&(0,u.jsxs)("div",{className:"grid grid-cols-12 col-span-12 gap-x-2 gap-y-1",children:[(0,u.jsx)("div",{className:"col-span-8",children:(0,u.jsx)(xe.Z,{type:"number",step:1,id:"formatted_size_limit",name:"formatted_size_limit",disabled:!1,onKeyPress:function(e){(e.charCode<48||e.charCode>57)&&e.preventDefault()},descriptionText:"Equivalent to ".concat((0,pn.F)(t.formatted_size_limit,O).toLocaleString()," bytes.")})}),(0,u.jsx)("div",{className:"col-span-4",children:(0,u.jsx)(Kt.Z,{disabled:!1,value:O,onChange:N,children:Object.values(dn.b).map((function(e){return(0,u.jsx)(Kt.Z.Option,{label:e,value:e,children:(0,u.jsx)("div",{children:e})},e)}))})}),f.Qy&&(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsxs)("p",{className:"text-scale-1000 text-sm",children:["Note: The"," ",(0,u.jsx)(c(),{href:"/project/".concat(d,"/settings/storage"),children:(0,u.jsx)("a",{className:"text-brand-900 opacity-80 hover:opacity-100 transition",children:"global upload limit"})})," ","takes precedence over this value (",y,")"]})})]})]}),(0,u.jsx)(xe.Z,{id:"allowed_mime_types",name:"allowed_mime_types",layout:"vertical",label:"Allowed MIME types",placeholder:"e.g image/jpg, image/png, audio/mpeg, video/mp4, etc",labelOptional:"Comma separated values",descriptionText:"Leave the field blank to allow any MIME type to be uploaded"})]})})]}),(0,u.jsx)("div",{className:"w-full border-t border-scale-500 !mt-0"}),(0,u.jsx)(lt.C.Content,{children:(0,u.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,u.jsx)(l.z,{type:"default",disabled:i,onClick:function(){return a()},children:"Cancel"}),(0,u.jsx)(l.z,{type:"primary",htmlType:"submit",loading:i,disabled:i,children:"Save"})]})})]})}})})},hn=function(e){var t,r=e.visible,s=e.onClose,o=(0,i.oR)().ui,d=(0,b.UO)().ref,p=(0,a.useRouter)(),m=(0,cn.HN)().createBucket,h=(0,mn.kl)({projectRef:d},{enabled:f.Qy}).data,v=(0,pn.K)(null!==(t=null===h||void 0===h?void 0:h.fileSizeLimit)&&void 0!==t?t:0),j=v.value,y=v.unit,w="".concat(j," ").concat(y),O=(0,n.useState)(dn.b.BYTES),N=O[0],k=O[1],P=(0,n.useState)(!1),S=P[0],_=P[1],Z=function(){var e=(0,x.Z)(g().mark((function e(t,r){var n,a,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setSubmitting,a={id:t.name,public:t.public,file_size_limit:t.has_file_size_limit?(0,pn.F)(t.formatted_size_limit,N):null,allowed_mime_types:t.allowed_mime_types.length>0?t.allowed_mime_types.split(",").map((function(e){return e.trim()})):null},n(!0),e.next=5,m(a);case 5:(i=e.sent).error?n(!1):(o.setNotification({category:"success",message:'Successfully created bucket "'.concat(i.name,'"')}),p.push("/project/".concat(d,"/storage/buckets/").concat(i.name)),s());case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){r&&(k(dn.b.BYTES),_(!1))}),[r]),(0,u.jsx)(lt.C,{hideFooter:!0,visible:r,size:"medium",header:"Create storage bucket",onCancel:s,children:(0,u.jsx)(qr.Z,{validateOnBlur:!1,initialValues:{name:"",public:!1,file_size_limit:0,allowed_mime_types:"",has_file_size_limit:!1,formatted_size_limit:0},validate:function(e){var t={};return e.name||(t.name="Please provide a name for your bucket"),e.has_file_size_limit&&e.formatted_size_limit<0&&(t.formatted_size_limit="File size upload limit has to be at least 0"),t},onSubmit:Z,children:function(e){var t=e.values,r=e.isSubmitting;return(0,u.jsxs)("div",{className:"space-y-4 py-4",children:[(0,u.jsxs)(lt.C.Content,{children:[(0,u.jsx)(xe.Z,{id:"name",name:"name",type:"text",className:"w-full",layout:"vertical",label:"Name of bucket",labelOptional:"Buckets cannot be renamed once created.",descriptionText:"Only lowercase letters, numbers, dots, and hyphens"}),(0,u.jsxs)("div",{className:"space-y-2 mt-6",children:[(0,u.jsx)(ln.Z,{id:"public",name:"public",layout:"flex",label:"Public bucket",descriptionText:"Anyone can read any object without any authorization"}),t.public&&(0,u.jsxs)(Me.Z,{title:"Public buckets are not protected",variant:"warning",withIcon:!0,children:[(0,u.jsx)("p",{className:"mb-2",children:"Users can read objects in public buckets without any authorization."}),(0,u.jsx)("p",{children:"Row level security (RLS) policies are still required for other operations such as object uploads and deletes."})]})]})]}),(0,u.jsxs)(un.ZP,{open:S,onOpenChange:function(){return _(!S)},children:[(0,u.jsx)(un.ZP.Trigger,{asChild:!0,children:(0,u.jsxs)("div",{className:"w-full cursor-pointer py-3 px-5 flex items-center justify-between border-t border-scale-500",children:[(0,u.jsx)("p",{className:"text-sm",children:"Additional configuration"}),(0,u.jsx)(or.Z,{size:18,strokeWidth:2,className:(0,nr.Z)("text-scale-1100",S&&"rotate-180")})]})}),(0,u.jsx)(un.ZP.Content,{className:"py-4",children:(0,u.jsxs)("div",{className:"w-full space-y-4 px-5",children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(ln.Z,{id:"has_file_size_limit",name:"has_file_size_limit",layout:"flex",label:"Restrict file upload size for bucket",descriptionText:"Prevent uploading of file sizes greater than a specified limit"}),t.has_file_size_limit&&(0,u.jsxs)("div",{className:"grid grid-cols-12 col-span-12 gap-x-2 gap-y-1",children:[(0,u.jsx)("div",{className:"col-span-8",children:(0,u.jsx)(xe.Z,{type:"number",step:1,id:"formatted_size_limit",name:"formatted_size_limit",disabled:!1,onKeyPress:function(e){(e.charCode<48||e.charCode>57)&&e.preventDefault()},descriptionText:"Equivalent to ".concat((0,pn.F)(t.formatted_size_limit,N).toLocaleString()," bytes.")})}),(0,u.jsx)("div",{className:"col-span-4",children:(0,u.jsx)(Kt.Z,{disabled:!1,value:N,onChange:k,children:Object.values(dn.b).map((function(e){return(0,u.jsx)(Kt.Z.Option,{label:e,value:e,children:(0,u.jsx)("div",{children:e})},e)}))})}),f.Qy&&(0,u.jsx)("div",{className:"col-span-12",children:(0,u.jsxs)("p",{className:"text-scale-1000 text-sm",children:["Note: The"," ",(0,u.jsx)(c(),{href:"/project/".concat(d,"/settings/storage"),children:(0,u.jsx)("a",{className:"text-brand-900 opacity-80 hover:opacity-100 transition",children:"global upload limit"})})," ","takes precedence over this value (",w,")"]})})]})]}),(0,u.jsx)(xe.Z,{id:"allowed_mime_types",name:"allowed_mime_types",layout:"vertical",label:"Allowed MIME types",placeholder:"e.g image/jpg, image/png, audio/mpeg, video/mp4, etc",descriptionText:"Comma separated values"})]})})]}),(0,u.jsx)("div",{className:"w-full border-t border-scale-500 !mt-0"}),(0,u.jsx)(lt.C.Content,{children:(0,u.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,u.jsx)(l.z,{type:"default",disabled:r,onClick:function(){return s()},children:"Cancel"}),(0,u.jsx)(l.z,{type:"primary",htmlType:"submit",loading:r,disabled:r,children:"Save"})]})})]})}})})},xn=(0,s.Pi)((function(){var e=(0,a.useRouter)(),t=(0,E.UO)(),r=t.ref,s=t.bucketId,o=(0,n.useState)(!1),d=o[0],p=o[1],m=(0,n.useState)(),f=m[0],h=m[1],x=(0,i.FH)(Bt.KA.STORAGE_ADMIN_WRITE,"*"),v=e.pathname.split("/")[4],g=(0,cn.HN)()||{},j=g.loaded,b=g.buckets,y=g.openDeleteBucketModal;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(Xt.ZP,{type:"pills",className:"my-6 flex flex-grow flex-col px-5",children:[(0,u.jsx)("div",{className:"mb-6 px-2",children:(0,u.jsxs)(Y.fC,{delayDuration:0,children:[(0,u.jsx)(Y.xz,{className:"w-full",children:(0,u.jsx)(l.z,{block:!0,type:"default",icon:(0,u.jsx)("div",{className:"text-scale-900",children:(0,u.jsx)(Jt.Z,{size:14})}),disabled:!x,style:{justifyContent:"start"},onClick:function(){return p(!0)},children:"New bucket"})}),!x&&(0,u.jsx)(Y.h_,{children:(0,u.jsxs)(Y.VY,{side:"bottom",children:[(0,u.jsx)(Y.Eh,{className:"radix-tooltip-arrow"}),(0,u.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,u.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to create buckets"})})]})})]})}),(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"",children:(0,u.jsxs)("div",{children:[(0,u.jsx)(Xt.ZP.Group,{title:"All buckets"}),j?(0,u.jsxs)(u.Fragment,{children:[0===b.length&&(0,u.jsx)("div",{className:"px-2",children:(0,u.jsx)(Me.Z,{title:"No buckets available",children:"Buckets that you create will appear here"})}),b.map((function(e,t){var n=s===e.id;return(0,u.jsx)(on,{bucket:e,projectRef:r,isSelected:n,onSelectDeleteBucket:y,onSelectEditBucket:function(){return h(e)}},"".concat(t,"_").concat(e.id))}))]}):(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)(Ir.Z,{className:"!py-2.5"}),(0,u.jsx)(Ir.Z,{className:"!py-2.5 w-3/4"}),(0,u.jsx)(Ir.Z,{className:"!py-2.5 w-1/2"})]})]})}),(0,u.jsx)("div",{className:"h-px w-full bg-scale-500"}),(0,u.jsxs)("div",{className:"",children:[(0,u.jsx)(Xt.ZP.Group,{title:"Configuration"}),(0,u.jsx)(c(),{href:"/project/".concat(r,"/storage/policies"),children:(0,u.jsx)(Xt.ZP.Item,{rounded:!0,active:"policies"===v,children:(0,u.jsx)("p",{className:"truncate",children:"Policies"})})})]})]})]}),(0,u.jsx)(hn,{visible:d,onClose:function(){return p(!1)}}),(0,u.jsx)(fn,{visible:void 0!==f,bucket:f,onClose:function(){return h(void 0)}})]})})),vn=r(20505),gn=r(49226),jn=(0,i.QO)((0,s.Pi)((function(e){var t,r=e.title,s=e.children,a=(0,i.oR)(),o=a.ui,c=a.meta,l=(0,E.UO)().ref,d=(0,cn.HN)(),p=d||{},m=p.selectedBucketToEdit,h=p.closeDeleteBucketModal,v=p.showDeleteBucketModal,j=p.deleteBucket,b=p.buckets,y=(0,sn.qP)({projectRef:l}),w=y.data,O=y.isLoading,N=null===w||void 0===w?void 0:w.autoApiService,k=(null===(t=o.selectedProject)||void 0===t?void 0:t.status)===f.S.INACTIVE;(0,n.useEffect)((function(){!O&&N&&P(N)}),[O]);var P=function(){var e=(0,x.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:if(!t.endpoint){e.next=8;break}return d.initStore(l,t.endpoint,t.serviceApiKey,t.protocol),e.next=6,d.fetchBuckets();case 6:e.next=9;break;case 8:o.setNotification({category:"error",message:"Failed to fetch project configuration. Try refreshing your browser, or reach out to us at support@supabase.io"});case 9:d.setLoaded(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,x.Z)(g().mark((function e(t){var r,n,s,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:if(!e.sent){e.next=10;break}return r=c.policies.list(),n=(0,R.filter)(r,{table:"objects"}),s=(0,vn.hM)(b,n),a=(0,R.get)((0,R.find)(s,{name:t.name}),["policies"],[]),e.next=10,Promise.all(a.map((function(e){c.policies.del(e.id)})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsxs)(Bn,{title:r||"Storage",product:"Storage",productMenu:(0,u.jsx)(xn,{}),children:[s,(0,u.jsx)(gn.Z,{visible:v,bucket:m,onSelectCancel:h,onSelectDelete:S})]})}))),bn=r(27316),yn=r(17994);function wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var On=function(e){return(0,u.jsx)(de.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:yn.Z},e))},Nn=r(35814);function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Pn=function(e){return(0,u.jsx)(de.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(r),!0).forEach((function(t){(0,le.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:Nn.Z},e))},Sn=function(e){var t=e.title,r=e.header,n=e.breadcrumbs,s=void 0===n?[]:n,a=e.children,o=e.sections,c=e.subitems,l=e.subitemsParentKey,d=e.hideSidebar,p=void 0!==d&&d,m=e.customSidebarContent,f=!o&&!m,h=(0,i.P5)("ongoingIncident")?"calc(100vh - 44px)":"100vh";return(0,u.jsxs)("div",{className:"flex max-h-full",children:[!p&&!f&&(0,u.jsxs)("div",{id:"with-sidebar",style:{height:h,maxHeight:h},className:["h-full bg-body","hide-scrollbar w-64 overflow-auto border-r border-scale-500"].join(" "),children:[t&&(0,u.jsx)("div",{className:"mb-2",children:(0,u.jsx)("div",{className:"flex h-12 max-h-12 items-center border-b px-6 border-scale-500",children:(0,u.jsx)("h4",{className:"mb-0 text-lg truncate",title:t,children:t})})}),r&&r,(0,u.jsx)("div",{className:"-mt-1",children:(0,u.jsxs)(Xt.ZP,{children:[m,o.map((function(e,t){return Boolean(e.heading)?(0,u.jsx)(_n,{section:e,subitems:c,subitemsParentKey:l},e.key):(0,u.jsx)("div",{className:"border-b py-5 px-6 border-scale-400",children:(0,u.jsx)(Zn,{links:e.links,subitems:c,subitemsParentKey:l})},e.key)}))]})})]}),(0,u.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,u.jsx)(nt,{breadcrumbs:s}),(0,u.jsx)("div",{className:"flex-1 flex-grow overflow-auto",children:a})]})]})},_n=function(e){var t=e.section,r=e.subitems,n=e.subitemsParentKey;return(0,u.jsxs)("div",{className:"border-b py-5 px-6 border-scale-500",children:[t.heading&&(0,u.jsx)(Xt.ZP.Group,{title:t.heading}),t.versionLabel&&(0,u.jsx)("div",{className:"mb-1 px-3",children:(0,u.jsx)($.Z,{color:"yellow",children:t.versionLabel})}),(0,u.jsx)(Zn,{links:t.links,subitems:r,subitemsParentKey:n})]},t.heading)},Zn=function(e){var t=e.links,r=e.subitems,n=e.subitemsParentKey;return(0,u.jsx)("ul",{className:"space-y-1",children:t.map((function(e,t){var s=e.isActive&&!r,a=(0,u.jsx)(Cn,{id:"".concat(e.key,"-").concat(t),isActive:s,label:e.label,href:e.href,onClick:e.onClick,isExternal:e.isExternal||!1},"".concat(e.key,"-").concat(t,"-sidebarItem"));if(r&&e.subitemsKey===n){var i=r.map((function(t,r){return(0,u.jsx)(Cn,{id:"".concat(t.key||t.as,"-").concat(r),isSubitem:!0,label:t.label,onClick:t.onClick,isExternal:e.isExternal||!1},"".concat(t.key||t.as,"-").concat(r,"-sidebarItem"))}));a=[a].concat((0,m.Z)(i))}return a}))})},Cn=function(e){var t,r=e.id,n=e.label,s=e.href,a=e.isActive,i=e.isSubitem,o=e.isExternal,l=e.onClick;return(0,R.isUndefined)(s)?(o&&(t=(0,u.jsx)(On,{size:"tiny"})),"Logout"===n&&(t=(0,u.jsx)(Pn,{size:"tiny"})),(0,u.jsx)(Xt.ZP.Item,{rounded:!0,style:{marginLeft:i?".5rem":"0rem"},active:!!a,onClick:l||function(){},icon:t,children:i?(0,u.jsx)("p",{className:"text-sm",children:n}):n},r)):(0,u.jsx)(c(),{href:s||"",children:(0,u.jsx)("a",{className:"block",target:o?"_blank":"_self",children:(0,u.jsxs)("button",{className:"group flex max-w-full cursor-pointer items-center space-x-2 border-scale-500 py-1 font-normal outline-none ring-scale-1200 focus-visible:z-10 focus-visible:ring-1 group-hover:border-scale-900",onClick:l||function(){},children:[o&&(0,u.jsx)("span",{className:"truncate text-sm text-scale-900 transition group-hover:text-scale-1100",children:(0,u.jsx)(On,{size:"tiny"})}),(0,u.jsx)("span",{title:n,className:"w-full truncate text-sm text-scale-1100 transition group-hover:text-scale-1200",children:i?(0,u.jsx)("p",{children:n}):n})]})})})},En=function(e){var t=e.children,r=e.title,n=e.breadcrumbs,s=(0,a.useRouter)(),o=(0,i.oR)(),c=o.app,l=o.ui,d=(0,i.P5)("ongoingIncident")?"calc(100vh - 44px)":"100vh",p=(0,bn.QJ)(),h=function(){var e=(0,x.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.next=4,s.push("/sign-in");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=c.organizations.list().map((function(e){var t;return{isActive:s.pathname.startsWith("/org/")&&(null===(t=l.selectedOrganization)||void 0===t?void 0:t.slug)===e.slug,label:e.name,href:"/org/".concat(e.slug,"/general"),key:e.slug}})).sort((function(e,t){return e.label.localeCompare(t.label)})),j=[{heading:"Projects",key:"projects",links:[{isActive:"/projects"===s.pathname,label:"All projects",href:"/projects",key:"all-projects-item"}]}].concat((0,m.Z)(f.Qy&&(null===v||void 0===v?void 0:v.length)>0?[{heading:"Organizations",key:"organizations",links:v}]:[]),(0,m.Z)(f.Qy?[{heading:"Account",key:"account",links:[{isActive:"/account/me"===s.pathname,icon:"".concat(s.basePath,"/img/user.svg"),label:"Preferences",href:"/account/me",key:"/account/me"},{isActive:"/account/tokens"===s.pathname,icon:"".concat(s.basePath,"/img/user.svg"),label:"Access Tokens",href:"/account/tokens",key:"/account/tokens"}]}]:[]),[{heading:"Documentation",key:"documentation",links:[{key:"ext-guides",icon:"".concat(s.basePath,"/img/book.svg"),label:"Guides",href:"https://supabase.com/docs",isExternal:!0},{key:"ext-guides",icon:"".concat(s.basePath,"/img/book-open.svg"),label:"API Reference",href:"https://supabase.com/docs/guides/api",isExternal:!0}]}],(0,m.Z)(f.Qy?[{key:"logout-link",links:[{key:"logout",icon:"/icons/feather/power.svg",label:"Logout",href:void 0,onClick:h}]}]:[]));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(N(),{children:[(0,u.jsx)("title",{children:r?"".concat(r," | Supabase"):"Supabase"}),(0,u.jsx)("meta",{name:"description",content:"Supabase Studio"})]}),(0,u.jsx)("div",{className:"flex h-full",children:(0,u.jsx)("main",{style:{height:d,maxHeight:d},className:"flex flex-col flex-1 w-full overflow-y-auto",children:(0,u.jsx)(Sn,{title:r,breadcrumbs:n,sections:j,children:t})})})]})},In=(0,i.QO)((0,s.Pi)(En)),Dn=((0,s.Pi)(En),r(47939)),Rn=function(e){var t=e.organization,r=e.project,n=e.children,s=(0,i.P5)("ongoingIncident")?"calc(100vh - 44px)":"100vh";return(0,u.jsxs)("div",{className:"flex w-full flex-col",style:{height:s,maxHeight:s},children:[(0,u.jsx)(zn,{organization:t,project:r}),(0,u.jsx)("div",{className:"overflow-auto",children:(0,u.jsx)("section",{className:"has-slide-in slide-in relative mx-auto my-10 max-w-2xl",children:n})})]})},Tn=(0,i.QO)((0,s.Pi)(Rn)),An=(0,s.Pi)(Rn),zn=function(e){var t=e.organization,r=e.project,n=t?1:r?2:0;return(0,u.jsx)("div",{className:"border-b p-3 dark:border-dark",children:(0,u.jsx)("div",{className:"PageHeader",children:(0,u.jsxs)("div",{className:"Breadcrumbs flex justify-between",children:[(0,u.jsx)("div",{className:"flex items-center text-sm",children:(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)(c(),{href:"/projects",children:(0,u.jsx)("a",{children:(0,u.jsx)("img",{src:"".concat(f.GW,"/img/supabase-logo.svg"),alt:"Supabase",className:"rounded border p-1 hover:border-white dark:border-dark",style:{height:24}})})}),(0,u.jsx)(Dn.Z,{size:"small",className:"text-scale-1100"}),(0,u.jsx)("p",{className:"text-sm",children:t?"Organization: ".concat(t.name):"Create an organization"}),(0,u.jsx)(Dn.Z,{size:"small",className:"text-scale-1100"}),(0,u.jsx)("p",{className:"text-sm ".concat(n<1?"text-scale-1100":""),children:r?r.name:"Create a new project"}),(0,u.jsx)(Dn.Z,{size:"small",className:"text-scale-1100"}),(0,u.jsx)("p",{className:"text-sm ".concat(n<2?"text-scale-1100":""),children:r?r.name:"Extend your database"})]})}),(0,u.jsx)("div",{className:"flex"})]})})})},Ln=(r(91700),(0,i.QO)((0,s.Pi)((function(e){var t,r,n,s=e.children,a=(0,i.oR)().ui;return(0,u.jsx)(Bn,{hideHeader:!0,hideIconBar:!0,children:(0,u.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-4 border-b py-4 px-5 dark:border-dark",children:[(0,u.jsx)(c(),{href:"/project/".concat(null===(t=a.selectedProject)||void 0===t?void 0:t.ref,"/settings/billing/subscription"),passHref:!0,children:(0,u.jsx)("a",{className:"text-scale-900 transition-colors hover:text-scale-1200",children:(0,u.jsx)(ve.Z,{size:16,strokeWidth:1.5})})}),(0,u.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,u.jsx)("h1",{className:"text-sm text-scale-1200",children:"Customize your plan"}),(0,u.jsx)("div",{className:"h-6 w-px bg-scale-600"}),(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:null===(r=a.selectedOrganization)||void 0===r?void 0:r.name}),(0,u.jsx)("span",{className:"text-scale-800",children:(0,u.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",children:(0,u.jsx)("path",{d:"M16 3.549L7.12 20.600"})})}),(0,u.jsx)("p",{className:"text-sm text-scale-1100",children:null===(n=a.selectedProject)||void 0===n?void 0:n.name})]})]})]}),(0,u.jsx)("div",{className:"overflow-auto",children:(0,u.jsx)("section",{className:"relative",children:s})})]})})})))),Fn=r(31027),Mn=function(e){var t,r=null!==(t=null===e||void 0===e?void 0:e.ref)&&void 0!==t?t:"default";return[{title:"",items:[{name:"Custom reports",key:"",url:"/project/".concat(r,"/reports"),items:[]}]},{items:[{name:"API",key:"api-overview",url:"/project/".concat(r,"/reports/api-overview"),items:[],label:"NEW"},{name:"Database",key:"database",url:"/project/".concat(r,"/reports/database"),items:[]},{name:"Query Performance",key:"query-performance",url:"/project/".concat(r,"/reports/query-performance"),items:[],label:"NEW"}]}]},Un=(0,i.QO)((0,s.Pi)((function(e){var t=e.title,r=e.children,n=(0,i.oR)().ui,s=(0,a.useRouter)(),o=n.selectedProject,c=s.pathname.split("/")[4]||"";return(0,u.jsx)(Bn,{title:t,product:"Reports",productMenu:(0,u.jsx)(p.Z,{page:c,menu:Mn(o)}),children:(0,u.jsx)("main",{style:{maxHeight:"100vh"},className:"flex-1 overflow-y-auto",children:r})})}))),qn=(0,s.Pi)((function(e){var t,r,n=e.children,s=(0,i.oR)().ui;return(0,u.jsx)(In,{title:null!==(t=null===(r=s.selectedOrganization)||void 0===r?void 0:r.name)&&void 0!==t?t:"Supabase",breadcrumbs:[{key:"org-settings",label:"Settings"}],children:n})})),Bn=Ft},49226:function(e,t,r){var n=r(27378),s=r(44198),a=r(24246);t.Z=function(e){var t=e.visible,r=void 0!==t&&t,i=e.bucket,o=void 0===i?{}:i,c=e.onSelectCancel,l=e.onSelectDelete,u=(0,n.useState)(!1),d=u[0],p=u[1],m=(0,n.useState)(""),f=(m[0],m[1]);(0,n.useEffect)((function(){f(""),p(!1)}),[r]);return(0,a.jsx)(s.Z,{visible:r,title:"Confirm deletion of ".concat(o.name),confirmPlaceholder:"Type in name of bucket",onConfirm:function(){p(!0),l(o)},onCancel:c,confirmString:o.name,loading:d,text:(0,a.jsxs)(a.Fragment,{children:["Your bucket ",(0,a.jsx)("span",{className:"font-bold",children:o.name})," and all its contents will be permanently deleted."]}),alert:"You cannot recover this bucket once it is deleted.",confirmLabel:"Delete bucket ".concat(o.name)})}},61548:function(e,t,r){r.d(t,{De:function(){return s},Eb:function(){return l},Qo:function(){return n},R9:function(){return c},Ye:function(){return a},fh:function(){return o},l6:function(){return u},sd:function(){return i}});var n={WEEK:604800,MONTH:2592e3,YEAR:31536e3},s={COLUMNS:"COLUMNS",LIST:"LIST"},a={NAME:"name",UPDATED_AT:"updated_at",CREATED_AT:"created_at",LAST_ACCESSED_AT:"last_accessed_at"},i={ASC:"asc",DESC:"desc"},o={BUCKET:"BUCKET",FILE:"FILE",FOLDER:"FOLDER"},c={READY:"READY",LOADING:"LOADING",EDITING:"EDITING"},l={upload:["INSERT"],download:["SELECT"],list:["SELECT"],update:["SELECT","UPDATE"],move:["SELECT","UPDATE"],copy:["SELECT","INSERT"],remove:["SELECT","DELETE"],createSignedUrl:["SELECT"],createSignedUrls:["SELECT"],getPublicUrl:[]},u={STORAGE_COLUMN:"STORAGE_COLUMN",STORAGE_ITEM:"STORAGE_ITEM",STORAGE_FOLDER:"STORAGE_FOLDER"}},20505:function(e,t,r){r.d(t,{GH:function(){return x},g_:function(){return g},hM:function(){return u},n6:function(){return f},pD:function(){return j}});var n=r(11246),s=r(90849),a=r(98784),i=r(61548);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){for(var t=0,r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return new Uint32Array([t])[0].toString(36)},u=function(e,t){if(0===t.length)return t;var r=d(e,t);return m(r)},d=function(e,t){var r=e.map((function(e){return e.name}));return t.map((function(e){var t=e.definition,n=e.check,s=p(null!==t?t:n);return s&&r.includes(s)?c(c({},e),{},{bucket:s}):c(c({},e),{},{bucket:"Ungrouped"})}))},p=function(e){var t,r=(null!==(t=null===e||void 0===e?void 0:e.split(" AND "))&&void 0!==t?t:[]).filter((function(e){return e.includes("bucket_id")})),s=(0,n.Z)(r,1)[0];return s?s.split("'")[1]:null},m=function(e){var t=(0,a.groupBy)(e,"bucket");return Object.keys(t).map((function(e){return{name:e,policies:t[e]}}))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.name,s=t.definition,a=t.allowedOperations,i=t.roles,o=s?s.replace(/\s+/g," ").trim():"";return a.map((function(t,s){return h(s,e,n,o,t,i,r)}))},h=function(e,t,r,n,s,a,i){var o=l(t);return{name:i?"".concat(r," ").concat(o,"_").concat(e):r,definition:"INSERT"===s?void 0:"(".concat(n,")"),action:"PERMISSIVE",check:"INSERT"===s?"(".concat(n,")"):void 0,command:s,schema:"storage",table:"objects",roles:a.length>0?a:void 0}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.keys(i.Eb).filter((function(t){var r=i.Eb[t];if(0===(0,a.difference)(r,e).length)return t}))},v=function(e,t,r,n,s,a,i){var o=l(t),c=i?"".concat(r," ").concat(o,"_").concat(e):r,u="Add policy for the ".concat(s,' operation under the policy "').concat(r,'"'),d=0===a.length?["public"]:a;return{description:u,statement:'\n    CREATE POLICY "'.concat(c,'"\n    ON storage.objects\n    FOR ').concat(s,"\n    TO ").concat(d.join(", "),"\n    ").concat("INSERT"===s?"WITH CHECK":"USING"," (").concat(n,");\n").replace(/\s+/g," ").trim()}},g=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.name,s=t.definition,a=t.allowedOperations,i=t.roles,o=a.map((function(t,a){return v(a,e,n,s||"",t,i,r)}));return o},j=function(e,t){return e.replace("{bucket_id}","'".concat(t,"'"))}},20183:function(e,t,r){r.d(t,{H:function(){return s},b:function(){return n}});var n,s=5368709120;!function(e){e.BYTES="bytes",e.KB="KB",e.MB="MB",e.GB="GB"}(n||(n={}))},77249:function(e,t,r){r.d(t,{F:function(){return i},K:function(){return a}});var n=r(20183),s=1024,a=function(e,t){if(e<=0)return{value:0,unit:n.b.BYTES};var r=void 0!==t?Object.values(n.b).indexOf(t):Math.floor(Math.log(e)/Math.log(s)),a=void 0!==t?r<0?0:r:r>3?3:r,i=Object.values(n.b)[a];return{value:e/Math.pow(s,a),unit:i}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.b.BYTES,r=Object.values(n.b).indexOf(t);return e<0||r<0?0:e*Math.pow(s,r)}},55671:function(e,t,r){var n=r(90849),s=r(90089),a=(r(27378),r(24246)),i=["children","colSpan","className","style"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){var t=e.body,r=e.head,n=e.className,s=e.containerClassName,i=e.borderless,o=e.headTrClasses,c=e.bodyClassName,l=e.style,u=["table-container"];s&&u.push(s),i&&u.push("table-container--borderless");var d=["table"];return n&&d.push(n),(0,a.jsx)("div",{className:u.join(" "),children:(0,a.jsxs)("table",{className:d.join(" "),style:l,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:o,children:r})}),(0,a.jsx)("tbody",{className:c,children:t})]})})}l.th=function(e){var t=e.children,r=e.className,n=e.style,s=["p-3 px-4 text-left"];return r&&s.push(r),(0,a.jsx)("th",{className:s.join(" "),style:n,children:t})},l.td=function(e){var t=e.children,r=e.colSpan,n=e.className,o=e.style,l=(0,s.Z)(e,i);return(0,a.jsx)("td",c(c({className:n,colSpan:r,style:o},l),{},{children:t}))},l.tr=function(e){var t=e.children,r=e.className,n=e.onClick,s=e.style,i=e.hoverable,o=[r];return(n||i)&&o.push("tr--link"),(0,a.jsx)("tr",{className:o.join(" "),onClick:n,style:s,children:t})},t.Z=l},41518:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(47314),s=r(90849),a=r(27378),i=r(35465),o=r(12163),c=r(24246);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u=function(e){return(0,c.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:i.Z},e))},d=r(15724),p=function(e){var t=e.onClick,r=e.buttonType,s=void 0===r?"default":r,i=e.icon,o=e.children,l=e.disabled,p=e.data,m=e.title,f=(0,a.useRef)(null),h=(0,a.useMemo)((function(){var e=null===p||void 0===p?void 0:p[0];if(e&&p){var t=Object.keys(e);return p.map((function(e){return t.reduce((function(t,r){return"object"===typeof e[r]?t[r]=JSON.stringify(e[r]):t[r]=String(e[r]),t}),{})}))}}),[JSON.stringify(p)]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.CSVLink,{ref:f,className:"hidden",data:h||[],filename:"supabase_logs.csv",title:m}),(0,c.jsx)(n.z,{type:s,icon:i||(0,c.jsx)(u,{}),disabled:l,onClick:function(e){t&&t(e),function(){var e;null===(e=f.current)||void 0===e||e.link.click()}()},children:o})]})}},86827:function(e,t,r){var n=r(27378),s=r(94831),a=r(3023),i=r(14888),o=r(87226),c=r(43815),l=r(27693),u=r.n(l),d=r(54511),p=r(40834),m=r(96600),f=r.n(m),h=r(53661),x=r(16915),v=r(24246);u().extend(f());t.Z=function(e){var t,r,l=e.data,m=e.yAxisKey,f=e.xAxisKey,g=e.format,j=e.customDateFormat,b=void 0===j?d.EE.FULL:j,y=e.title,w=e.highlightedValue,O=e.highlightedLabel,N=e.displayDateInUtc,k=e.minimalHeader,P=e.className,S=void 0===P?"":P,_=e.size,Z=void 0===_?"normal":_,C=e.onBarClick,E=(0,x.D3)(Z).Container,I=(0,n.useState)(null),D=I[0],R=I[1];if(0===l.length)return(0,v.jsx)(h.Z,{size:Z,className:S});var T,A=null!==D&&l&&void 0!==l[D]&&(T=l[D][f],N?u()(T).utc():u()(T)).format(b)||O,z=null!==D?null===(t=l[D])||void 0===t?void 0:t[m]:w;return(0,v.jsxs)("div",{className:["flex flex-col gap-3",S].join(" "),children:[(0,v.jsx)(p.Z,{title:y,format:g,customDateFormat:b,highlightedValue:"number"===typeof z?(0,x.V2)(z):z,highlightedLabel:A,minimalHeader:k}),(0,v.jsx)(E,{children:(0,v.jsxs)(s.v,{data:l,margin:{top:0,right:0,left:0,bottom:0},className:"overflow-visible",onMouseMove:function(e){e.activeTooltipIndex!==D&&R(e.activeTooltipIndex)},onMouseLeave:function(){return R(null)},onClick:function(e){var t,r,n=null===e||void 0===e||null===(t=e.activePayload)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.payload;C&&C(n,e)},children:[(0,v.jsx)(a.K,{dataKey:f,interval:l.length-2,angle:0,tick:!1,axisLine:{stroke:d.ZE.AXIS},tickLine:{stroke:d.ZE.AXIS}}),(0,v.jsx)(i.u,{content:function(){return null}}),(0,v.jsx)(o.$,{dataKey:m,fill:d.ZE.GREEN_1,animationDuration:300,maxBarSize:48,children:null===l||void 0===l?void 0:l.map((function(e,t){return(0,v.jsx)(c.b,{className:"transition-all duration-300 ".concat(C?"cursor-pointer":""),fill:D===t||null===D?d.ZE.GREEN_1:d.ZE.GREEN_2,enableBackground:12},"cell-".concat(t))}))})]})}),l&&(0,v.jsxs)("div",{className:"text-scale-900 -mt-9 flex items-center justify-between text-xs",children:[(0,v.jsx)("span",{children:u()(l[0][f]).format(b)}),(0,v.jsx)("span",{children:u()(null===(r=l[(null===l||void 0===l?void 0:l.length)-1])||void 0===r?void 0:r[f]).format(b)})]})]})}},40834:function(e,t,r){var n=r(24246);t.Z=function(e){var t=e.format,r=e.highlightedValue,s=e.highlightedLabel,a=e.title,i=e.minimalHeader,o=void 0!==i&&i,c=(0,n.jsx)("h3",{className:"text-scale-900 "+(o?"text-xs":"text-sm"),children:a}),l=(0,n.jsxs)("h5",{className:"text-scale-1200 text-xl font-normal ".concat(o?"text-base":"text-2xl"),children:[r,(0,n.jsx)("span",{className:"text-lg",children:t})]}),u=(0,n.jsx)("h5",{className:"text-scale-900 text-xs",children:s});return o?(0,n.jsxs)("div",{className:"flex flex-row items-center gap-x-4",style:{minHeight:"1.8rem"},children:[a&&c,(0,n.jsxs)("div",{className:"flex flex-row items-baseline gap-x-2",children:[r&&l,u]})]}):(0,n.jsxs)("div",{className:"h-16",children:[a&&c,r&&l,u]})}},54511:function(e,t,r){r.d(t,{EE:function(){return n},ZE:function(){return a}});var n,s=r(11246),a={TICK:"var(--colors-scale6)",AXIS:"var(--colors-scale6)",GREEN_1:"var(--colors-brand9)",GREEN_2:"var(--colors-brand6)"};[["brand",9],["mint",9],["blue",9],["sky",9],["lime",9],["yellow",9],["orange",9]].map((function(e){var t=(0,s.Z)(e,2),r=t[0],n=t[1];return{lighter:"var(--colors-".concat(r).concat(n-1,")"),base:"var(--colors-".concat(r).concat(n,")"),darker:"var(--colors-".concat(r).concat(n+1,")")}}));!function(e){e.FULL="MMM D, YYYY, hh:mma",e.DATE_ONLY="MMM D, YYYY"}(n||(n={}))},16915:function(e,t,r){r.d(t,{D3:function(){return f},V2:function(){return d}});var n=r(11246),s=r(27693),a=r.n(s),i=r(27378),o=r(29009),c=(r(54511),r(96600)),l=r.n(c),u=r(24246);a().extend(l());var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return p(e)?m(e,t):String(e)},p=function(e){return String(e).includes(".")},m=function(e,t){if(p(e)){var r=String(e).split("."),s=(0,n.Z)(r,2);return s[0]+"."+s[1].slice(0,t)}return String(e)+"."+"0".repeat(t)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tiny:76,small:96,normal:160,large:280},r=t[e],n=(0,i.useMemo)((function(){return function(e){var t=e.children;return(0,u.jsx)(o.h,{height:r,minHeight:r,width:"100%",children:t})}}),[e]);return{Container:n,minHeight:r}}},53661:function(e,t,r){var n=r(79446),s=r(16915),a=r(24246);t.Z=function(e){var t=e.title,r=void 0===t?"No data to show":t,i=e.message,o=e.className,c=void 0===o?"":o,l=e.size,u=(0,s.D3)(l).minHeight;return(0,a.jsxs)("div",{className:"border-scale-600 flex flex-grow w-full flex-col items-center justify-center space-y-2 border border-dashed text-center "+c,style:{minHeight:u+20},children:[(0,a.jsx)(n.Z,{className:"text-scale-800"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-scale-1100 text-xs",children:r}),i&&(0,a.jsx)("p",{className:"text-scale-900 text-xs",children:i})]})]})}},74847:function(e,t,r){var n=r(43350),s=r(80040),a=r(90849),i="\n".charCodeAt(0),o="\t".charCodeAt(0),c=" ".charCodeAt(0),l="[".charCodeAt(0),u="]".charCodeAt(0),d="{".charCodeAt(0),p="}".charCodeAt(0),m="(".charCodeAt(0),f=")".charCodeAt(0),h=",".charCodeAt(0),x=".".charCodeAt(0),v="'".charCodeAt(0),g='"'.charCodeAt(0),j="_".charCodeAt(0),b="a".charCodeAt(0),y="z".charCodeAt(0),w="A".charCodeAt(0),O="Z".charCodeAt(0),N="0".charCodeAt(0),k="9".charCodeAt(0),P=function(){function e(t,r,s){(0,n.Z)(this,e),(0,a.Z)(this,"_line",void 0),(0,a.Z)(this,"_text",void 0),(0,a.Z)(this,"_lines",void 0),(0,a.Z)(this,"model",void 0),(0,a.Z)(this,"offset",void 0),(0,a.Z)(this,"lineNumber",void 0),this.model=t,this.offset=r,this.lineNumber=s,this._text=t.getValue(),this._lines=this._text.split(/\r?\n/g),this._line=this._lines[s]}return(0,s.Z)(e,[{key:"hasNext",value:function(){return this.lineNumber>=0||this.offset>=0}},{key:"isFowardDQuote",value:function(){return!!this.hasForward()&&this.peekForward()===g}},{key:"isNextDQuote",value:function(){return!!this.hasNext()&&this.peekNext()===g}},{key:"isNextPeriod",value:function(){return!!this.hasNext()&&this.peekNext()===x}},{key:"peekNext",value:function(){return this.offset<0?this.lineNumber>0?i:0:this._line.charCodeAt(this.offset)}},{key:"hasForward",value:function(){return this.lineNumber<this._lines.length||this.offset<this._line.length}},{key:"peekForward",value:function(){return this.offset===this._line.length?this.lineNumber===this._lines.length?0:i:this._line.charCodeAt(this.offset+1)}},{key:"next",value:function(){if(this.offset<0)return this.lineNumber>0?(this.lineNumber--,this._line=this._lines[this.lineNumber],this.offset=this._line.length-1,i):(this.lineNumber=-1,0);var e=this._line.charCodeAt(this.offset);return this.offset--,e}},{key:"readArguments",value:function(){for(var e=0,t=0,r=0,n=0;this.hasNext();){var s=this.next();switch(s){case m:if(--e<0)return n;break;case f:e++;break;case d:r--;break;case p:r++;break;case l:t--;break;case u:t++;break;case g:case v:for(;this.hasNext()&&s!==this.next(););break;case h:e||t||r||n++}}return-1}},{key:"readIdent",value:function(){for(var e=!1,t=!1,r="";this.hasNext();){var n=this.peekNext();if(e&&!t&&!this._isIdentPart(n))break;if(n=this.next(),e||!t||n!==g){if(e||n!==c&&n!==o&&n!=i)if(e||n!==g&&!this._isIdentPart(n)){if(e)if(t){if(0===n)break;if(r=String.fromCharCode(n)+r,n===g)break}else r=String.fromCharCode(n)+r}else e=!0,t=n===g,r=String.fromCharCode(n)+r}else e=!0}return r}},{key:"readIdents",value:function(e){for(var t=[];e>0;){e--;var r=this.readIdent();if(!r)break;if(t.push(r),!this.isNextPeriod())break}return t.reverse()}},{key:"_isIdentPart",value:function(e){return e===j||e>=b&&e<=y||e>=w&&e<=O||e>=N&&e<=k}}]),e}();t.Z=P},1825:function(e,t,r){var n=r(90849),s=r(90089),a=r(47314),i=r(24903),o=r(92325),c=r(27378),l=r(24246),u=["text","children","onClick","bounceIconOnCopy"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.text,r=e.children,n=e.onClick,d=e.bounceIconOnCopy,m=(0,s.Z)(e,u),f=(0,c.useState)(!1),h=f[0],x=f[1];return(0,c.useEffect)((function(){if(h){var e=setTimeout((function(){return x(!1)}),2e3);return function(){return clearTimeout(e)}}}),[h]),(0,l.jsx)(a.z,p(p({onClick:function(e){x(!0),(0,i.vQ)(t),null===n||void 0===n||n(e)},icon:(0,l.jsx)(o.Z,{size:"tiny",className:[h&&d?"animate-bounce":"","transition"].join(" ")})},m),{},{children:null!==r&&void 0!==r?r:h?"Copied":"Copy"}))}},96364:function(e,t,r){var n=r(94269),s=r(77758),a=r(47314),i=r(27378),o=r(24246);t.Z=function(e){var t=e.visible,r=void 0!==t&&t,c=e.danger,l=void 0!==c&&c,u=e.title,d=void 0===u?"":u,p=e.description,m=void 0===p?"":p,f=e.size,h=void 0===f?"small":f,x=e.buttonLabel,v=void 0===x?"":x,g=e.buttonLoadingLabel,j=void 0===g?"":g,b=e.onSelectCancel,y=void 0===b?function(){}:b,w=e.onSelectConfirm,O=void 0===w?function(){}:w;(0,i.useEffect)((function(){r&&P(!1)}),[r]);var N=(0,i.useState)(!1),k=N[0],P=N[1];return(0,o.jsx)(n.C,{header:d,visible:r,title:d,description:m,size:h,hideFooter:!0,onCancel:y,children:(0,o.jsx)(s.Z,{initialValues:{},validateOnBlur:!0,onSubmit:function(){return P(!0),void O()},validate:function(){return[]},children:function(){return(0,o.jsxs)("div",{className:"space-y-4 py-4",children:[(0,o.jsx)(n.C.Content,{children:(0,o.jsx)("p",{className:"text-sm text-scale-1100",children:m})}),(0,o.jsx)(n.C.Separator,{}),(0,o.jsx)(n.C.Content,{children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(a.z,{block:!0,htmlType:"button",type:"default",onClick:y,disabled:k,children:"Cancel"}),(0,o.jsx)(a.z,{htmlType:"submit",block:!0,type:l?"danger":"primary",disabled:k,loading:k,children:j&&k?j:v||"Confirm"})]})})]})}})})}},89301:function(e,t,r){var n=r(90849),s=r(27378),a=r(56583),i=r(3258),o=r(9543),c=r(63532),l=r(24903),u=r(51452),d=r(24246);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,a.Z)((function(e,t){return m({items:e},t)})),h=(0,s.memo)((function(e){var t=e.data,r=e.index,n=e.style,s=t.items,a=t.itemProps,i=t.ItemComponent,o=r<s.length?s[r]:void 0;return o?(0,d.jsx)("div",{style:n,children:(0,d.jsx)(i,m({index:r,item:o},a))}):(0,d.jsxs)("div",{className:"space-y-1 my-1",style:n,children:[(0,d.jsx)(u.Z,{}),(0,d.jsx)(u.Z,{}),(0,d.jsx)(u.Z,{})]})}),i.wy);function x(e){var t=e.items,r=void 0===t?[]:t,n=e.itemProps,s=void 0===n?{}:n,a=e.hasNextPage,l=void 0!==a&&a,u=e.isLoadingNextPage,p=void 0!==u&&u,m=e.getItemSize,x=void 0===m?function(){return 40}:m,v=e.onLoadNextPage,g=void 0===v?function(){}:v,j=e.ItemComponent,b=void 0===j?function(){return null}:j,y=p?function(){}:g,w=function(e){return!l||e<r.length},O=l?r.length+1:r.length,N=f(r,{itemProps:s,ItemComponent:b});return(0,d.jsxs)("div",{className:"relative flex flex-col flex-grow",children:[(0,d.jsx)("div",{className:"flex-grow",children:(0,d.jsx)(o.Z,{children:function(e){var t=e.height,r=e.width;return(0,d.jsx)(c.Z,{itemCount:O,isItemLoaded:w,loadMoreItems:y,children:function(e){var n=e.onItemsRendered,s=e.ref;return(0,d.jsx)(i.S_,{ref:s,height:null!==t&&void 0!==t?t:0,width:null!==r&&void 0!==r?r:0,itemCount:O,itemData:N,itemSize:x,onItemsRendered:n,children:h})}})}})}),(0,d.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none"}})]})}t.Z=(0,s.memo)(x,l.t0)},44198:function(e,t,r){var n=r(94269),s=r(77758),a=r(11597),i=r(3648),o=r(47314),c=r(24246);t.Z=function(e){var t=e.title,r=e.size,l=void 0===r?"small":r,u=e.onConfirm,d=e.visible,p=e.onCancel,m=e.loading,f=e.confirmLabel,h=e.confirmPlaceholder,x=e.confirmString,v=e.alert,g=e.text,j=e.children;return(0,c.jsx)(n.C,{hideFooter:!0,closable:!0,size:l,visible:d,header:t,onCancel:p,children:(0,c.jsx)(s.Z,{validateOnBlur:!0,initialValues:{confirmValue:""},validate:function(e){var t={};return 0===e.confirmValue.length?t.confirmValue="Enter the required value.":e.confirmValue!==x&&(t.confirmValue="Value entered does not match."),t},onSubmit:u,children:function(){return(0,c.jsx)("div",{className:"w-full py-4",children:(0,c.jsxs)("div",{className:"space-y-4",children:[j&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.C.Content,{children:j}),(0,c.jsx)(n.C.Separator,{})]}),v&&(0,c.jsx)(n.C.Content,{children:(0,c.jsx)(a.Z,{variant:"warning",withIcon:!0,title:v})}),void 0!==g&&(0,c.jsx)(n.C.Content,{children:(0,c.jsx)("p",{className:"mb-2 block text-sm",children:g})}),(0,c.jsx)(n.C.Separator,{}),(0,c.jsx)(n.C.Content,{children:(0,c.jsx)(i.Z,{id:"confirmValue",label:(0,c.jsxs)("span",{children:["Type ",(0,c.jsx)("span",{className:"text-scale-1200",children:x})," to confirm."]}),placeholder:h})}),(0,c.jsx)(n.C.Separator,{}),(0,c.jsx)(n.C.Content,{children:(0,c.jsx)(o.z,{block:!0,type:"danger",size:"medium",htmlType:"submit",loading:m,disabled:m,children:f})})]})})}})})}},38230:function(e,t,r){var n=r(79305),s=r(33769),a=r(24246);t.Z=function(e){var t=e.resourceText,r=e.isFullPage,i=function(e){return(0,n.Z)(e),(0,a.jsx)("div",{className:["block w-full rounded border border-opacity-20 py-4 px-6","border-gray-600 bg-gray-100","dark:border-gray-300 dark:bg-gray-400"].join(" "),children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(s.Z,{size:"large"})}),(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-scale-1100",children:"Contact your organization owner or adminstrator for assistance."})})]})})]})})};return void 0!==r&&r?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"w-[550px]",children:(0,a.jsx)(i,{})})}):(0,a.jsx)(i,{})}},64368:function(e,t,r){r.d(t,{O:function(){return s}});var n=r(98784),s=(r(20796),function(e){return e?(0,n.compact)(Object.keys(e).filter((function(t){return null!==e[t]})).map((function(t){var r=e[t];if(r.limit>0&&r.usage/r.limit>1)return t}))):[]})},96423:function(e,t,r){var n=r(72853),s=(r(27378),r(24246));function a(e){var t=[];t=e.hideHeaderStyling?["\n    bg-panel-body-light dark:bg-panel-body-dark"]:["\n    bg-panel-header-light dark:bg-panel-header-dark\n    border-b border-panel-border-light dark:border-panel-border-dark"];var r=(0,s.jsxs)("div",{className:"\n        ".concat(e.noHideOverflow?"":"overflow-hidden"," rounded-md border\n        border-panel-border-light shadow-sm\n        dark:border-panel-border-dark ").concat(e.noMargin?"":"mb-8"," ").concat(e.className),children:[e.title&&(0,s.jsx)("div",{className:t.join(" "),children:(0,s.jsx)("div",{className:"flex items-center px-6 py-4",children:e.title})}),(0,s.jsx)("div",{className:"bg-panel-body-light dark:bg-panel-body-dark ".concat(e.bodyClassName||""),children:e.children}),e.footer&&(0,s.jsx)("div",{className:" border-t border-panel-border-interior-light bg-panel-footer-light dark:border-panel-border-interior-dark dark:bg-panel-footer-dark",children:(0,s.jsx)("div",{className:"flex h-12 items-center px-6",children:e.footer})})]});return!1===e.wrapWithLoading?r:(0,s.jsx)(n.Z,{active:Boolean(e.loading),children:r})}a.Content=function(e){var t=e.children,r=e.className,n=["px-6 py-4"];return r&&n.push(r),(0,s.jsx)("div",{className:n.join(" "),children:t})},t.Z=a},24954:function(e,t,r){var n=r(79894),s=r.n(n),a=r(37772),i=r(47314),o=r(24246);t.Z=function(e){var t=e.name,r=void 0===t?"":t,n=e.isActive,c=e.isExternal,l=e.icon,u=e.url,d=void 0===u?"":u,p=e.target,m=void 0===p?"_self":p,f=e.onClick,h=e.textClassName,x=void 0===h?"":h,v=e.hoverText,g=void 0===v?"":v,j=e.label,b=(0,o.jsx)(a.ZP.Item,{icon:l,rounded:!0,active:n,onClick:f,children:(0,o.jsx)("div",{className:"flex w-full items-center justify-between gap-1",children:(0,o.jsxs)("div",{title:g||("string"===typeof r?r:""),className:"flex items-center gap-2 truncate w-full "+x,children:[(0,o.jsxs)("span",{className:"truncate",children:[r," "]}),void 0!==j&&(0,o.jsx)("span",{className:"text-orange-800 text-xs font-normal truncate",children:j})]})})});return d?c?(0,o.jsx)(s(),{href:d,children:(0,o.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,o.jsx)(i.z,{block:!0,className:"!justify-start",type:"text",size:"small",icon:l,children:r})})}):(0,o.jsx)(s(),{href:d,passHref:!0,children:(0,o.jsx)("a",{className:"block",target:m,children:b})}):b}},24376:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(37772),s=r(84364),a=r(24954),i=r(24246),o=function(e){var t=e.page,r=e.menu;return(0,i.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto",children:(0,i.jsx)(n.ZP,{type:"pills",children:r.map((function(e,o){return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"my-6 space-y-8",children:(0,i.jsxs)("div",{className:"mx-3",children:[(0,i.jsx)(n.ZP.Group,{title:e.title?(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("span",{children:e.title}),e.isPreview&&(0,i.jsx)(s.Z,{color:"amber",children:"Not production ready"})]}):null}),(0,i.jsx)("div",{children:e.items.map((function(e){return(0,i.jsx)(a.Z,{url:e.url,name:e.name,icon:e.icon,isActive:t===e.key,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)}))})]})}),o!==r.length-1&&(0,i.jsx)("div",{className:"h-px w-full bg-scale-500"})]},e.title)}))})})}},941:function(e,t,r){r.d(t,{D:function(){return h},m:function(){return x}});var n=r(68043),s=r(25024),a=r(33769),i=r(14971),o=r(3648),c=r(96423),l=r(18229),u=r(43109),d=r(27102),p=r(36802),m=r(20796),f=r(24246),h=function(){var e,t,r=(0,p.UO)().ref,h=(0,l.oF)({projectRef:r}),x=h.data,v=h.isError,g=h.isLoading,j=(0,u.tb)({projectRef:r}),b=j.data,y=j.isError,w=j.isLoading,O=null===b||void 0===b?void 0:b.jwtSecretUpdateStatus,N=(0,d.FH)(n.KA.READ,"service_api_keys"),k=void 0===O||O===s.iL.Updated,P=(null!==(e=null===x||void 0===x?void 0:x.services)&&void 0!==e?e:[]).find((function(e){return e.app.id==m.pG})),S=null!==(t=null===P||void 0===P?void 0:P.service_api_keys)&&void 0!==t?t:[],_=0===S.length;return(0,f.jsx)(c.Z,{title:(0,f.jsxs)("div",{className:"space-y-3",children:[(0,f.jsx)("h5",{className:"text-base",children:"Project API keys"}),(0,f.jsxs)("p",{className:"text-sm text-scale-1000",children:["Your API is secured behind an API gateway which requires an API Key for every request.",(0,f.jsx)("br",{}),"You can use the keys below to use Supabase client libraries."]})]}),children:v||y?(0,f.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,f.jsx)(a.Z,{size:16,strokeWidth:1.5}),(0,f.jsx)("p",{className:"text-sm text-scale-1100",children:v?"Failed to retrieve API keys":"Failed to update JWT secret"})]}):_||g||w?(0,f.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,f.jsx)(i.Z,{className:"animate-spin",size:16,strokeWidth:1.5}),(0,f.jsx)("p",{className:"text-sm text-scale-1100",children:g||_?"Retrieving API keys":"JWT secret is being updated"})]}):S.map((function(e,t){var r;return(0,f.jsx)(c.Z.Content,{className:t>=1&&"border-t border-panel-border-interior-light dark:border-panel-border-interior-dark",children:(0,f.jsx)(o.Z,{readOnly:!0,disabled:!0,layout:"horizontal",className:"input-mono",label:(0,f.jsxs)(f.Fragment,{children:[null===(r=e.tags)||void 0===r?void 0:r.split(",").map((function(e,t){return(0,f.jsx)("code",{className:"text-xs text-code",children:e},"".concat(e).concat(t))})),"service_role"===e.tags&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("code",{className:"bg-red-900 text-xs text-white",children:"secret"})}),"anon"===e.tags&&(0,f.jsx)("code",{className:"text-xs text-code",children:"public"})]}),copy:N&&k,reveal:"anon"!==e.tags&&N&&k,value:N?O===s.iL.Failed?"JWT secret update failed, new API key may have issues":O===s.iL.Updating?"Updating JWT secret...":e.api_key:"You need additional permissions to view API keys",onChange:function(){},descriptionText:"service_role"===e.tags?"This key has the ability to bypass Row Level Security. Never share it publicly.":"This key is safe to use in a browser if you have enabled Row Level Security for your tables and configured policies."})},e.api_key)}))})},x=function(){var e,t,r,n,d,h=(0,p.UO)().ref,x=(0,l.oF)({projectRef:h}),g=x.data,j=x.isLoading,b=x.isError,y=(0,u.tb)({projectRef:h}),w=y.data,O=y.isError,N=y.isLoading,k=null===w||void 0===w?void 0:w.jwtSecretUpdateStatus,P=void 0===k||k===s.iL.Updated,S=null!==(e=null===g||void 0===g||null===(t=g.project)||void 0===t?void 0:t.jwt_secret)&&void 0!==e?e:"",_=(null!==(r=null===g||void 0===g?void 0:g.services)&&void 0!==r?r:[]).find((function(e){return e.app.id==m.pG})),Z=null===_||void 0===_?void 0:_.app_config,C="".concat(null!==(n=null===Z||void 0===Z?void 0:Z.protocol)&&void 0!==n?n:"https","://").concat(null!==(d=null===Z||void 0===Z?void 0:Z.endpoint)&&void 0!==d?d:"-");return(0,f.jsx)(v,{children:b||O?(0,f.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,f.jsx)(a.Z,{size:16,strokeWidth:1.5}),(0,f.jsx)("p",{className:"text-sm text-scale-1100",children:b?"Failed to retrieve configuration":"Failed to update JWT secret"})]}):j||N?(0,f.jsxs)("div",{className:"flex items-center justify-center py-8 space-x-2",children:[(0,f.jsx)(i.Z,{className:"animate-spin",size:16,strokeWidth:1.5}),(0,f.jsx)("p",{className:"text-sm text-scale-1100",children:j?"Retrieving API keys":"JWT secret is being updated"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Z.Content,{children:(0,f.jsx)(o.Z,{label:"URL",readOnly:!0,copy:!0,disabled:!0,className:"input-mono",value:C,descriptionText:"A RESTful endpoint for querying and managing your database.",layout:"horizontal"})}),(0,f.jsx)(c.Z.Content,{className:"border-t border-panel-border-interior-light dark:border-panel-border-interior-dark",children:(0,f.jsx)(o.Z,{label:"JWT Secret",readOnly:!0,copy:P,reveal:P,disabled:!0,value:k===s.iL.Failed?"JWT secret update failed":k===s.iL.Updating?"Updating JWT secret...":S,className:"input-mono",descriptionText:"Used to decode your JWTs. You can also use this to mint your own JWTs.",layout:"horizontal"})})]})})},v=function(e){var t=e.children;return(0,f.jsx)(c.Z,{title:(0,f.jsx)("div",{className:"space-y-3",children:(0,f.jsx)("h5",{className:"text-base",children:"Project Configuration"})}),children:t})}},71714:function(e,t,r){var n=r(24246);t.Z=function(e){return e.active?(0,n.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5"}):null}},51452:function(e,t,r){var n=r(24246);t.Z=function(e){var t=e.className,r=void 0===t?"":t,s=e.delayIndex,a=void 0===s?0:s,i=e.animationDelay,o=void 0===i?150:i;return(0,n.jsx)("div",{className:"shimmering-loader rounded py-3 ".concat(r),style:{animationFillMode:"backwards",animationDelay:"".concat(a*o,"ms")}})}},43109:function(e,t,r){r.d(t,{tb:function(){return j}});var n=r(90849),s=r(90089),a=r(55732),i=r(34707),o=r.n(i),c=r(25024),l=r(85945),u=r(36492),d=r(14919),p=r(20796),m=(r(27378),r(49175)),f=["enabled"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(t,r){var n,s,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,d.U2)("".concat(p.T5,"/props/project/").concat(s,"/jwt-secret-update-status"),{signal:r});case 5:if(!(a=e.sent).error){e.next=8;break}throw a.error;case 8:return i=null===a||void 0===a||null===(n=a.jwtSecretUpdateStatus)||void 0===n?void 0:n.meta,e.abrupt("return",{changeTrackingId:null===i||void 0===i?void 0:i.change_tracking_id,jwtSecretUpdateError:null===i||void 0===i?void 0:i.error,jwtSecretUpdateProgress:null===i||void 0===i?void 0:i.progress,jwtSecretUpdateStatus:null===i||void 0===i?void 0:i.status});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(e){var t=e.projectRef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enabled,a=void 0===n||n,i=(0,s.Z)(r,f),o=(0,l.NL)();return(0,u.a)(m.U.jwtSecretUpdatingStatus(t),(function(e){var r=e.signal;return v({projectRef:t},r)}),x({enabled:a&&"undefined"!==typeof t,refetchInterval:function(e){return!!e&&(e.jwtSecretUpdateStatus===c.iL.Updating&&1e3)},onSuccess:function(){o.invalidateQueries(m.U.postgrest(t))}},i))}},83282:function(e,t,r){r.d(t,{VP:function(){return o}});var n=r(90849),s=(r(27378),r(51991));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=function(e){var t=e.projectRef,r=e.connectionString,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.cp)({projectRef:t,connectionString:r,sql:"\n    show default_transaction_read_only;\n  ",queryKey:["project-read-only"]},i({select:function(e){var t;return"on"===(null===(t=e.result[0])||void 0===t?void 0:t.default_transaction_read_only)},enabled:"undefined"!==typeof t&&"undefined"!==typeof r},n))}},18229:function(e,t,r){r.d(t,{oF:function(){return v}});var n=r(90849),s=r(90089),a=r(55732),i=r(34707),o=r.n(i),c=r(36492),l=r(14919),u=r(20796),d=(r(27378),r(49175)),p=["enabled"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(o().mark((function e(t,r){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/props/project/").concat(n,"/settings"),{signal:r});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.projectRef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enabled,a=void 0===n||n,i=(0,s.Z)(r,p);return(0,c.a)(d.U.settings(t),(function(e){var r=e.signal;return h({projectRef:t},r)}),f({enabled:a&&"undefined"!==typeof t,refetchInterval:function(e,t){var r,n,s=(null!==(r=null===e||void 0===e?void 0:e.services)&&void 0!==r?r:[]).find((function(e){return e.app.id==u.pG}));return 0===(null!==(n=null===s||void 0===s?void 0:s.service_api_keys)&&void 0!==n?n:[]).length?2e3:0}},i))}},33582:function(e,t,r){r.d(t,{kl:function(){return v}});var n=r(90849),s=r(90089),a=r(55732),i=r(34707),o=r.n(i),c=r(36492),l=r(14919),u=r(20796),d=(r(27378),r(49175)),p=["enabled"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(o().mark((function e(t,r){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/projects/").concat(n,"/config/storage"),{signal:r});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.projectRef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enabled,a=void 0===n||n,i=(0,s.Z)(r,p);return(0,c.a)(d.U.storage(t),(function(e){var r=e.signal;return h({projectRef:t},r)}),f({enabled:a&&"undefined"!==typeof t},i))}},86051:function(e,t,r){r.d(t,{h1:function(){return j}});var n=r(90849),s=r(90089),a=r(55732),i=r(34707),o=r.n(i),c=r(85945),l=r(36492),u=r(25024),d=r(14919),p=r(20796),m=(r(27378),r(49175)),f=["enabled"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(t,r){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,d.U2)("".concat(p.Q2,"/projects/").concat(n,"/upgrade/status"),{signal:r});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(e){var t=e.projectRef,r=e.projectStatus,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.enabled,i=void 0===a||a,o=(0,s.Z)(n,f),d=(0,c.NL)();return(0,l.a)(m.U.upgradeStatus(t),(function(e){var r=e.signal;return v({projectRef:t},r)}),x({enabled:i&&"undefined"!==typeof t,refetchInterval:function(e){var t,n,s=e;return!!s&&((r===p.S.UPGRADING&&(null===(t=s.databaseUpgradeStatus)||void 0===t?void 0:t.status)!==u.h.Upgrading||(null===(n=s.databaseUpgradeStatus)||void 0===n?void 0:n.status)===u.h.Upgrading)&&5e3)},onSuccess:function(e){var r;(null===(r=e.databaseUpgradeStatus)||void 0===r?void 0:r.status)===u.h.Upgraded&&d.invalidateQueries(m.U.upgradeEligibility(t))}},o))}},76309:function(e,t,r){var n;r.d(t,{l:function(){return n}}),function(e){e.TABLE="r",e.VIEW="v",e.MATERIALIZED_VIEW="m",e.FOREIGN_TABLE="f",e.PARTITIONED_TABLE="p"}(n||(n={}))},58069:function(e,t,r){r.d(t,{H:function(){return x}});var n=r(90849),s=r(90089),a=r(55732),i=r(34707),o=r.n(i),c=r(59403),l=r(51991),u=r(30630),d=["enabled"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(o().mark((function e(t,r){var n,s,a,i,c,u,d,p,m,f,h,x,v,g,j,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectRef,s=t.connectionString,a=t.schema,i=void 0===a?"public":a,c=t.search,u=t.limit,d=void 0===u?100:u,p=t.page,m=void 0===p?0:p,f=t.sort,x="alphabetical"===(h=void 0===f?"alphabetical":f)?"c.relname asc":'"type_sort" asc, c.relname asc',v="alphabetical"===h?"r.name asc":"r.type_sort asc, r.name asc",g="\n    with records as (\n      select\n        c.oid::int8 as \"id\",\n        nc.nspname as \"schema\",\n        c.relname as \"name\",\n        c.relkind as \"type\",\n        case c.relkind\n          when 'r' then 1\n          when 'v' then 2\n          when 'm' then 3\n          when 'f' then 4\n          when 'p' then 5\n        end as \"type_sort\",\n        obj_description(c.oid) as \"comment\",\n        count(*) over() as \"count\"\n      from\n        pg_namespace nc\n        join pg_class c on nc.oid = c.relnamespace\n      where\n        c.relkind in ('r', 'v', 'm', 'f', 'p')\n        and not pg_is_other_temp_schema(nc.oid)\n        and (\n          pg_has_role(c.relowner, 'USAGE')\n          or has_table_privilege(\n            c.oid,\n            'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n          )\n          or has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n        )\n        and nc.nspname = '".concat(i,"'\n        ").concat(c?"and c.relname ilike '%".concat(c,"%'"):"","\n      order by ").concat(x,"\n      limit ").concat(d,"\n      offset ").concat(m*d,"\n    )\n    select\n      jsonb_build_object(\n        'entities', coalesce(jsonb_agg(\n          jsonb_build_object(\n            'id', r.id,\n            'schema', r.schema,\n            'name', r.name,\n            'type', r.type,\n            'comment', r.comment\n          )\n          order by ").concat(v,"\n        ), '[]'::jsonb),\n        'count', coalesce(min(r.count), 0)\n      ) \"data\"\n    from records r;\n  "),e.next=6,(0,l.Rj)({projectRef:n,connectionString:s,sql:g,queryKey:["public","entity-types"]},r);case 6:return j=e.sent,b=j.result,e.abrupt("return",b[0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){var t=e.projectRef,r=e.connectionString,n=e.schema,a=void 0===n?"public":n,i=e.search,o=e.limit,l=void 0===o?100:o,p=e.sort,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=h.enabled,v=void 0===x||x,g=(0,s.Z)(h,d);return(0,c.N)(u.C.list(t,{schema:a,search:i,sort:p,limit:l}),(function(e){var n=e.signal,s=e.pageParam;return f({projectRef:t,connectionString:r,schema:a,search:i,limit:l,page:s,sort:p},n)}),m({enabled:v&&"undefined"!==typeof t&&"undefined"!==typeof r,getNextPageParam:function(e,t){var r=t.length;if(!(r*l>=e.data.count))return r}},g))}},30630:function(e,t,r){r.d(t,{C:function(){return s}});var n=r(44285),s={list:function(e,t){return["projects",e,"entity-types"].concat((0,n.Z)(t?[t]:[]))}}},65966:function(e,t,r){r.d(t,{u:function(){return v}});var n=r(90849),s=r(90089),a=r(55732),i=r(34707),o=r.n(i),c=r(36492),l=r(14919),u=r(20796),d=(r(27378),r(61276)),p=["enabled"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(o().mark((function e(t,r){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.slug){e.next=3;break}throw new Error("slug is required");case 3:return e.next=5,(0,l.U2)("".concat(u.T5,"/organizations/").concat(n,"/members/reached-free-project-limit"),{signal:r});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.slug,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enabled,a=void 0===n||n,i=(0,s.Z)(r,p);return(0,c.a)(d.O.freeProjectLimitCheck(t),(function(e){var r=e.signal;return h({slug:t},r)}),f({enabled:a&&"undefined"!==typeof t},i))}},61276:function(e,t,r){r.d(t,{O:function(){return n}});var n={list:function(){return["organizations"]},detail:function(e){return["organizations",e,"detail"]},paymentMethods:function(e){return["organizations",e,"payment-methods"]},roles:function(e){return["organizations",e,"roles"]},freeProjectLimitCheck:function(e){return["organizations",e,"free-project-limit-check"]},customerProfile:function(e){return["organizations",e,"customer-profile"]}}},45322:function(e,t,r){r.d(t,{DK:function(){return g}});var n=r(11246),s=r(90849),a=r(90089),i=r(55732),o=r(34707),c=r.n(o),l=r(36492),u=r(14919),d=r(20796),p=(r(27378),function(e){return["projects",e,"usage"]}),m=["enabled"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(c().mark((function e(t,r){var n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,u.U2)("".concat(d.T5,"/projects/").concat(n,"/usage"),{signal:r});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var t=e.projectRef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.enabled,i=void 0===s||s,o=(0,a.Z)(r,m);return(0,l.a)(p(t),(function(e){var r=e.signal;return x({projectRef:t},r)}),h({enabled:i&&"undefined"!==typeof t,select:function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=(0,n.Z)(e,2),r=t[0],s=t[1];return"object"===typeof s?[r,h(h({},s),{},{usage:Number(s.usage)})]:[r,s]})))}},o))}},98248:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(85945),s=r(47510),a=r(90849),i=r(90089),o=r(27378),c=r(51991),l=["enabled"],u=["projectRef","connectionString","id"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.id;return"\n    select\n      c.oid::int8 as \"id\",\n      nc.nspname as \"schema\",\n      c.relname as \"name\",\n      c.relkind as \"type\",\n      obj_description(c.oid) as \"comment\",\n      count(*) over() as \"count\"\n    from\n      pg_namespace nc\n      join pg_class c on nc.oid = c.relnamespace\n    where\n      c.relkind in ('r', 'v', 'm', 'f', 'p')\n      and not pg_is_other_temp_schema(nc.oid)\n      and (\n        pg_has_role(c.relowner, 'USAGE')\n        or has_table_privilege(\n          c.oid,\n          'SELECT, INSERT, UPDATE, DELETE, TRUNCATE, REFERENCES, TRIGGER'\n        )\n        or has_any_column_privilege(c.oid, 'SELECT, INSERT, UPDATE, REFERENCES')\n      )\n      and c.oid = '".concat(t,"'\n    limit 1;\n  ")},f=r(30630);var h=function(e,t){var r=(0,n.NL)(),a=(0,s.d2)().project,d=(0,o.useMemo)((function(){var t,n,s,i;return null===(t=r.getQueryCache().find(f.C.list(null===a||void 0===a?void 0:a.ref)))||void 0===t||null===(n=t.state.data)||void 0===n||null===(s=n.pages)||void 0===s||null===(i=s.flatMap((function(e){return e.data.entities})))||void 0===i?void 0:i.find((function(t){return t.id===e}))}),[null===a||void 0===a?void 0:a.ref,e]),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.enabled,n=(0,i.Z)(t,l),s=e.projectRef,a=e.connectionString,o=e.id,d=(0,i.Z)(e,u);return(0,c.cp)({projectRef:s,connectionString:a,sql:m(p({id:o},d)),queryKey:["entity-type",o]},p({select:function(e){var t;return null!==(t=e.result[0])&&void 0!==t?t:null},enabled:r&&"undefined"!==typeof s&&"undefined"!==typeof o&&!isNaN(o)},n))}({projectRef:null===a||void 0===a?void 0:a.ref,connectionString:null===a||void 0===a?void 0:a.connectionString,id:e},{enabled:!d,onSettled:function(r){r||void 0===e||null===t||void 0===t||t(e)}}),x=h.data;return null!==d&&void 0!==d?d:x}},21246:function(e,t,r){var n=r(27378);t.Z=function(e){var t=(0,n.useRef)(e);return t.current=e,t}},17737:function(e,t,r){r.d(t,{HN:function(){return E}});var n=r(11246),s=r(90089),a=r(44285),i=r(55732),o=r(43350),c=r(80040),l=r(90849),u=r(34707),d=r.n(u),p=r(5332),m=(r(27378),r(79588)),f=r(98784),h=r(57476),x=r(14620),v=r(27102),g=r(24903),j=r(20796),b=r(14919),y=r(27061),w=new URL(y.env.SUPABASE_PUBLIC_URL||"http://localhost:8000"),O=("".concat(y.env.LOGFLARE_URL,"/api/"),"".concat(w.origin,"/rest/v1/"),w.host,w.protocol.replace(":","")),N=(y.env.DEFAULT_PROJECT_NAME,r(61548)),k=["previewUrl"];function P(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=null;function E(){return null===C&&(C=new z(null)),C}var I=9e5,D=200,R=31536e4,T=".emptyFolderPlaceholder",A="Please do not close the browser until it's completed",z=function(){function e(t){var r=this;(0,o.Z)(this,e),(0,l.Z)(this,"projectRef",""),(0,l.Z)(this,"loaded",!1),(0,l.Z)(this,"view",N.De.COLUMNS),(0,l.Z)(this,"sortBy",N.Ye.NAME),(0,l.Z)(this,"sortByOrder","asc"),(0,l.Z)(this,"buckets",[]),(0,l.Z)(this,"selectedBucket",{}),(0,l.Z)(this,"selectedBucketToEdit",{}),(0,l.Z)(this,"columns",[]),(0,l.Z)(this,"openedFolders",[]),(0,l.Z)(this,"selectedItems",[]),(0,l.Z)(this,"selectedItemsToDelete",[]),(0,l.Z)(this,"selectedItemsToMove",[]),(0,l.Z)(this,"selectedFilePreview",{}),(0,l.Z)(this,"selectedFileCustomExpiry",void 0),(0,l.Z)(this,"DEFAULT_OPTIONS",{limit:D,offset:0,sortBy:{column:this.sortBy,order:this.sortByOrder}}),(0,l.Z)(this,"ui",null),(0,l.Z)(this,"supabaseClient",null),(0,l.Z)(this,"endpoint",""),(0,l.Z)(this,"showDeleteBucketModal",!1),(0,l.Z)(this,"filePreviewCache",[]),(0,l.Z)(this,"uploadProgress",0),(0,l.Z)(this,"abortController",null),(0,l.Z)(this,"initializeSupabaseClient",(function(e,t,n){r.supabaseClient=(0,x.eI)("".concat(j.Qy?"https":n,"://").concat(t),e,{auth:{persistSession:!1,autoRefreshToken:!1,multiTab:!1,detectSessionInUrl:!1,localStorage:{getItem:function(e){},setItem:function(e,t){},removeItem:function(e){}}}})})),(0,l.Z)(this,"updateFileInPreviewCache",(function(e){var t=r.filePreviewCache.map((function(t){return t.id===e.id?e:t}));r.filePreviewCache=t})),(0,l.Z)(this,"addFileToPreviewCache",(function(e){var t=r.filePreviewCache.concat([e]);r.filePreviewCache=t})),(0,l.Z)(this,"clearFilePreviewCache",(function(){r.filePreviewCache=[]})),(0,l.Z)(this,"getLocalStorageKey",(function(){return"supabase-storage-".concat(r.projectRef)})),(0,l.Z)(this,"getLatestColumnIndex",(function(){return r.columns.length-1})),(0,l.Z)(this,"getCurrentlySelectedBucket",(function(){return r.columns.length>1?r.columns[1]:null})),(0,l.Z)(this,"getPathAlongOpenedFolders",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?r.openedFolders.length>0?"".concat(r.selectedBucket.name,"/").concat(r.openedFolders.map((function(e){return e.name})).join("/")):r.selectedBucket.name:r.openedFolders.map((function(e){return e.name})).join("/")})),(0,l.Z)(this,"abortApiCalls",(function(){r.abortController.abort(),r.abortController=new AbortController})),(0,l.Z)(this,"setLoaded",(function(e){r.loaded=e})),(0,l.Z)(this,"openDeleteBucketModal",(function(e){r.selectedBucketToEdit=e,r.showDeleteBucketModal=!0})),(0,l.Z)(this,"closeDeleteBucketModal",(function(){r.showDeleteBucketModal=!1})),(0,l.Z)(this,"setSelectedBucket",(function(e){r.selectedBucket=e,r.clearOpenedFolders(),r.closeFilePreview(),r.clearSelectedItems()})),(0,l.Z)(this,"setView",(function(e){r.view=e,r.closeFilePreview(),r.updateExplorerPreferences()})),(0,l.Z)(this,"setSortBy",function(){var e=(0,i.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.sortBy=t,r.closeFilePreview(),r.updateExplorerPreferences(),e.next=5,r.refetchAllOpenedFolders();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"setSortByOrder",function(){var e=(0,i.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.sortByOrder=t,r.closeFilePreview(),r.updateExplorerPreferences(),e.next=5,r.refetchAllOpenedFolders();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"clearColumns",(function(){r.columns=[]})),(0,l.Z)(this,"pushColumnAtIndex",(function(e,t){r.columns=r.columns.slice(0,t+1).concat([e])})),(0,l.Z)(this,"popColumn",(function(){r.abortApiCalls(),r.columns=r.columns.slice(0,r.getLatestColumnIndex())})),(0,l.Z)(this,"popColumnAtIndex",(function(e){r.columns=r.columns.slice(0,e+1)})),(0,l.Z)(this,"setColumnIsLoadingMore",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.columns=r.columns.map((function(r,n){return n===e?Z(Z({},r),{},{isLoadingMoreItems:t}):r}))})),(0,l.Z)(this,"pushOpenedFolderAtIndex",(function(e,t){r.openedFolders=r.openedFolders.slice(0,t).concat(e)})),(0,l.Z)(this,"popOpenedFolders",(function(){r.openedFolders=r.openedFolders.slice(0,r.openedFolders.length-1)})),(0,l.Z)(this,"popOpenedFoldersAtIndex",(function(e){r.openedFolders=r.openedFolders.slice(0,e+1)})),(0,l.Z)(this,"clearOpenedFolders",(function(){r.openedFolders=[]})),(0,l.Z)(this,"setSelectedItems",(function(e){r.selectedItems=e})),(0,l.Z)(this,"clearSelectedItems",(function(e){r.selectedItems=void 0!==e?r.selectedItems.filter((function(t){return t.columnIndex!==e})):[]})),(0,l.Z)(this,"setSelectedItemsToDelete",(function(e){r.selectedItemsToDelete=e})),(0,l.Z)(this,"clearSelectedItemsToDelete",(function(){r.selectedItemsToDelete=[]})),(0,l.Z)(this,"setSelectedItemsToMove",(function(e){r.selectedItemsToMove=e})),(0,l.Z)(this,"clearSelectedItemsToMove",(function(){r.selectedItemsToMove=[]})),(0,l.Z)(this,"setSelectedFileCustomExpiry",(function(e){r.selectedFileCustomExpiry=e})),(0,l.Z)(this,"addNewFolderPlaceholder",(function(e){var t=N.fh.FOLDER,n=-1===e?r.getLatestColumnIndex():e;r.addTempRow(t,"Untitled folder",N.R9.EDITING,n,{},!0)})),(0,l.Z)(this,"addNewFolder",function(){var e=(0,i.Z)(d().mark((function e(t,n){var s,a,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1,null!==(s=r.sanitizeNameForDuplicateInColumn(t,false,n))){e.next=4;break}return e.abrupt("return");case 4:if(/^[a-zA-Z0-9_-\s]*$/.test(s)){e.next=6;break}return e.abrupt("return",r.ui.setNotification({message:"Folder name contains invalid special characters",category:"error",duration:8e3}));case 6:if(!s.includes("/")&&!s.includes("\\")){e.next=8;break}return e.abrupt("return",r.ui.setNotification({message:"Folder names should not have forward or back slashes.",category:"error",duration:8e3}));case 8:if(0!==s.length){e.next=10;break}return e.abrupt("return",r.removeTempRows(n));case 10:return r.updateFolderAfterEdit(s,n),a="".concat(s,"/").concat(T),i=r.openedFolders.slice(0,n).map((function(e){return e.name})).join("/"),o=i.length>0?"".concat(i,"/").concat(a):a,e.next=16,r.supabaseClient.storage.from(r.selectedBucket.name).upload(o,new File([],T));case 16:if(!(i.length>0)){e.next=19;break}return e.next=19,(0,b.$v)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects"),{paths:["".concat(i,"/").concat(T)]});case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),(0,l.Z)(this,"setFilePreview",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,i,o,c,l,u,p,m,h,x;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(n=t.metadata)||void 0===n?void 0:n.size,!(null===(s=t.metadata)||void 0===s?void 0:s.mimetype)||!a){e.next=25;break}if(!(a>1e7)){e.next=6;break}return r.selectedFilePreview=Z(Z({},t),{},{previewUrl:"skipped"}),e.abrupt("return");case 6:if(r.selectedFilePreview=Z(Z({},t),{},{previewUrl:"loading"}),c=(0,f.find)(r.filePreviewCache,{id:t.id}),l=null!==(i=null===c||void 0===c?void 0:c.fetchedAt)&&void 0!==i?i:null,u=null!==(o=null===c||void 0===c?void 0:c.expiresIn)&&void 0!==o?o:null,!(p=null!==l&&null!==u)||l+1e3*u<Date.now()){e.next=16;break}r.selectedFilePreview=Z(Z({},t),{},{previewUrl:c.url}),e.next=23;break;case 16:return e.next=18,r.fetchFilePreview(t.name);case 18:m=e.sent,h=r.selectedBucket.public?"".concat(m,"?t=").concat((new Date).toISOString()):m,r.selectedFilePreview=Z(Z({},t),{},{previewUrl:h}),x={id:t.id,url:m,expiresIn:R,fetchedAt:Date.now()},p?r.updateFileInPreviewCache(x):r.addFileToPreviewCache(x);case 23:e.next=26;break;case 25:r.selectedFilePreview=Z(Z({},t),{},{previewUrl:null});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"closeFilePreview",(function(){r.selectedFilePreview={}})),(0,l.Z)(this,"copyFileURLToClipboard",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,i,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:0,void 0===(s=(0,f.find)(r.filePreviewCache,{id:t.id}))||0!==n){e.next=6;break}(0,g.vQ)(s.url,(function(){r.ui.setNotification({category:"success",message:"Copied URL for ".concat(t.name," to clipboard."),duration:4e3})})),e.next=22;break;case 6:return a=r.fetchFilePreview(t.name,n).then((function(e){var t=new URL(e);return t.searchParams.set("t",(new Date).toISOString()),t.toString()})),e.prev=7,(0,g.vQ)(a,(function(){r.ui.setNotification({category:"success",message:"Copied URL for ".concat(t.name," to clipboard."),duration:4e3})})),e.t0=t.id,e.next=12,a;case 12:e.t1=e.sent,e.t2=R,e.t3=Date.now(),i={id:e.t0,url:e.t1,expiresIn:e.t2,fetchedAt:e.t3},r.addFileToPreviewCache(i),e.next=22;break;case 19:e.prev=19,e.t4=e.catch(7),r.ui.setNotification({category:"error",message:"Failed to copy URL: ".concat(e.t4)});case 22:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"createBucket",function(){var e=(0,i.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.v_)("".concat(r.endpoint,"/buckets"),t);case 2:if(!(n=e.sent).error){e.next=8;break}return r.ui.setNotification({category:"error",message:n.error.message}),e.abrupt("return",n);case 8:return e.next=10,r.fetchBuckets();case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"openBucket",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,s=t.name,-1,(0,f.isEqual)(r.selectedBucket,t)){e.next=6;break}return r.setSelectedBucket(t),e.next=6,r.fetchFolderContents(n,s,-1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"fetchBuckets",(0,i.Z)(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.U2)("".concat(r.endpoint,"/buckets"));case 2:if(!(t=e.sent).error){e.next=5;break}return e.abrupt("return",r.ui.setNotification({category:"error",message:t.error.message}));case 5:return n=t.map((function(e){return Z(Z({},e),{},{type:N.fh.BUCKET,status:N.R9.READY})})),r.buckets=n,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))),(0,l.Z)(this,"deleteBucket",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,s=t.name,e.next=3,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(n,"/empty"),{});case 3:if(!(a=e.sent).error){e.next=7;break}return r.ui.setNotification({category:"error",message:a.error.message}),e.abrupt("return",!1);case 7:return e.next=9,(0,b.$v)("".concat(r.endpoint,"/buckets/").concat(n));case 9:if(!(i=e.sent).error){e.next=13;break}return r.ui.setNotification({category:"error",message:i.error.message}),e.abrupt("return",!1);case 13:return e.next=15,r.fetchBuckets();case 15:return s===r.selectedBucket.name&&(r.setSelectedBucket({}),r.clearColumns(),r.clearOpenedFolders()),r.clearSelectedItemsToDelete(),r.closeDeleteBucketModal(),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"editBucket",function(){var e=(0,i.Z)(d().mark((function e(t,n){var s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.r$)("".concat(r.endpoint,"/buckets/").concat(t.id),n);case 2:if(!(s=e.sent).error){e.next=6;break}return r.ui.setNotification({category:"error",message:s.error.message}),e.abrupt("return",s);case 6:return r.openBucket(Z(Z({},t),n)),r.fetchBuckets(),r.clearFilePreviewCache(),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),(0,l.Z)(this,"getFile",function(){var e=(0,i.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,r){return t.file(e,r)}));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("getFile error:",e.t0),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"getFilesDataTransferItems",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,i,o,c,l,u,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.ui.setNotification({category:"loading",message:"Retrieving items to upload..."}),s=[],i=[],o=P(t);try{for(o.s();!(c=o.n()).done;)l=c.value,i.push(l.webkitGetAsEntry())}catch(d){o.e(d)}finally{o.f()}case 5:if(!(i.length>0)){e.next=25;break}if(!(u=i.shift()||{}).isFile){e.next=14;break}return e.next=10,r.getFile(u);case 10:void 0!==(m=e.sent)&&(m.path=u.fullPath.slice(1),s.push(m)),e.next=23;break;case 14:if(!u.isDirectory){e.next=23;break}return e.t0=i.push,e.t1=i,e.t2=a.Z,e.next=20,r.readAllDirectoryEntries(u.createReader());case 20:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 23:e.next=5;break;case 25:return p.ZP.dismiss(n),e.abrupt("return",s);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"readAllDirectoryEntries",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,r.readEntriesPromise(t);case 3:s=e.sent;case 4:if(!(s.length>0)){e.next=11;break}return n.push.apply(n,(0,a.Z)(s)),e.next=8,r.readEntriesPromise(t);case 8:s=e.sent,e.next=4;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"readEntriesPromise",function(){var e=(0,i.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,r){t.readEntries(e,r)}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("readEntriesPromise error:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"uploadFiles",function(){var e=(0,i.Z)(d().mark((function e(t,n){var s,a,o,c,l,u,m,h,x,v,g,j,y,w,O,k,P,S,_,Z=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Z.length>2&&void 0!==Z[2]&&Z[2],l=new Date,u=!0,!c){e.next=9;break}return e.next=6,r.getFilesDataTransferItems(t);case 6:e.t0=e.sent.filter((function(e){return!e.path.includes("#/")})),e.next=10;break;case 9:e.t0=Array.from(t);case 10:return m=e.t0,h=-1===n?r.getLatestColumnIndex():n,x=(null!==(s=null===(a=r.columns)||void 0===a||null===(o=a[h])||void 0===o?void 0:o.items)&&void 0!==s?s:[]).filter((function(e){return!e.id})).map((function(e){return e.name})),v=m.map((function(e){if(!e.path)return e;var t=e.path.split("/"),s=t.length>1?t[0]:null;if(x.includes(s)){var a=r.sanitizeNameForDuplicateInColumn(s,u,n);t[0]=a,e.path=t.join("/")}return e})),r.uploadProgress=0,g=[],j=v.length,y=0,w=0,O=r.openedFolders.slice(0,h).map((function(e){return e.name})).join("/"),k=r.ui.setNotification({category:"loading",message:"Uploading ".concat(v.length," file").concat(v.length>1?"s":"","..."),description:A,progress:0}),P=v.map((function(e){var t,n={cacheControl:"3600"},s={mimetype:e.type,size:e.size},a=(null!==(t=null===e||void 0===e?void 0:e.path)&&void 0!==t?t:"").split("/").length>1,o=a?e.name:r.sanitizeNameForDuplicateInColumn(e.name,u),c=(0,f.has)(e,["path"])&&a?e.path:o,l=O.length>0?"".concat(O,"/").concat(c):c;if(a){var p=e.path.split("/")[0];g.includes(p)||(r.addTempRow(N.fh.FOLDER,p,N.R9.LOADING,h,s),g.push(p))}else r.addTempRow(N.fh.FILE,o,N.R9.LOADING,h,s);return function(){return new Promise(function(){var t=(0,i.Z)(d().mark((function t(s){var a,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.supabaseClient.storage.from(r.selectedBucket.name).upload(l,e,n);case 2:a=t.sent,i=a.error,r.uploadProgress=r.uploadProgress+1/v.length,i?(w+=1,r.ui.setNotification({message:"Failed to upload ".concat(e.name,": ").concat(i.message),category:"error"}),s()):(y+=1,s());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})),S=(0,f.chunk)(P,10),e.prev=23,e.next=26,S.reduce(function(){var e=(0,i.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,Promise.allSettled(n.map((function(e){return e()})));case 4:r.ui.setNotification({id:k,category:"loading",message:"Uploading ".concat(v.length," file").concat(v.length>1?"s":"","..."),description:A,progress:100*r.uploadProgress});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve());case 26:if(!(y>0)){e.next=29;break}return e.next=29,(0,b.$v)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects"),{paths:["".concat(O,"/").concat(T)]});case 29:return e.next=31,r.refetchAllOpenedFolders();case 31:0===j?p.ZP.dismiss(k):w===j?r.ui.setNotification({id:k,category:"error",message:"Failed to upload ".concat(j," file").concat(j>1?"s":"","!")}):y===j?r.ui.setNotification({id:k,category:"success",message:"Successfully uploaded ".concat(j," file").concat(j>1?"s":"","!")}):r.ui.setNotification({id:k,category:"success",message:"Successfully uploaded ".concat(y," out of ").concat(j," file").concat(j>1?"s":"","!")}),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(23),r.ui.setNotification({id:k,error:e.t1,message:"Failed to upload files",category:"error"});case 37:_=new Date,console.log("Total time taken for ".concat(v.length," files: ").concat((_-l)/1e3," seconds"));case 39:case"end":return e.stop()}}),e,null,[[23,34]])})));return function(t,r){return e.apply(this,arguments)}}()),(0,l.Z)(this,"moveFiles",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,o,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.compact)(t.split("/")),s=n.join("/"),a=0,r.clearSelectedItems(),o=(0,p.ZP)("Please do not close the browser until the move is completed",{duration:1/0}),e.next=7,Promise.all(r.selectedItemsToMove.map(function(){var e=(0,i.Z)(d().mark((function e(n){var i,o,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.openedFolders.slice(0,n.columnIndex).map((function(e){return e.name})).join("/"),o=i.length>0?"".concat(i,"/").concat(n.name):n.name,c=t.length>0?"".concat(s,"/").concat(n.name):n.name,e.next=5,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/move"),{from:o,to:c});case 5:(l=e.sent).error&&(a+=1,r.ui.setNotification({category:"error",message:l.error.message}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return a===r.selectedItemsToMove.length?r.ui.setNotification({message:"Failed to move files",category:"error"}):r.ui.setNotification({message:"Successfully moved ".concat(r.selectedItemsToMove.length-a," to ").concat(s),category:"success"}),p.ZP.dismiss(o),c=r.selectedItemsToMove.map((function(e){return e.id})),l=r.filePreviewCache.filter((function(e){return!c.includes(e.id)})),r.filePreviewCache=l,e.next=14,r.refetchAllOpenedFolders();case 14:r.clearSelectedItemsToMove();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"fetchFilePreview",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,i,o,c,l=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:0,s=!1,a=r.getPathAlongOpenedFolders(s),i=a.length>0?"".concat(a,"/").concat(t):t,!r.selectedBucket.public){e.next=15;break}return e.next=7,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/public-url"),{path:i});case 7:if((o=e.sent).error){e.next=12;break}return e.abrupt("return",o.publicUrl);case 12:console.error("Failed to fetch public file preview",o.error.message);case 13:e.next=23;break;case 15:return e.next=17,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/sign"),{path:i,expiresIn:n||R});case 17:if((c=e.sent).error){e.next=22;break}return e.abrupt("return",c.signedUrl);case 22:console.error("Failed to fetch signed url preview",c.error.message);case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"deleteFiles",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,o,c,l,u,m,h=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]&&h[1],r.closeFilePreview(),s=0,a=(0,f.some)(t,"prefix")?t.map((function(e){return"".concat(e.prefix,"/").concat(e.name)})):t.map((function(e){var t=e.name,n=e.columnIndex,s=r.openedFolders.slice(0,n).map((function(e){return e.name})).join("/");return r.updateRowStatus(t,N.R9.LOADING,n),s.length>0?"".concat(s,"/").concat(t):t})),r.clearSelectedItems(),o=r.ui.setNotification({category:"loading",message:"Deleting ".concat(a.length," file(s)..."),description:A,progress:0}),c=(0,f.chunk)(a,2).map((function(e){return function(){return s+=e.length/a.length,(0,b.$v)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.name,"/objects"),{paths:e})}})),e.next=9,(0,f.chunk)(c,2).reduce(function(){var e=(0,i.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,Promise.all(n.map((function(e){return e()})));case 4:r.ui.setNotification({id:o,category:"loading",message:"Deleting ".concat(a.length," file(s)..."),description:A,progress:100*s});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve());case 9:if(l=t.map((function(e){return e.id})),u=r.filePreviewCache.filter((function(e){return!l.includes(e.id)})),r.filePreviewCache=u,n){e.next=22;break}return m=(0,f.uniq)(a.map((function(e){var t=e.split("/");return t.slice(0,t.length-1).join("/")}))),e.next=16,Promise.all(m.map((function(e){return r.validateParentFolderEmpty(e)})));case 16:return r.ui.setNotification({id:o,category:"success",message:"Successfully deleted ".concat(a.length," file(s)")}),e.next=19,r.refetchAllOpenedFolders();case 19:r.clearSelectedItemsToDelete(),e.next=23;break;case 22:p.ZP.dismiss(o);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"downloadFolder",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,o,c,l,u,p,m,x;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,s=r.ui.setNotification({category:"loading",message:"Retrieving files from folder..."}),e.next=4,r.getAllItemsAlongFolder(t);case 4:return a=e.sent,r.ui.setNotification({id:s,category:"loading",message:"Downloading ".concat(a.length," files..."),description:A,progress:0}),o=a.map((function(e){var t,s,o=null!==(t=null===(s=e.metadata)||void 0===s?void 0:s.mimetype)&&void 0!==t?t:null;return function(){return new Promise(function(){var t=(0,i.Z)(d().mark((function t(s){var i,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/download"),{path:"".concat(e.prefix,"/").concat(e.name)});case 2:if(i=t.sent,n+=1/a.length,i.error){t.next=11;break}return t.next=7,i.blob();case 7:c=t.sent,s({name:e.name,prefix:e.prefix,blob:new Blob([c],{type:o})}),t.next=13;break;case 11:console.error("Failed to download file","".concat(e.prefix,"/").concat(e.name)),s(!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})),c=(0,f.chunk)(o,10),e.next=10,c.reduce(function(){var e=(0,i.Z)(d().mark((function e(t,i){var o,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return o=e.sent,e.next=5,Promise.allSettled(i.map((function(e){return e()})));case 5:return c=e.sent,r.ui.setNotification({id:s,category:"loading",message:"Downloading ".concat(a.length," file").concat(a.length>1?"s":"","..."),description:A,progress:100*n}),e.abrupt("return",(null!==o&&void 0!==o?o:[]).concat(c.map((function(e){return e.value})).filter(Boolean)));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve());case 10:if(l=e.sent,u=new h.U5("application/zip"),p=new h._Q(u,{bufferedWrite:!0}),0!==l.length){e.next=15;break}return e.abrupt("return",r.ui.setNotification({id:s,category:"error",message:"Failed to download files from the ".concat(t.name)}));case 15:return l.forEach((function(e){e.blob&&p.add("".concat(e.prefix,"/").concat(e.name),new h.Nt(e.blob))})),e.t0=URL,e.next=19,p.close();case 19:e.t1=e.sent,m=e.t0.createObjectURL.call(e.t0,e.t1),(x=document.createElement("a")).href=m,x.setAttribute("download","".concat(t.name,".zip")),document.body.appendChild(x),x.click(),x.parentNode.removeChild(x),r.ui.setNotification({id:s,category:"success",message:'Successfully downloaded folder "'.concat(t.name,'"')});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"downloadSelectedFiles",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,o,c,l,u,p,m,x,v,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.min.apply(Math,(0,a.Z)(t.map((function(e){return e.columnIndex})))),s=t.map((function(e){var t=e.name,s=e.columnIndex,a=r.openedFolders.slice(n,s).map((function(e){return e.name})).join("/"),i=a.length>0?"".concat(a,"/").concat(t):t;return Z(Z({},e),{},{formattedPathToFile:i})})),o=0,!0,!1,c=r.ui.setNotification({category:"loading",message:"Downloading ".concat(t.length," files...")}),l=s.map((function(e){return function(){return new Promise(function(){var t=(0,i.Z)(d().mark((function t(n){var a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.downloadFile(e,false,true);case 2:a=t.sent,o+=1/s.length,n(Z(Z({},a),{},{name:e.formattedPathToFile}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})),u=(0,f.chunk)(l,10),e.next=10,u.reduce(function(){var e=(0,i.Z)(d().mark((function e(n,s){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return a=e.sent,e.next=5,Promise.allSettled(s.map((function(e){return e()})));case 5:return i=e.sent,r.ui.setNotification({id:c,category:"loading",message:"Downloading ".concat(t.length," file").concat(t.length>1?"s":"","..."),description:A,progress:100*o}),e.abrupt("return",(null!==a&&void 0!==a?a:[]).concat(i.map((function(e){return e.value})).filter(Boolean)));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve());case 10:return p=e.sent,m=new h.U5("application/zip"),x=new h._Q(m,{bufferedWrite:!0}),p.forEach((function(e){x.add(e.name,new h.Nt(e.blob))})),e.t0=URL,e.next=17,x.close();case 17:e.t1=e.sent,v=e.t0.createObjectURL.call(e.t0,e.t1),(g=document.createElement("a")).href=v,g.setAttribute("download","supabase-files.zip"),document.body.appendChild(g),g.click(),g.parentNode.removeChild(g),r.ui.setNotification({id:c,category:"success",message:"Successfully downloaded ".concat(p.length," files")});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"downloadFile",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,i,o,c,l,u,p,m,f,h,x,v,g=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(g.length>1&&void 0!==g[1])||g[1],i=g.length>2&&void 0!==g[2]&&g[2],o=t.name,c=null!==(n=null===t||void 0===t||null===(s=t.metadata)||void 0===s?void 0:s.mimetype)&&void 0!==n?n:null,l=a?r.ui.setNotification({category:"loading",message:"Retrieving ".concat(o,"...")}):void 0,u=r.openedFolders.slice(0,t.columnIndex).map((function(e){return e.name})).join("/"),p=u.length>0?"".concat(u,"/").concat(o):o,e.next=9,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/download"),{path:p});case 9:if((m=e.sent).error){e.next=29;break}return e.next=13,m.blob();case 13:if(f=e.sent,h=new Blob([f],{type:c}),!i){e.next=17;break}return e.abrupt("return",{name:o,blob:h});case 17:return x=window.URL.createObjectURL(h),(v=document.createElement("a")).href=x,v.setAttribute("download","".concat(o)),document.body.appendChild(v),v.click(),v.parentNode.removeChild(v),window.URL.revokeObjectURL(f),l&&r.ui.setNotification({id:l,category:"success",message:"Downloading ".concat(o)}),e.abrupt("return",!0);case 29:return l&&r.ui.setNotification({error:m.error,id:l,category:"error",message:"Failed to download ".concat(o)}),e.abrupt("return",!1);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"renameFile",function(){var e=(0,i.Z)(d().mark((function e(t,n,a){var i,o,c,l,u,p,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.name)!==n&&0!==n.length){e.next=5;break}r.updateRowStatus(i,N.R9.READY,a),e.next=23;break;case 5:return r.updateRowStatus(i,N.R9.LOADING,a,n),!1,o=r.getPathAlongOpenedFolders(false),c=o.length>0?"".concat(o,"/").concat(i):i,l=o.length>0?"".concat(o,"/").concat(n):n,e.next=12,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/move"),{from:c,to:l});case 12:if(!(u=e.sent).error){e.next=17;break}r.ui.setNotification({category:"error",message:u.error.message}),e.next=23;break;case 17:return r.ui.setNotification({category:"success",message:'Successfully renamed "'.concat(i,'" to "').concat(n,'"')}),p=r.filePreviewCache.filter((function(e){return e.id!==t.id})),r.filePreviewCache=p,r.selectedFilePreview.name===i&&(t.previewUrl,m=(0,s.Z)(t,k),r.setFilePreview(Z(Z({},m),{},{name:n}))),e.next=23,r.refetchAllOpenedFolders();case 23:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),(0,l.Z)(this,"fetchFolderContents",function(){var e=(0,i.Z)(d().mark((function e(t,n,s){var a,i,o,c,l,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]?u[3]:"",r.abortApiCalls(),r.updateRowStatus(n,N.R9.LOADING,s),r.pushColumnAtIndex({id:t,name:n,status:N.R9.LOADING,items:[]},s),i=r.openedFolders.map((function(e){return e.name})).join("/"),o={limit:D,offset:0,search:a,sortBy:{column:r.sortBy,order:r.sortByOrder}},e.next=8,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/list"),{path:i,options:o},{abortSignal:r.abortController.signal});case 8:c=e.sent,r.updateRowStatus(n,N.R9.READY,s),c.error||(l=r.formatFolderItems(c),r.pushColumnAtIndex({id:t||n,name:n,items:l,hasMoreItems:l.length===D,isLoadingMoreItems:!1},s));case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),(0,l.Z)(this,"fetchMoreFolderContents",function(){var e=(0,i.Z)(d().mark((function e(t,n){var s,a,i,o,c,l=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>2&&void 0!==l[2]?l[2]:"",r.setColumnIsLoadingMore(t),a=r.openedFolders.map((function(e){return e.name})).join("/"),i={limit:D,offset:n.items.length,search:s,sortBy:{column:r.sortBy,order:r.sortByOrder}},e.next=6,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/list"),{path:a,options:i},{abortSignal:r.abortController.signal});case 6:(o=e.sent).error||(c=r.formatFolderItems(o),r.columns=r.columns.map((function(e,r){return r===t?Z(Z({},e),{},{items:e.items.concat(c),isLoadingMoreItems:!1,hasMoreItems:o.length===D}):e})));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),(0,l.Z)(this,"refetchAllOpenedFolders",(0,i.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.openedFolders.map((function(e){return e.name})),e.next=3,r.fetchFoldersByPath(t);case 3:case"end":return e.stop()}}),e)})))),(0,l.Z)(this,"fetchFoldersByPath",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[""].concat(t),e.next=3,Promise.all(n.map(function(){var e=(0,i.Z)(d().mark((function e(n,s){var a,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(0,s).join("/"),i={limit:D,offset:0,sortBy:{column:r.sortBy,order:r.sortByOrder}},e.next=4,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/list"),{path:a,options:i});case 4:if(!(o=e.sent).error){e.next=8;break}return console.error("Error at fetchFoldersByPath:",o.error),e.abrupt("return",[]);case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 3:s=e.sent,a=s.map((function(e,t){var s=r.formatFolderItems(e);return{id:null,name:0===t?r.selectedBucket.name:n[t],items:s,hasMoreItems:s.length===D,isLoadingMoreItems:!1}})),r.columns=a,o=t.map((function(e,t){var r=(0,f.find)(a[t].items,{name:e});return r||{id:null,name:e,type:N.fh.FOLDER,status:N.R9.READY}})),r.openedFolders=o;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"validateParentFolderEmpty",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.id,"/objects/list"),{path:t,options:r.DEFAULT_OPTIONS});case 2:if((n=e.sent).error||0!==n.length){e.next=7;break}return s="".concat(t,"/").concat(T),e.next=7,r.supabaseClient.storage.from(r.selectedBucket.name).upload(s,new File([],T));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"deleteFolder",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!0,e.next=3,r.getAllItemsAlongFolder(t);case 3:return a=e.sent,e.next=6,r.deleteFiles(a,s);case 6:if((null===(n=r.openedFolders[r.openedFolders.length-1])||void 0===n?void 0:n.name)===t.name&&(r.popColumnAtIndex(t.columnIndex),r.popOpenedFoldersAtIndex(t.columnIndex-1)),i=r.openedFolders.map((function(e){return e.name})).join("/"),!(i.length>0)){e.next=12;break}return e.next=12,r.validateParentFolderEmpty(i);case 12:return e.next=14,r.refetchAllOpenedFolders();case 14:r.clearSelectedItemsToDelete(),r.ui.setNotification({category:"success",message:"Successfully deleted ".concat(t.name)});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"renameFolder",function(){var e=(0,i.Z)(d().mark((function e(t,n,s){var a,o,c,l,u,p,m,h,x;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.name)!==n){e.next=3;break}return e.abrupt("return",r.updateRowStatus(a,N.R9.READY,s));case 3:if(o=r.ui.setNotification({category:"loading",message:"Renaming folder to ".concat(n),description:A,progress:0}),!n.includes("/")&&!n.includes("\\")){e.next=6;break}return e.abrupt("return",r.ui.setNotification({message:"Folder name cannot contain forward or back slashes.",type:"error"}));case 6:return r.updateRowStatus(a,N.R9.LOADING,s,n),e.next=9,r.getAllItemsAlongFolder(t);case 9:return c=e.sent,l=0,u=!1,p=c.map((function(e){var t="".concat(e.prefix,"/").concat(e.name),a=t.split("/"),o=a.slice(0,s).concat(n).concat(a.slice(s+1)).join("/");return function(){return new Promise(function(){var e=(0,i.Z)(d().mark((function e(n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l+=1/c.length,e.next=3,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.name,"/objects/move"),{from:t,to:o});case 3:e.sent.error&&(u=!0,r.ui.setNotification({category:"error",message:"Failed to move ".concat(t," to the new folder")})),n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})),m=(0,f.chunk)(p,2),e.prev=14,e.next=17,m.reduce(function(){var e=(0,i.Z)(d().mark((function e(t,s){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,Promise.all(s.map((function(e){return e()})));case 4:r.ui.setNotification({id:o,category:"loading",message:"Renaming folder to ".concat(n),description:A,progress:100*l});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve());case 17:return u?r.ui.setNotification({id:o,message:"Renamed folder to ".concat(n," with some errors"),category:"error"}):r.ui.setNotification({id:o,message:"Successfully renamed folder to ".concat(n),category:"success"}),e.next=20,r.refetchAllOpenedFolders();case 20:h=c.map((function(e){return e.id})),x=r.filePreviewCache.filter((function(e){return!h.includes(e.id)})),r.filePreviewCache=x,e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14),r.ui.setNotification({id:o,message:"Failed to rename folder to ".concat(n),category:"error"});case 28:case"end":return e.stop()}}),e,null,[[14,25]])})));return function(t,r,n){return e.apply(this,arguments)}}()),(0,l.Z)(this,"getAllItemsAlongFolder",function(){var e=(0,i.Z)(d().mark((function e(t){var n,s,a,i,o,c,l,u,p,m,f,h,x,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],c="",l=t.name,u=t.columnIndex,void 0===(p=t.prefix)?(m=r.openedFolders.slice(0,u).map((function(e){return e.name})).join("/"),c=m.length>0?"".concat(m,"/").concat(l):l):c="".concat(p,"/").concat(l),f={limit:1e4,offset:0,sortBy:{column:r.sortBy,order:r.sortByOrder}},h=[];case 6:return e.next=8,(0,b.v_)("".concat(r.endpoint,"/buckets/").concat(r.selectedBucket.name,"/objects/list"),{path:c,options:f});case 8:if(x=e.sent,h=h.concat(x),f.offset+=f.limit,!((x||[]).length<f.limit)){e.next=13;break}return e.abrupt("break",15);case 13:e.next=6;break;case 15:return v=null!==(n=null===(s=h)||void 0===s?void 0:s.filter((function(e){return null===e.id})))&&void 0!==n?n:[],(null!==(a=null===(i=h)||void 0===i?void 0:i.filter((function(e){return null!==e.id})))&&void 0!==a?a:[]).forEach((function(e){return o.push(Z(Z({},e),{},{prefix:c}))})),e.next=20,Promise.all(v.map((function(e){return r.getAllItemsAlongFolder(Z(Z({},e),{},{prefix:c}))})));case 20:return e.sent.map((function(e){e.map((function(e){return o.push(e)}))})),e.abrupt("return",o);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"sanitizeNameForDuplicateInColumn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.getLatestColumnIndex(),a=r.columns[s],i=a.items.filter((function(e){return e.status!==N.R9.EDITING})),o=i.filter((function(t){return t.name===e})).length>0;if(o){if(t){var c=e.split("."),l=(0,n.Z)(c,2),u=l[0],d=l[1],p=new RegExp("".concat(u," \\([-0-9]+\\)").concat(d?"."+d:"","$")),m=i.filter((function(e){return e.name.match(p)})),f=u+" (".concat(m.length+1,")");return d?"".concat(f,".").concat(d):f}return r.ui.setNotification({message:"The name ".concat(e," already exists in the current directory. Please use a different name."),category:"error",duration:4e3}),null}return e})),(0,l.Z)(this,"formatFolderItems",(function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=null!==(e=null===(t=null!==r&&void 0!==r?r:[])||void 0===t?void 0:t.filter((function(e){return e.name!==T})).map((function(e){var t=e.id?N.fh.FILE:N.fh.FOLDER,r=Number(new Date)-Number(new Date(e.created_at)),n=t===N.fh.FILE&&!e.metadata&&r>=I,s=t===N.fh.FILE&&!e.metadata&&r<=I?N.R9.LOADING:N.R9.READY;return Z(Z({},e),{},{type:t,status:s,isCorrupted:n})})))&&void 0!==e?e:[];return n})),(0,l.Z)(this,"addTempRow",(function(e,t,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=r.columns.map((function(r,o){if(o===s){var c={type:e,name:t,status:n,metadata:a},l=i?[c].concat(r.items):r.items.concat([c]);return Z(Z({},r),{},{items:l})}return r}));r.columns=o})),(0,l.Z)(this,"removeTempRows",(function(e){var t=r.columns.map((function(t,r){if(r===e){var n=t.items.filter((function(e){return(0,f.has)(e,"id")}));return Z(Z({},t),{},{items:n})}return t}));r.columns=t})),(0,l.Z)(this,"setSelectedItemToRename",(function(e){r.updateRowStatus(e.name,N.R9.EDITING,e.columnIndex)})),(0,l.Z)(this,"updateRowStatus",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.getLatestColumnIndex(),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=r.columns.map((function(r,a){if(a===n){var i=r.items.map((function(r){return r.name===e?Z(Z({},r),{},{status:t},s&&{name:s}):r}));return Z(Z({},r),{},{items:i})}return r}));r.columns=a})),(0,l.Z)(this,"updateFolderAfterEdit",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.getLatestColumnIndex(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N.R9.READY,s=r.columns.map((function(r,s){if(s===t){var a=r.items.map((function(t){if(t.status===N.R9.EDITING){var r=(new Date).toISOString();return Z(Z({},t),{},{status:n,name:e,createdAt:r,lastAccessedAt:r,updatedAt:r,metadata:null,id:null})}return t}));return Z(Z({},r),{},{items:a})}return r}));r.columns=s})),(0,l.Z)(this,"updateExplorerPreferences",(function(){var e=r.getLocalStorageKey(),t={view:r.view,sortBy:r.sortBy,sortByOrder:r.sortByOrder};return localStorage.setItem(e,JSON.stringify(t)),t})),(0,l.Z)(this,"loadExplorerPreferences",(function(){var e,t,n=r.getLocalStorageKey(),s=null!==(e=null===(t=localStorage)||void 0===t?void 0:t.getItem(n))&&void 0!==e?e:void 0;if(void 0!==s){var a=JSON.parse(s),i=a.view,o=a.sortBy,c=a.sortByOrder;r.view=i,r.sortBy=o,r.sortByOrder=c}else{var l=r.updateExplorerPreferences(),u=l.view,d=l.sortBy,p=l.sortByOrder;r.view=u,r.sortBy=d,r.sortByOrder=p}})),(0,l.Z)(this,"selectRangeItems",(function(e,t){var n=r.columns[e].items,s=n[t],a=r.selectedItems.map((function(e){return e.id})),i=a[a.length-1],o=(0,f.findIndex)(n,{id:i}),c=Math.min(t,o),l=Math.max(t,o),u=n.slice(c,l+1).map((function(t){return Z(Z({},t),{},{columnIndex:e})}));if(t<o&&u.reverse(),a.includes(s.id)){var d=u.map((function(e){return e.id}));r.setSelectedItems(r.selectedItems.filter((function(e){return e.id===s.id||!d.includes(e.id)})))}else r.setSelectedItems((0,f.uniqBy)(r.selectedItems.concat(u),"id"))})),(0,m.ky)(this,{supabaseClient:!1}),this.projectRef=t,this.ui=(0,v.oR)().ui,this.abortController=new AbortController}return(0,c.Z)(e,[{key:"initStore",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O;this.projectRef=e,this.endpoint="".concat(j.T5,"/storage/").concat(e),void 0!==r&&this.initializeSupabaseClient(r,t,n)}},{key:"currentBucketName",get:function(){return this.selectedBucket.name}}]),e}()},32327:function(e,t,r){var n=r(90849),s=r(27378),a=r(64355),i=r(99330),o=r(51664),c=r(24246);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=(0,s.createContext)({chevronAlign:"left",justified:!0,type:"default"});function p(e){var t=e.children,r=e.className,n=e.onChange,s=e.openBehaviour,o=void 0===s?"multiple":s,l=e.type,p=void 0===l?"default":l,m=e.defaultValue,f=void 0===m?void 0:m,h=e.justified,x=void 0!==h&&h,v=e.chevronAlign,g=void 0===v?"left":v,j=[(0,a.Z)("accordion").variants[p].base];r&&j.push(r);var b={chevronAlign:g,justified:x,type:p,defaultValue:f};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.fC,{type:o,onValueChange:function(e){n&&n(e),e==typeof String&&e.split(" ")},defaultValue:f,className:j.join(" "),children:(0,c.jsx)(d.Provider,{value:u({},b),children:(0,c.jsx)("div",{children:t})})})})}p.Item=function(e){var t=e.children,r=e.className,n=e.header,l=e.id,u=e.disabled,p=(0,a.Z)("accordion"),m=(0,s.useState)(!1),f=m[0],h=m[1],x=(0,s.useContext)(d),v=x.type,g=x.justified,j=x.chevronAlign,b=[p.variants[v].trigger];g&&b.push(p.justified),r&&b.push(r);var y=[p.chevron.base,p.chevron.align[j]];return f&&!u&&y.unshift("!rotate-180"),(0,c.jsxs)(i.ck,{value:l,className:p.variants[v].container,disabled:u,onClick:function(){h(!f)},children:[(0,c.jsxs)(i.xz,{className:b.join(" "),children:[n,!u&&(0,c.jsx)(o.Z,{"aria-hidden":!0,className:y.join(" "),strokeWidth:2})]}),(0,c.jsx)(i.VY,{className:p.variants[v].content,children:(0,c.jsx)("div",{className:p.variants[v].panel,children:t})})]})},t.Z=p},84364:function(e,t,r){var n=r(64355),s=r(24246);t.Z=function(e){var t=e.color,r=void 0===t?"brand":t,a=e.children,i=e.size,o=e.dot,c=e.className,l=(0,n.Z)("badge"),u=[l.base];return r&&u.push(l.color[r]),"large"===i&&u.push(l.size.large),c&&u.push(c),(0,s.jsxs)("span",{className:u.join(" "),children:[o&&(0,s.jsx)("svg",{className:"".concat(l.dot," ").concat(l.color[r]),fill:"currentColor",viewBox:"0 0 8 8",children:(0,s.jsx)("circle",{cx:"4",cy:"4",r:"3"})}),a]})}},11872:function(e,t,r){var n=r(90089),s=r(9920),a=(r(27378),r(64355)),i=r(24246),o=["open","children","className"],c=function(e){var t=e.open,r=void 0===t?void 0:t,a=e.children,c=e.className,l=(0,n.Z)(e,o);return(0,i.jsx)(s.fC,{asChild:l.asChild,defaultOpen:l.defaultOpen,open:r,onOpenChange:l.onOpenChange,disabled:l.disabled,className:c,children:a})};c.Trigger=function(e){var t=e.children,r=e.asChild;return(0,i.jsx)(s.xz,{asChild:r,children:t})},c.Content=function(e){var t=e.asChild,r=e.children,n=e.className,o=(0,a.Z)("collapsible");return(0,i.jsx)(s.VY,{asChild:t,className:[o.content,n].join(" "),children:r})},t.ZP=c},71360:function(e,t,r){r.d(t,{E:function(){return s},p:function(){return n}});var n={AI:"Supabase AI",DOCS_SEARCH:"Docs Search",GENERATE_SQL:"Generate SQL",THEME:"Theme",AI_ASK_ANYTHING:"Ask anything",AI_RLS_POLICY:"Help me create a RLS policy",API_KEYS:"Project API keys"},s=[{category:"Tables",queries:["Create a table that stores a list of cities, and insert 10 rows of sample data into it","Create tables (with foreign key relationships) for blog posts and comments","Create tables for employees, reviewers, and employee reviews, with columns for employee ID, reviewer ID, and review text"]},{category:"Views",queries:["Create a view that shows the total revenue for each customer","Create a view that shows all orders that were placed in the last week","Create a view that shows all products that are currently out of stock","Create a materialized view that shows the customer_orders table the total value of orders in a month"]},{category:"Indexes",queries:["Create an index on the primary key column of my orders table","Create a partial index on the orders table:","Create an index on the customer_id column of the customer_orders table"]},{category:"Select",queries:["Retrieve a list of employees from the employees table who have a salary greater than $50,000",'Retrieve a list of all employees with the title "Manager" from the employees table',"Retrieve a list of all employees hired in the last 6 months","Retrieve the department and average salary of each department from the employees table, group by department"]},{category:"Triggers",queries:["Create a trigger that updates the updated_at column on the orders table with the current time when the row of the orders table is updated","Create a trigger to add a new user to the users table when someone new registers","Create a trigger to send an email whenever there is an insert in the orders table","Create a trigger to delete all orders placed by a customer when that customer is deleted from the customers table"]},{category:"Row Level Security",queries:["Create an RLS policy that grants only authenticated access to the profiles table","Create an RLS policy that grants SELECT access to the sales_rep role for the customers table, but denies access to all other roles","Create an RLS policy that grants INSERT access access to the manager role for the employees table, but only for rows where the employee's department_id matches a list of departments that the manager is responsible for"]},{category:"Functions",queries:["Create a function to add a new entry to a user's table when a new user signs up","Create an a function to calculate the average price of a product in a given category","Create a function to insert a new order and update the inventory for the ordered products","Create a function to calculate the total sales for a product given an id"]}]},83443:function(e,t,r){var n=r(90849),s=(r(27378),r(31063)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},79446:function(e,t,r){var n=r(90849),s=(r(27378),r(18149)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},81391:function(e,t,r){var n=r(90849),s=(r(27378),r(88234)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},30844:function(e,t,r){var n=r(90849),s=(r(27378),r(14220)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},86673:function(e,t,r){var n=r(90849),s=(r(27378),r(6905)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},47939:function(e,t,r){var n=r(90849),s=(r(27378),r(16530)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},68464:function(e,t,r){var n=r(90849),s=(r(27378),r(15485)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},43881:function(e,t,r){var n=r(90849),s=(r(27378),r(14349)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},4708:function(e,t,r){var n=r(90849),s=(r(27378),r(55375)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},40288:function(e,t,r){var n=r(90849),s=(r(27378),r(90053)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},93986:function(e,t,r){var n=r(90849),s=(r(27378),r(97738)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},44292:function(e,t,r){var n=r(90849),s=(r(27378),r(56721)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},51669:function(e,t,r){var n=r(90849),s=(r(27378),r(3623)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},76610:function(e,t,r){var n=r(90849),s=(r(27378),r(77297)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},29432:function(e,t,r){var n=r(90849),s=(r(27378),r(9017)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},72112:function(e,t,r){var n=r(90849),s=(r(27378),r(68468)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},52979:function(e,t,r){var n=r(90849),s=(r(27378),r(35285)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},62786:function(e,t,r){var n=r(90849),s=(r(27378),r(12318)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},93359:function(e,t,r){var n=r(90849),s=(r(27378),r(94511)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},93311:function(e,t,r){var n=r(90849),s=(r(27378),r(55435)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},33759:function(e,t,r){var n=r(90849),s=(r(27378),r(29571)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},46578:function(e,t,r){var n=r(90849),s=(r(27378),r(28482)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},84411:function(e,t,r){var n=r(90849),s=(r(27378),r(61010)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},82687:function(e,t,r){var n=r(90849),s=(r(27378),r(95370)),a=r(12163),i=r(24246);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return(0,i.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:s.Z},e))}},72853:function(e,t,r){r.d(t,{Z:function(){return i}});r(27378);var n=r(64355),s=r(14971),a=r(24246);function i(e){var t=e.children,r=e.active,i=(0,n.Z)("loading"),o=[i.base],c=[i.content.base];r&&c.push(i.content.active);var l=[i.spinner];return(0,a.jsxs)("div",{className:o.join(" "),children:[(0,a.jsx)("div",{className:c.join(" "),children:t}),r&&(0,a.jsx)(s.Z,{size:"xlarge",className:l})]})}},37772:function(e,t,r){r.d(t,{ZP:function(){return h}});var n=r(27378),s=r(24246);var a=function(e){e.className;var t=e.level,r=void 0===t?1:t,n=e.children,a=e.style,i="h".concat(r);return(0,s.jsx)(i,{style:a,children:n})};var i=function(e){e.className;var t=e.children,r=e.style,n=(e.type,e.disabled,e.mark),a=e.code,i=e.keyboard,o=(e.underline,e.strikethrough,e.strong);return e.small,a?(0,s.jsx)("code",{style:r,children:t}):n?(0,s.jsx)("mark",{style:r,children:t}):i?(0,s.jsx)("kbd",{style:r,children:t}):o?(0,s.jsx)("strong",{style:r,children:t}):(0,s.jsx)("span",{style:r,children:t})};var o=function(e){var t=e.children,r=e.target,n=void 0===r?"_blank":r,a=e.href,i=(e.className,e.onClick),o=e.style;return(0,s.jsx)("a",{onClick:i,href:a,target:n,rel:"noopener noreferrer",style:o,children:t})};function c(e){var t=e.children,r=(e.className,e.tag),n=void 0===r?"div":r,a=e.style,i="".concat(n);return(0,s.jsx)(i,{style:a,children:t})}c.Title=a,c.Text=i,c.Link=o;var l=c,u=(0,n.createContext)({type:"text"}),d=function(e){var t={type:e.type};return(0,s.jsx)(u.Provider,{value:t,children:e.children})},p=function(){var e=(0,n.useContext)(u);if(void 0===e)throw new Error("MenuContext must be used within a MenuContextProvider.");return e},m=r(64355);function f(e){var t=e.children,r=e.className,n=e.ulClassName,a=e.style,i=e.type,o=void 0===i?"text":i;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:r,style:a,children:(0,s.jsx)(d,{type:o,children:(0,s.jsx)("ul",{className:n,children:t})})})}f.Item=function(e){var t=e.children,r=e.icon,n=e.active,a=(e.rounded,e.onClick),i=(e.doNotCloseOverlay,e.showActiveBar,e.style),o=(0,m.Z)("menu"),c=p().type,l=[o.item.base];l.push(o.item.variants[c].base),n?l.push(o.item.variants[c].active):l.push(o.item.variants[c].normal);var u=[o.item.content.base];n?u.push(o.item.content.active):u.push(o.item.content.normal);var d=[o.item.icon.base];return n?d.push(o.item.icon.active):d.push(o.item.icon.normal),(0,s.jsx)("li",{role:"menuitem",className:"outline-none",children:(0,s.jsxs)("a",{style:i,className:l.join(" "),onClick:a,"aria-current":n?"page":void 0,children:[r&&(0,s.jsx)("div",{className:"".concat(d.join(" ")," min-w-fit"),children:r}),(0,s.jsx)("span",{className:u.join(" "),children:t})]})})},f.Group=function(e){var t=e.children,r=e.icon,n=e.title,a=(0,m.Z)("menu"),i=p().type;return(0,s.jsxs)("div",{className:[a.group.base,a.group.variants[i]].join(" "),children:[r&&(0,s.jsx)("span",{className:a.group.icon,children:r}),(0,s.jsx)("span",{className:a.group.content,children:n}),t]})},f.Misc=function(e){var t=e.children;return(0,s.jsx)("div",{children:(0,s.jsx)(l.Text,{children:(0,s.jsx)("span",{children:t})})})};var h=f},75118:function(e,t,r){r.d(t,{v:function(){return s.Z},U:function(){return n}});var n=[{text:"Working with @supabase has been one of the best dev experiences I've had lately. Incredibly easy to set up, great documentation, and so many fewer hoops to jump through than the competition. I definitely plan to use it on any and all future projects.",url:"https://twitter.com/thatguy_tex/status/1497602628410388480",handle:"thatguy_tex",img_url:"/images/twitter-profiles/09HouOSt_400x400.jpg"},{text:"@supabase is just \ud83e\udd2f Now I see why a lot of people love using it as a backend for their applications. I am really impressed with how easy it is to set up an Auth and then just code it together for the frontend. @IngoKpp now I see your joy with Supabase #coding #fullstackwebdev",url:"https://twitter.com/IxoyeDesign/status/1497473731777728512",handle:"IxoyeDesign",img_url:"/images/twitter-profiles/C8opIL-g_400x400.jpg"},{text:"I've been using @supabase for two personal projects and it has been amazing being able to use the power of Postgres and don't have to worry about the backend",url:"https://twitter.com/varlenneto/status/1496595780475535366",handle:"varlenneto",img_url:"/images/twitter-profiles/wkXN0t_F_400x400.jpg"},{text:"Y'all @supabase + @nextjs is amazing! \ud83d\ude4c Barely an hour into a proof-of-concept and already have most of the functionality in place. \ud83e\udd2f\ud83e\udd2f\ud83e\udd2f",url:"https://twitter.com/justinjunodev/status/1500264302749622273",handle:"justinjunodev",img_url:"/images/twitter-profiles/9k_ZB9OO_400x400.jpg"},{text:"And thanks to @supabase, I was able to go from idea to launched feature in a matter of hours. Absolutely amazing!",url:"https://twitter.com/BraydonCoyer/status/1511071369731137537",handle:"BraydonCoyer",img_url:"/images/twitter-profiles/8YxkpW8f_400x400.jpg"},{text:"Contributing to open-source projects and seeing merged PRs gives enormous happiness! Special thanks to @supabase, for giving this opportunity by staying open-source and being junior-friendly\u270c\ud83c\udffc",url:"https://twitter.com/damlakoksal/status/1511436907984662539",handle:"damlakoksal",img_url:"/images/twitter-profiles/N8EfTFs7_400x400.jpg"},{text:"Holy crap. @supabase is absolutely incredible. Most elegant backend as a service I've ever used. This is a dream.",url:"https://twitter.com/kentherogers/status/1512609587110719488",handle:"KenTheRogers",img_url:"/images/twitter-profiles/9l9Td-Fz_400x400.jpg"},{text:"Over the course of a few weeks, we migrated 125.000 users (email/pw, Gmail, Facebook, Apple logins) from Auth0 to @supabase and have now completed the migration. I'm just glad the migration is done \ud83d\ude05 Went well, besides a few edge cases (duplicate emails/linked accounts)",url:"https://twitter.com/kevcodez/status/1518548401587204096",handle:"kevcodez",img_url:"/images/twitter-profiles/t6lpcRcn_400x400.jpg"},{text:"Using @supabase I'm really pleased on the power of postgres (and sql in general). Despite being a bit dubious about the whole backend as a service thing I have to say I really don't miss anything. The whole experience feel very robust and secure.",url:"https://twitter.com/paoloricciuti/status/1497691838597066752",handle:"PaoloRicciuti",img_url:"/images/twitter-profiles/OCDKFUOp_400x400.jpg"},{text:"@supabase is lit. It took me less than 10 minutes to setup, the DX is just amazing.",url:"https://twitter.com/saxxone/status/1500812171063828486",handle:"saxxone",img_url:"/images/twitter-profiles/BXi6z1M7_400x400.jpg"},{text:"I\u2019m not sure what magic @supabase is using but we\u2019ve migrated @happyteamsdotio database to @supabase from @heroku and it\u2019s much much faster at half the cost.",url:"https://twitter.com/michaelcdever/status/1524753565599690754",handle:"michaelcdever",img_url:"/images/twitter-profiles/rWX8Jzp5_400x400.jpg"},{text:"There are a lot of indie hackers building in public, but it\u2019s rare to see a startup shipping as consistently and transparently as Supabase. Their upcoming March releases look to be \ud83d\udd25 Def worth a follow! also opened my eyes as to how to value add in open source.",url:"https://twitter.com/swyx/status/1366685025047994373",handle:"swyx",img_url:"/images/twitter-profiles/qhvO9V6x_400x400.jpg"},{text:"This weekend I made a personal record \ud83e\udd47 on the less time spent creating an application with social login / permissions, database, cdn, infinite scaling, git push to deploy and for free. Thanks to @supabase and @vercel",url:"https://twitter.com/jperelli/status/1366195769657720834",handle:"jperelli",img_url:"/images/twitter-profiles/_ki30kYo_400x400.jpg"},{text:"Badass! Supabase is amazing. literally saves our small team a whole engineer\u2019s worth of work constantly. The founders and everyone I\u2019ve chatted with at supabase are just awesome people as well :)",url:"https://twitter.com/KennethCassel/status/1524359528619384834",handle:"KennethCassel",img_url:"/images/twitter-profiles/pmQj3TX-_400x400.jpg"},{text:"Working with Supabase is just fun. It makes working with a DB so much easier.",url:"https://twitter.com/the_BrianB/status/1524716498442276864",handle:"the_BrianB",img_url:"/images/twitter-profiles/7NITI8Z3_400x400.jpg"},{text:"This community is STRONG and will continue to be the reason why developers flock to @supabase over an alternative. Keep up the good work! \u26a1\ufe0f",url:"https://twitter.com/_wilhelm__/status/1524074865107488769",handle:"_wilhelm__",img_url:"/images/twitter-profiles/CvqDy6YF_400x400.jpg"},{text:"Working on my next SaaS app and I want this to be my whole job because I'm just straight out vibing putting it together. @supabase and chill, if you will",url:"https://twitter.com/drewclemcr8/status/1523843155484942340",handle:"drewclemcr8",img_url:"/images/twitter-profiles/bJlKtSxz_400x400.jpg"},{text:"@supabase Putting a ton of well-explained example API queries in a self-building documentation is just a classy move all around. I also love having GraphQL-style nested queries with traditional SQL filtering. This is pure DX delight. A+++. #backend",url:"https://twitter.com/CodiferousCoder/status/1522233113207836675",handle:"CodiferousCoder",img_url:"/images/twitter-profiles/t37cVLwy_400x400.jpg"},{text:"Me using @supabase for the first time right now \ud83e\udd2f",url:"https://twitter.com/nasiscoe/status/1365140856035024902",handle:"nasiscoe",img_url:"/images/twitter-profiles/nc2Ms5hH_400x400.jpg"},{text:"I'm trying @supabase, Firebase alternative that uses PostgreSQL (and you can use GraphQL too) in the cloud. It's incredible \ud83d\ude0d",url:"https://twitter.com/JP__Gallegos/status/1365699468109242374",handle:"JP__Gallegos",img_url:"/images/twitter-profiles/1PH2mt6v_400x400.jpg"},{text:"Check out this amazing product @supabase. A must give try #newidea #opportunity",url:"https://twitter.com/digitaldaswani/status/1364447219642814464",handle:"digitaldaswani",img_url:"/images/twitter-profiles/w8HLdlC7_400x400.jpg"},{text:"I gave @supabase a try this weekend and I was able to create a quick dashboard to visualize the data from the PostgreSQL instance. It's super easy to use Supabase's API or the direct DB connection. Check out the tutorial \ud83d\udcd6",url:"https://twitter.com/razvanilin/status/1363770020581412867",handle:"razvanilin",img_url:"/images/twitter-profiles/AiaH9vJ2_400x400.jpg"},{text:"Tried @supabase for the first time yesterday. Amazing tool! I was able to get my Posgres DB up in no time and their documentation on operating on the DB is super easy! \ud83d\udc4f Can't wait for Cloud functions to arrive! It's gonna be a great Firebase alternative!",url:"https://twitter.com/chinchang457/status/1363347740793524227",handle:"chinchang457",img_url:"/images/twitter-profiles/LTw5OCnv_400x400.jpg"},{text:"10/100 All day i was migrating my project from firebase to @supabase Because it is perfect and simple!!! I like design and API for understandable. There are in BETA now. Just try!\ud83e\uddea",url:"https://twitter.com/roomahhka/status/1363155396391763971",handle:"roomahhka",img_url:"/images/twitter-profiles/e_2eQt6C_400x400.jpg"},{text:"I gave @supabase a try today and I was positively impressed! Very quick setup to get a working remote database with API access and documentation generated automatically for you \ud83d\udc4c 10/10 will play more",url:"https://twitter.com/razvanilin/status/1363002398738800640",handle:"razvanilin",img_url:"/images/twitter-profiles/AiaH9vJ2_400x400.jpg"},{text:"Wait. Is it so easy to write queries for @supabase ? It's like simple SQL stuff!",url:"https://twitter.com/T0ny_Boy/status/1362911838908911617",handle:"T0ny_Boy",img_url:"/images/twitter-profiles/UCBhUBZl_400x400.jpg"},{text:"Jeez, and @supabase have native support for magic link login?! I was going to use http://magic.link for this But if I can get my whole DB + auth + magic link support in one... Awesome",url:"https://twitter.com/louisbarclay/status/1362016666868154371",handle:"louisbarclay",img_url:"/images/twitter-profiles/6f1O8ZOW_400x400.jpg"},{text:"@MongoDB or @MySQL?!?! Please, let me introduce you to @supabase and the wonderful world of @PostgreSQL before it's too late!!",url:"https://twitter.com/jim_bisenius/status/1361772978841788416",handle:"jim_bisenius",img_url:"/images/twitter-profiles/rLgwUZSB_400x400.jpg"},{text:"Where has @supabase been all my life? \ud83d\ude0d",url:"https://twitter.com/Elsolo244/status/1360257201911320579",handle:"Elsolo244",img_url:"/images/twitter-profiles/v6citnk33y2wpeyzrq05_400x400.jpeg"},{text:"Honestly Supabase is such a killer Firebase alternative.",url:"https://twitter.com/XPCheese/status/1360229397735895043",handle:"XPCheese",img_url:"/images/twitter-profiles/eYP6YXr7_400x400.jpg"},{text:"I think you'll love @supabase :-) Open-source, PostgreSQL-based & zero magic.",url:"https://twitter.com/zippoxer/status/1360021315852328961",handle:"zippoxer",img_url:"/images/twitter-profiles/6rd3xub9_400x400.png"},{text:"@supabase is the answer to all of firebase\u2019s problems imo",url:"https://twitter.com/jim_bisenius/status/1358590362953142278",handle:"jim_bisenius",img_url:"/images/twitter-profiles/rLgwUZSB_400x400.jpg"},{text:"@supabase is insane.",url:"https://twitter.com/codewithbhargav/status/1357647840911126528",handle:"codewithbhargav",img_url:"/images/twitter-profiles/LQYfHXBp_400x400.jpg"},{text:"It\u2019s fun, feels lightweight, and really quick to spin up user auth and a few tables. Almost too easy! Highly recommend.",url:"https://twitter.com/nerdburn/status/1356857261495214085",handle:"nerdburn",img_url:"/images/twitter-profiles/66VSV9Mm_400x400.png"},{text:"I\u2019m probably the wrong person to ask because I pick tools based on UX. Supabase was immediately approachable: instant setup, fast web app, auth, and easy APIs. Same reason I liked Firebase when I first discovered.",url:"https://twitter.com/jasonbarone/status/1357015483619422210",handle:"jasonbarone",img_url:"/images/twitter-profiles/6zCnwpvi_400x400.jpg"},{text:"Now things are starting to get interesting! Firebase has long been the obvious choice for many #flutter devs for the ease of use. But their databases are NoSQL, which has its downsides... Seems like @supabase is working on something interesting here!",url:"https://twitter.com/RobertBrunhage/status/1356973695865085953",handle:"RobertBrunhage",img_url:"/images/twitter-profiles/5LMWEACf_400x400.jpg"},{text:"Honestly, I really love what @supabase is doing, you don't need to own a complete backend, just write your logic within your app and you'll get a powerful Postgresql at your disposal.",url:"https://twitter.com/NavicsteinR/status/1356927229217959941",handle:"NavicsteinR",img_url:"/images/twitter-profiles/w_zNZAs7_400x400.jpg"},{text:"Next.js, @supabase, @stripe, and @vercel. Supastack\u2122",url:"https://twitter.com/jasonbarone/status/1356765411832922115",handle:"jasonbarone",img_url:"/images/twitter-profiles/6zCnwpvi_400x400.jpg"},{text:"I've really enjoyed the DX! Extremely fun to use, which is odd to say about a database at least for me.",url:"https://twitter.com/Soham_Asmi/status/1373086068132745217",handle:"Soham_Asmi",img_url:"/images/twitter-profiles/Os4nhKIr_400x400.jpg"},{text:"Supabase team is doing some awesome stuff #supabase #facts @supabase",url:"https://twitter.com/_strawbird/status/1372607500499841025",handle:"_strawbird",img_url:"/images/twitter-profiles/iMBvvQdn_400x400.jpg"},{text:"Did a website with @supabase last week with no prior experience with it. Up and running in 20 minutes. It's awesome to use. Thumbs up",url:"https://twitter.com/michael_webdev/status/1352885366928404481?s=20",handle:"michael_webdev",img_url:"/images/twitter-profiles/SvAyLaWV_400x400.jpg"},{text:"Next.js, @supabase, @stripe, and @vercel. Supastack\u2122",url:"https://twitter.com/jasonbarone/status/1356765411832922115?s=20",handle:"jasonbarone",img_url:"/images/twitter-profiles/6zCnwpvi_400x400.jpg"},{text:"I just learned about @supabase and im in love \ud83d\ude0d Supabase is an open source Firebase alternative! EarListen (& react) to database changes \ud83d\udc81 Manage users & permissions \ud83d\udd27 Simple UI for database interaction",url:"https://twitter.com/0xBanana/status/1373677301905362948",handle:"0xBanana",img_url:"/images/twitter-profiles/pgHIGqZ0_400x400.jpg"}],s=r(90397)},90397:function(e,t){t.Z={schemas:[{name:"API Edge",reference:"edge_logs",fields:[{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"event_message",type:"string"},{path:"metadata.request.cf.asOrganization",type:"string"},{path:"metadata.request.cf.asn",type:"number"},{path:"metadata.request.cf.botManagement.corporateProxy",type:"boolean"},{path:"metadata.request.cf.botManagement.detectionIds",type:"number[]"},{path:"metadata.request.cf.botManagement.ja3Hash",type:"string"},{path:"metadata.request.cf.botManagement.score",type:"number"},{path:"metadata.request.cf.botManagement.staticResource",type:"boolean"},{path:"metadata.request.cf.botManagement.verifiedBot",type:"boolean"},{path:"metadata.request.cf.city",type:"string"},{path:"metadata.request.cf.clientTcpRtt",type:"number"},{path:"metadata.request.cf.clientTrustScore",type:"number"},{path:"metadata.request.cf.colo",type:"string"},{path:"metadata.request.cf.continent",type:"string"},{path:"metadata.request.cf.country",type:"string"},{path:"metadata.request.cf.edgeRequestKeepAliveStatus",type:"number"},{path:"metadata.request.cf.httpProtocol",type:"string"},{path:"metadata.request.cf.latitude",type:"string"},{path:"metadata.request.cf.longitude",type:"string"},{path:"metadata.request.cf.metroCode",type:"string"},{path:"metadata.request.cf.postalCode",type:"string"},{path:"metadata.request.cf.region",type:"string"},{path:"metadata.request.cf.timezone",type:"string"},{path:"metadata.request.cf.tlsCipher",type:"string"},{path:"metadata.request.cf.tlsClientAuth.certPresented",type:"string"},{path:"metadata.request.cf.tlsClientAuth.certRevoked",type:"string"},{path:"metadata.request.cf.tlsClientAuth.certVerified",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.clientFinished",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.clientHandshake",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.serverFinished",type:"string"},{path:"metadata.request.cf.tlsExportedAuthenticator.serverHandshake",type:"string"},{path:"metadata.request.cf.tlsVersion",type:"string"},{path:"metadata.request.headers.cf_connecting_ip",type:"string"},{path:"metadata.request.headers.cf_ipcountry",type:"string"},{path:"metadata.request.headers.cf_ray",type:"string"},{path:"metadata.request.headers.host",type:"string"},{path:"metadata.request.headers.x_client_info",type:"string"},{path:"metadata.request.headers.x_forwarded_proto",type:"string"},{path:"metadata.request.headers.x_real_ip",type:"string"},{path:"metadata.request.host",type:"string"},{path:"metadata.request.method",type:"string"},{path:"metadata.request.path",type:"string"},{path:"metadata.request.protocol",type:"string"},{path:"metadata.request.search",type:"string"},{path:"metadata.request.url",type:"string"},{path:"metadata.response.headers.cf_cache_status",type:"string"},{path:"metadata.response.headers.cf_ray",type:"string"},{path:"metadata.response.headers.content_location",type:"string"},{path:"metadata.response.headers.content_range",type:"string"},{path:"metadata.response.headers.content_type",type:"string"},{path:"metadata.response.headers.date",type:"string"},{path:"metadata.response.headers.sb_gateway_version",type:"string"},{path:"metadata.response.headers.transfer_encoding",type:"string"},{path:"metadata.response.headers.x_kong_proxy_latency",type:"string"},{path:"metadata.response.origin_time",type:"number"},{path:"metadata.response.status_code",type:"number"}]},{name:"Auth",reference:"auth_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.auth_event.action",type:"string"},{path:"metadata.auth_event.actor_id",type:"string"},{path:"metadata.auth_event.actor_username",type:"string"},{path:"metadata.auth_event.log_type",type:"string"},{path:"metadata.auth_event.traits.provider",type:"string"},{path:"metadata.auth_event.traits.user_email",type:"string"},{path:"metadata.auth_event.traits.user_id",type:"string"},{path:"metadata.auth_event.traits.user_phone",type:"string"},{path:"metadata.component",type:"string"},{path:"metadata.duration",type:"number"},{path:"metadata.host",type:"string"},{path:"metadata.level",type:"string"},{path:"metadata.method",type:"string"},{path:"metadata.msg",type:"string"},{path:"metadata.path",type:"string"},{path:"metadata.referer",type:"string"},{path:"metadata.remote_addr",type:"string"},{path:"metadata.status",type:"number"},{path:"metadata.timestamp",type:"string"}]},{name:"Storage",reference:"storage_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.context.host",type:"string"},{path:"metadata.context.pid",type:"number"},{path:"metadata.level",type:"string"},{path:"metadata.project",type:"string"},{path:"metadata.req.headers.accept",type:"string"},{path:"metadata.req.headers.cf_connecting_ip",type:"string"},{path:"metadata.req.headers.cf_ray",type:"string"},{path:"metadata.req.headers.content_length",type:"string"},{path:"metadata.req.headers.content_type",type:"string"},{path:"metadata.req.headers.host",type:"string"},{path:"metadata.req.headers.referer",type:"string"},{path:"metadata.req.headers.user_agent",type:"string"},{path:"metadata.req.headers.x_client_info",type:"string"},{path:"metadata.req.headers.x_forwarded_proto",type:"string"},{path:"metadata.req.hostname",type:"string"},{path:"metadata.req.method",type:"string"},{path:"metadata.req.remoteAddress",type:"string"},{path:"metadata.req.remotePort",type:"number"},{path:"metadata.req.url",type:"string"},{path:"metadata.reqId",type:"string"},{path:"metadata.res.statusCode",type:"number"},{path:"metadata.responseTime",type:"number"},{path:"metadata.tenantId",type:"string"}]},{name:"Function Edge",reference:"function_edge_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.deployment_id",type:"string"},{path:"metadata.execution_time_ms",type:"number"},{path:"metadata.function_id",type:"string"},{path:"metadata.project_ref",type:"string"},{path:"metadata.request.headers.accept",type:"string"},{path:"metadata.request.headers.content_length",type:"string"},{path:"metadata.request.headers.host",type:"string"},{path:"metadata.request.headers.user_agent",type:"string"},{path:"metadata.request.host",type:"string"},{path:"metadata.request.method",type:"string"},{path:"metadata.request.pathname",type:"string"},{path:"metadata.request.protocol",type:"string"},{path:"metadata.request.url",type:"string"},{path:"metadata.response.headers.content_length",type:"string"},{path:"metadata.response.headers.content_type",type:"string"},{path:"metadata.response.headers.date",type:"string"},{path:"metadata.response.headers.server",type:"string"},{path:"metadata.response.headers.vary",type:"string"},{path:"metadata.response.status_code",type:"number"},{path:"metadata.version",type:"string"}]},{name:"Function Runtime",reference:"function_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.deployment_id",type:"string"},{path:"metadata.event_type",type:"string"},{path:"metadata.execution_id",type:"string"},{path:"metadata.function_id",type:"string"},{path:"metadata.level",type:"string"},{path:"metadata.project_ref",type:"string"},{path:"metadata.region",type:"string"},{path:"metadata.timestamp",type:"string"},{path:"metadata.version",type:"string"}]},{name:"Postgres",reference:"postgres_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.host",type:"string"},{path:"metadata.parsed.backend_type",type:"string"},{path:"metadata.parsed.command_tag",type:"string"},{path:"metadata.parsed.connection_from",type:"string"},{path:"metadata.parsed.database_name",type:"string"},{path:"metadata.parsed.error_severity",type:"string"},{path:"metadata.parsed.process_id",type:"number"},{path:"metadata.parsed.query_id",type:"number"},{path:"metadata.parsed.session_id",type:"string"},{path:"metadata.parsed.session_line_num",type:"number"},{path:"metadata.parsed.session_start_time",type:"string"},{path:"metadata.parsed.sql_state_code",type:"string"},{path:"metadata.parsed.timestamp",type:"string"},{path:"metadata.parsed.transaction_id",type:"number"},{path:"metadata.parsed.user_name",type:"string"},{path:"metadata.parsed.virtual_transaction_id",type:"string"}]},{name:"Realtime",reference:"realtime_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.level",type:"string"},{path:"metadata.measurements.connected",type:"number"},{path:"metadata.measurements.connected_cluster",type:"number"},{path:"metadata.measurements.limit",type:"number"},{path:"metadata.measurements.sum",type:"number"},{path:"metadata.external_id",type:"string"}]},{name:"PostgREST",reference:"postgrest_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.host",type:"string"}]},{name:"PgBouncer",reference:"pgbouncer_logs",fields:[{path:"event_message",type:"string"},{path:"id",type:"string"},{path:"timestamp",type:"datetime"},{path:"metadata.host",type:"string"}]}]}}}]);
//# sourceMappingURL=5286-703c687c0f8e2a31.js.map