(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9578],{40660:function(e,t,n){"use strict";n.r(t);var a=n(55732),c=n(34707),o=n.n(c),i=n(27378),r=n(86677),s=n.n(r),l=n(43659),u=n(98784),d=n(27102),b=n(42753),f=n(32062),h=n(63840),p=n(47510),v=n(24246),m=function(){var e,t=(0,d.oR)(),n=t.meta,c=t.ui,r=null===(e=c.selectedProject)||void 0===e?void 0:e.ref,l=(0,i.useState)(),p=l[0],m=l[1],S=(0,i.useState)(!1),y=S[0],_=S[1],w=(0,i.useState)(!1),T=w[0],x=w[1],g=(0,i.useState)("public"),j=g[0],N=g[1],k=(0,i.useState)(),C=k[0],E=k[1],P=(0,i.useState)(),D=P[0],L=P[1],A=function(){m("table"),x(!1),E(void 0)},I=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.tables.del(D.id);case 3:return _(!1),c.setNotification({category:"success",message:"Successfully deleted ".concat(D.name)}),e.next=7,n.views.loadBySchema(j);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c.setNotification({category:"error",message:"Failed to delete ".concat(D.name)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(b.lz,{selectedSchema:j,onSelectSchema:N,onAddTable:A,onEditTable:function(e){m("table"),x(!1);var t=n.tables.byId(e.id);E(t)},onDeleteTable:function(e){_(!0);var t=n.tables.byId(e.id);L(t)},onDuplicateTable:function(e){m("table"),x(!0);var t=n.tables.byId(e.id);E(t)},children:[(0,v.jsx)(f.ub,{selectedSchema:j,onAddTable:A}),(0,v.jsx)(h.Z,{danger:!0,visible:y&&!(0,u.isUndefined)(D),header:(0,v.jsx)("span",{className:"break-words",children:'Confirm deletion of table "'.concat(null===D||void 0===D?void 0:D.name,'"')}),description:"Are you sure you want to delete the selected table? This action cannot be undone",buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:function(){return _(!1)},onSelectConfirm:I}),(0,v.jsx)(f.l5,{selectedSchema:j,isDuplicating:T,selectedTableToEdit:C,sidePanelKey:p,closePanel:function(){m(void 0)},onTableCreated:function(e){return s().push("/project/".concat(r,"/editor/").concat(e.id))}})]})};m.getLayout=function(e){return(0,v.jsx)(p.C,{children:e})},t.default=(0,d.QO)((0,l.Pi)(m))},86709:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/editor",function(){return n(40660)}])}},function(e){e.O(0,[8143,7930,1188,6792,6226,2642,3535,2056,5286,6905,923,3457,3324,2062,9774,2888,179],(function(){return t=86709,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=editor-dfd1ab7c83eed980.js.map