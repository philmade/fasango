(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3327],{42810:function(e,r,n){"use strict";var s=n(79305),i=n(84151),t=n(24246);r.Z=function(e){return(0,s.Z)(e),(0,t.jsx)(i.Z,{title:"",footer:(0,t.jsx)("div",{className:"shimmering-loader rounded py-3 mx-1 w-1/3"}),children:(0,t.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,t.jsx)("div",{className:"shimmering-loader rounded py-3 mx-1 w-2/3"})})})}},67324:function(e,r,n){"use strict";n.d(r,{Z:function(){return D}});var s=n(79894),i=n.n(s),t=n(47314),a=n(87474),c=n(43659),l=n(20796),o=n(27102),d=n(24903),u=n(84364),x=n(14971),h=n(93359),j=n(84151),p=n(24246),m=function(e){var r=e.project,n=e.rewriteHref,s=r.name,i=r.ref,t="".concat(r.cloud_provider," | ").concat(r.region),a=r.status===l.S.GOING_DOWN,c=r.status===l.S.INACTIVE,o=r.status===l.S.RESTORING;return(0,p.jsx)("li",{className:"col-span-1",children:(0,p.jsx)(j.Z,{linkHref:n||"/project/".concat(i),title:(0,p.jsx)("div",{className:"flex w-full flex-row justify-between gap-1",children:(0,p.jsx)("span",{className:"flex-shrink truncate",children:s})}),footer:(0,p.jsxs)("div",{className:"flex items-end justify-between",children:[(0,p.jsx)("span",{className:"text-sm lowercase text-scale-1000",children:t}),o?(0,p.jsx)("div",{className:"grow text-right",children:(0,p.jsx)(u.Z,{color:"brand",children:(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(x.Z,{className:"animate-spin",size:14,strokeWidth:2}),(0,p.jsx)("span",{className:"truncate",children:"Restoring"})]})})}):a?(0,p.jsx)("div",{className:"grow text-right",children:(0,p.jsx)(u.Z,{color:"scale",children:(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(x.Z,{className:"animate-spin",size:14,strokeWidth:2}),(0,p.jsx)("span",{className:"truncate",children:"Pausing"})]})})}):c?(0,p.jsx)("div",{className:"grow text-right",children:(0,p.jsx)(u.Z,{color:"scale",children:(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(h.Z,{size:14,strokeWidth:2}),(0,p.jsx)("span",{className:"truncate",children:"Paused"})]})})}):(0,p.jsx)(p.Fragment,{})]})})})},f=n(42810),v=n(68043),g=n(90849),N=n(90089),b=n(55732),w=n(34707),y=n.n(w),Z=n(36492),k=n(14919),O=n(42278),P=["enabled"];function z(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,s)}return n}function _(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?z(Object(n),!0).forEach((function(r){(0,g.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function C(e){return E.apply(this,arguments)}function E(){return(E=(0,b.Z)(y().mark((function e(r){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.U2)("".concat(l.T5,"/stripe/invoices/overdue"),{signal:r});case 2:if(!(n=e.sent).error){e.next=5;break}throw n.error;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=(0,c.Pi)((function(e){var r,n=e.rewriteHref,s=(0,o.oR)(),c=s.app,u=s.ui,x=c.organizations,h=c.projects,j=h.isLoading,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.enabled,n=void 0===r||r,s=(0,N.Z)(e,P);return(0,Z.a)(O.Y.overdueInvoices(),(function(e){return C(e.signal)}),_({enabled:n},s))}({enabled:l.Qy}),b=g.data,w=!!l.Qy&&0===(null!==(r=null===u||void 0===u?void 0:u.permissions)&&void 0!==r?r:[]).length;return(0,p.jsx)(p.Fragment,{children:x.list().map((function(e){var r=e.id,s=e.name,c=e.slug,l=h.list((function(e){return e.organization_id==r})),u=0==(null===l||void 0===l?void 0:l.length),x=(0,o.FH)(v.KA.READ,"projects",void 0,r),g=(b||[]).filter((function(e){return e.organization_id===r}));return(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,p.jsx)("h4",{className:"text-lg",children:s}),!!g.length&&(0,p.jsx)("div",{children:(0,p.jsx)(i(),{href:"/org/".concat(c,"/invoices"),children:(0,p.jsx)("a",{children:(0,p.jsx)(t.z,{type:"danger",children:"Outstanding Invoices"})})})})]}),w||j?(0,p.jsxs)("ul",{className:"mx-auto grid grid-cols-1 gap-4 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:[(0,p.jsx)(f.Z,{}),(0,p.jsx)(f.Z,{})]}):(0,p.jsx)("ul",{className:"mx-auto grid grid-cols-1 gap-4 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:x?u?(0,p.jsxs)("div",{className:"col-span-4 space-y-4 rounded-lg border-2 border-dashed border-gray-300 p-6 text-center",children:[(0,p.jsxs)("div",{className:"space-y-1",children:[(0,p.jsx)("p",{children:"No projects"}),(0,p.jsx)("p",{className:"text-sm text-scale-1100",children:"Get started by creating a new project."})]}),(0,p.jsx)("div",{children:(0,p.jsx)(i(),{href:"/new/".concat(c),children:(0,p.jsx)("a",{children:(0,p.jsx)(t.z,{icon:(0,p.jsx)(a.Z,{}),children:"New Project"})})})})]}):null===l||void 0===l?void 0:l.map((function(e){return(0,p.jsx)(m,{project:e,rewriteHref:n?n(e.ref):void 0},(0,d.pZ)(5))})):(0,p.jsx)("div",{className:"col-span-4 space-y-4 rounded-lg border-2 border-dashed border-gray-300 py-8 px-6 text-center",children:(0,p.jsxs)("div",{className:"space-y-1",children:[(0,p.jsx)("p",{children:"You need additional permissions to view projects from this organization"}),(0,p.jsx)("p",{className:"text-sm text-scale-1100",children:"Contact your organization owner or adminstrator for assistance."})]})})})]},(0,d.pZ)(5))}))})})),D=I},84151:function(e,r,n){"use strict";var s=n(44285),i=(n(27378),n(14971)),t=n(47939),a=n(79894),c=n.n(a),l=n(24246);r.Z=function(e){var r=e.title,n=e.description,a=e.children,o=e.footer,d=e.url,u=void 0===d?"":d,x=e.linkHref,h=void 0===x?"":x,j=e.imgUrl,p=e.imgAlt,m=e.onClick,f=e.icon,v=e.containerHeightClassName,g=void 0===v?"h-32":v,N=e.loading,b=void 0!==N&&N,w=function(e){var r=e.children;return(0,l.jsx)(c(),{href:h,children:(0,l.jsx)("a",{children:r})})},y=function(e){var r=e.children;return(0,l.jsx)("a",{href:u,children:r})},Z=function(e){var r=e.children;return(0,l.jsx)("div",{children:r})},k=function(e){var r=e.children;return(0,l.jsx)("button",{onClick:m,children:r})},O=u||h||m,P=["group relative text-left","bg-panel-header-light dark:bg-panel-header-dark","border border-panel-border-light dark:border-panel-border-dark","rounded-md py-4 px-6 flex flex-row","transition ease-in-out duration-150",g];O&&(P=[].concat((0,s.Z)(P),["cursor-pointer","hover:bg-panel-border-light dark:hover:bg-panel-border-dark","hover:border-panel-border-hover-light","dark:hover:border-panel-border-hover-dark hover:border-gray-300"]));var z=function(e){var r=e.children;return(0,l.jsx)("div",{className:"mr-4 flex flex-col",children:r})},_=(0,l.jsxs)("div",{className:P.join(" "),children:[j&&(0,l.jsx)(z,{children:(0,l.jsx)("img",{className:" transition-all group-hover:scale-110 ",src:"".concat(j),alt:"".concat(p),width:"26"})}),f&&(0,l.jsx)(z,{children:f}),(0,l.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2",children:[(0,l.jsx)("h5",{className:"text-scale-1200",children:r}),(a||n)&&(0,l.jsxs)("div",{className:"flex w-full flex-1 flex-col",children:[(0,l.jsx)("p",{className:"text-sm text-scale-1100",children:n}),(0,l.jsx)("div",{className:"w-full",children:a&&a})]}),o&&(0,l.jsx)("div",{className:"w-full",children:o})]}),O&&(0,l.jsx)("div",{className:" absolute right-4 top-4 text-scale-900 transition-all duration-200 group-hover:right-3 group-hover:text-scale-1200 ",children:b?(0,l.jsx)(i.Z,{className:"animate-spin"}):(0,l.jsx)(t.Z,{})})]});return m?(0,l.jsx)(k,{children:_}):h?(0,l.jsx)(w,{children:_}):u?(0,l.jsx)(y,{children:_}):(0,l.jsx)(Z,{children:_})}},42278:function(e,r,n){"use strict";n.d(r,{Y:function(){return s}});var s={overdueInvoices:function(){return["invoices","overdue"]},upcomingPreview:function(e){return["invoices",e,"upcoming-preview"]}}},63849:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return f}});var s=n(67324),i=n(42753),t=(n(27378),n(86677)),a=n(79588),c=n(2674),l=n(87474),o=n(47314),d=n(43659),u=n(24246),x=(0,d.Pi)((function(e){var r=e.organizations,n=(0,t.useRouter)(),s=Object.values((0,a.ZN)(r.data)).sort((function(e,r){return e.name.localeCompare(r.name)}));return(0,u.jsx)(c.ZP,{side:"bottom",align:"center",overlay:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.ZP.Label,{children:"Choose organization"}),s.sort((function(e,r){return e.name.localeCompare(r.name)})).map((function(e){return(0,u.jsx)(c.ZP.Item,{label:e.name,onClick:function(){return n.push("/new/".concat(e.slug))},children:e.name},e.slug)})),(0,u.jsx)(c.ZP.Separator,{}),(0,u.jsx)(c.ZP.Item,{icon:(0,u.jsx)(l.Z,{size:"tiny"}),onClick:function(){return n.push("/new")},children:"New organization"})]}),children:(0,u.jsx)(o.z,{as:"span",children:"New project"})})})),h=n(62771),j=n(27102),p=n(20796),m=function(){var e=(0,j.oR)().app;return(0,u.jsx)(u.Fragment,{children:e.organizations.isInitialized?(0,u.jsxs)("div",{className:"py-4 px-5",children:[p.Qy&&(0,u.jsx)("div",{className:"my-2",children:(0,u.jsx)("div",{className:"flex",children:(0,u.jsx)("div",{className:"",children:(0,u.jsx)(x,{organizations:e.organizations})})})}),(0,u.jsx)("div",{className:"my-8 space-y-8",children:(0,u.jsx)(s.Z,{})})]}):(0,u.jsx)("div",{className:"flex h-full items-center justify-center space-x-2",children:(0,u.jsx)(h.Z,{})})})};m.getLayout=function(e){return(0,u.jsx)(i.p0,{title:"Dashboard",breadcrumbs:[{key:"supabase-projects",label:"Projects"}],children:e})};var f=(0,d.Pi)(m)},17128:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return n(63849)}])}},function(e){e.O(0,[7930,1188,2056,5286,9774,2888,179],(function(){return r=17128,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=projects-d5defa135d940508.js.map