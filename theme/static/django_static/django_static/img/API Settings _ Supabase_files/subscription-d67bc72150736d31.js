(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9612],{39992:function(e,t,n){"use strict";n.d(t,{PR:function(){return b}});var r=n(90849),s=n(90089),a=n(55732),i=n(34707),o=n.n(i),c=n(36492),l=n(27693),d=n.n(l),u=n(14919),p=n(20796),m=(n(27378),n(36891)),x=["enabled"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(o().mark((function e(t,n){var r,s,a,i,c,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef,s=t.attribute,a=t.startDate,i=t.endDate,c=t.interval,l=void 0===c?"1d":c,r){e.next=3;break}throw new Error("Project ref is required");case 3:if(s){e.next=5;break}throw new Error("Attribute is required");case 5:if(a){e.next=7;break}throw new Error("Start date is required");case 7:if(i){e.next=9;break}throw new Error("End date is required");case 9:return e.next=11,(0,u.U2)("".concat(p.T5,"/projects/").concat(r,"/infra-monitoring?attribute=").concat(s,"&startDate=").concat(encodeURIComponent(a),"&endDate=").concat(encodeURIComponent(i),"&interval=").concat(l),{signal:n});case 11:if(!(d=e.sent).error){e.next=14;break}throw d.error;case 14:return e.abrupt("return",d);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(e){var t=e.projectRef,n=e.attribute,a=e.startDate,i=e.endDate,o=e.interval,l=void 0===o?"1d":o,u=e.dateFormat,p=void 0===u?"DD MMM":u,h=e.modifier,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=j.enabled,g=void 0===b||b,y=(0,s.Z)(j,x);return(0,c.a)(m.d.infraMonitoring(t,{attribute:n,startDate:a,endDate:i,interval:l}),(function(e){var r=e.signal;return v({projectRef:t,attribute:n,startDate:a,endDate:i,interval:l},r)}),f({enabled:g&&"undefined"!==typeof t&&"undefined"!==typeof n&&"undefined"!==typeof a&&"undefined"!==typeof i,select:function(e){return f(f({},e),{},{data:e.data.map((function(e){var t;return f(f({},e),{},(t={},(0,r.Z)(t,n,void 0!==h?h(Number(e[n])):Number(e[n])),(0,r.Z)(t,"periodStartFormatted",d()(e.period_start).format(p)),t))}))})}},y))}},36891:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r={functionsInvStats:function(e,t){return["projects",e,"functions-inv-stats",{interval:t.interval,functionId:t.functionId}]},dailyStats:function(e,t){return["projects",e,"daily-stats",{attribute:t.attribute,startDate:t.startDate,endDate:t.endDate,interval:t.interval}]},infraMonitoring:function(e,t){return["projects",e,"infra-monitoring",{attribute:t.attribute,startDate:t.startDate,endDate:t.endDate,interval:t.interval}]},usageApiCounts:function(e,t){return["projects",e,"usage.api-counts",t]}}},42278:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var r={overdueInvoices:function(){return["invoices","overdue"]},upcomingPreview:function(e){return["invoices",e,"upcoming-preview"]}}},97897:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ft}});var r=n(27378),s=n(43659),a=n(17634),i=n(72853),o=n(42753),c=n(97588),l=n(27102),d=n(82672),u=n(2382),p=n(79305),m=n(86677),x=n(11246),h=n(22917),f=n(51452),v=n(39992),j=n(90849),b=n(90089),g=n(55732),y=n(34707),N=n.n(y),w=n(36492),k=n(14919),O=n(20796),P=n(92782),C=["enabled"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){return z.apply(this,arguments)}function z(){return(z=(0,g.Z)(N().mark((function e(t,n){var r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,k.U2)("".concat(O.T5,"/projects/").concat(r,"/billing/addons"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=void 0===r||r,a=(0,b.Z)(n,C);return(0,w.a)(P.U.addons(t),(function(e){var n=e.signal;return S({projectRef:t},n)}),Z({enabled:s&&"undefined"!==typeof t},a))},R=n(27693),U=n.n(R),E=n(38579),I=n.n(E),T=n(79894),A=n.n(T),M=n(86949),F=n(34860),q=(0,M.sj)({panelKey:void 0,setPanelKey:function(e){q.panelKey=e}}),L=function(e){return(0,F.RK)(q,e)},Y=n(65961),W=n(47314),G=n(11597),K=n(47939),B=n(86010),$=n(85945),V=n(48228),Q=["onSuccess"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,g.Z)(N().mark((function e(t){var n,r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef,r=t.variant,n){e.next=3;break}throw new Error("projectRef is required");case 3:if(r){e.next=5;break}throw new Error("variant is required");case 5:return e.next=7,(0,k.$v)("".concat(O.T5,"/projects/").concat(n,"/billing/addons/").concat(r));case 7:if(!(s=e.sent).error){e.next=10;break}throw s.error;case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=(0,b.Z)(e,Q),r=(0,$.NL)();return(0,V.D)((function(e){return J(e)}),X({onSuccess:function(e,n,s){return(0,g.Z)(N().mark((function a(){var i;return N().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=n.projectRef,a.next=3,r.invalidateQueries(P.U.addons(i));case 3:return a.next=5,null===t||void 0===t?void 0:t(e,n,s);case 5:case"end":return a.stop()}}),a)})))()}},n))},ne=["onSuccess"];function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,g.Z)(N().mark((function e(t){var n,r,s,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef,r=t.variant,s=t.type,n){e.next=3;break}throw new Error("projectRef is required");case 3:if(r){e.next=5;break}throw new Error("variant is required");case 5:if(s){e.next=7;break}throw new Error("type is required");case 7:return e.next=9,(0,k.v_)("".concat(O.T5,"/projects/").concat(n,"/billing/addons"),{addon_type:s,addon_variant:r});case 9:if(!(a=e.sent).error){e.next=12;break}throw a.error;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=(0,b.Z)(e,ne),r=(0,$.NL)();return(0,V.D)((function(e){return ae(e)}),se({onSuccess:function(e,n,s){return(0,g.Z)(N().mark((function a(){var i;return N().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=n.projectRef,a.next=3,r.invalidateQueries(P.U.addons(i));case 3:return a.next=5,null===t||void 0===t?void 0:t(e,n,s);case 5:case"end":return a.stop()}}),a)})))()}},n))},ce=["enabled"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){return pe.apply(this,arguments)}function pe(){return(pe=(0,g.Z)(N().mark((function e(t,n){var r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,k.U2)("".concat(O.T5,"/projects/").concat(r,"/billing/subscription"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=void 0===r||r,a=(0,b.Z)(n,ce);return(0,w.a)(P.U.subscriptionV2(t),(function(e){var n=e.signal;return ue({projectRef:t},n)}),de({enabled:s&&"undefined"!==typeof t},a))},xe=n(70417),he=n(84954),fe=n(94269),ve=n(24246),je=[{id:"micro",name:"Micro Compute",imageUrl:"".concat(O.GW,"/img/optimized-compute-off.svg")},{id:"optimized",name:"Optimized Compute",imageUrl:"".concat(O.GW,"/img/optimized-compute-on.svg")}],be=function(){var e,t,n,s,a,i,o=(0,l.oR)(),c=o.ui,d=o.app,u=(0,m.useRouter)(),p=(0,h.UO)().ref,x=(0,r.useState)(!1),f=x[0],v=x[1],j=(0,r.useState)(!1),b=j[0],y=j[1],w=(0,r.useState)("micro"),k=w[0],P=w[1],C=(0,r.useState)("ci_micro"),_=C[0],Z=C[1],S=L(),z="computeInstance"===S.panelKey,R=D({projectRef:p}),U=R.data,E=R.isLoading,I=me({projectRef:p}).data,T=oe().mutateAsync,M=te().mutateAsync,F=null===(e=c.selectedProject)||void 0===e?void 0:e.id,q=null!==(t=null===U||void 0===U?void 0:U.selected_addons)&&void 0!==t?t:[],K=null!==(n=null===U||void 0===U?void 0:U.available_addons)&&void 0!==n?n:[],$="free"===(null===I||void 0===I?void 0:I.plan.id),V=q.find((function(e){return"compute_instance"===e.type})),Q=null!==(s=null===(a=K.find((function(e){return"compute_instance"===e.type})))||void 0===a?void 0:a.variants)&&void 0!==s?s:[],H=Q.find((function(e){return e.identifier===_})),X=_!==(null!==(i=null===V||void 0===V?void 0:V.variant.identifier)&&void 0!==i?i:"ci_micro");(0,r.useEffect)((function(){z&&(void 0!==V?(P("optimized"),Z(V.variant.identifier)):(P("micro"),Z("ci_micro")))}),[z,E]);var J=function(){var e=(0,g.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(F){e.next=4;break}return e.abrupt("return",console.error("Project ID is required"));case 4:if(e.prev=4,v(!0),"ci_micro"!==_||void 0===V){e.next=11;break}return e.next=9,M({projectRef:p,variant:V.variant.identifier});case 9:e.next=13;break;case 11:return e.next=13,T({projectRef:p,type:"compute_instance",variant:_});case 13:c.setNotification({duration:8e3,category:"success",message:"Successfully updated compute instance to ".concat(null===H||void 0===H?void 0:H.name,". Your project is currently being restarted to update its instance")}),d.onProjectStatusUpdated(F,O.S.RESTORING),u.push("/project/".concat(p)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),c.setNotification({error:e.t0,category:"error",message:"Unable to update compute instance: ".concat(e.t0.message)});case 21:return e.prev=21,v(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[4,18,21,24]])})));return function(){return e.apply(this,arguments)}}();return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(xe.ZP,{size:"xxlarge",visible:z,onCancel:function(){return S.setPanelKey(void 0)},onConfirm:function(){return y(!0)},loading:E,disabled:$||E||!X,tooltip:$?"Unable to update compute instance on a free plan":void 0,header:(0,ve.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ve.jsx)("h4",{children:"Change project compute size"}),(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/compute-add-ons",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsx)(W.z,{type:"default",icon:(0,ve.jsx)(Y.Z,{strokeWidth:1.5}),children:"About compute sizes"})})})]}),children:(0,ve.jsx)(xe.ZP.Content,{children:(0,ve.jsxs)("div",{className:"py-6 space-y-4",children:[(0,ve.jsx)("p",{className:"text-sm",children:"For the database, compute size refers to the amount of CPU and memory allocated to the database instance."}),(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"Your project will need to be restarted when changing it's compute size",children:"It will take up to 2 minutes for changes to take place, in which your project will be unavailable during that time."}),(0,ve.jsx)("div",{className:"!mt-8 pb-4",children:(0,ve.jsx)("div",{className:"grid grid-cols-12 gap-3",children:je.map((function(e){var t=k===e.id;return(0,ve.jsxs)("div",{className:(0,B.Z)("col-span-3 group space-y-1",$&&"opacity-75"),onClick:function(){P(e.id),"micro"===e.id&&Z("ci_micro")},children:[(0,ve.jsx)("div",{className:(0,B.Z)("relative rounded-xl transition border bg-no-repeat bg-center bg-cover cursor-pointer",t?"border-brand-900":"border-scale-900 opacity-50 group-hover:border-scale-1100 group-hover:opacity-100"),style:{aspectRatio:" 160/96",backgroundImage:"url(".concat(e.imageUrl,")")}}),(0,ve.jsx)("p",{className:(0,B.Z)("text-sm transition",t?"text-scale-1200":"text-scale-1000"),children:e.name})]},e.id)}))})}),"optimized"===k&&(0,ve.jsxs)("div",{className:"pb-4",children:[$&&(0,ve.jsx)(G.Z,{withIcon:!0,className:"mb-4",variant:"info",title:"Changing your compute size is only available on the Pro plan",actions:(0,ve.jsx)(W.z,{type:"default",onClick:function(){return S.setPanelKey("subscriptionPlan")},children:"View available plans"}),children:"Upgrade your project's plan to change the compute size of your project"}),(0,ve.jsx)(he.Z.Group,{type:"large-cards",size:"tiny",id:"compute-instance",label:(0,ve.jsx)("p",{className:"text-sm",children:"Choose the compute size you want to use"}),onChange:function(e){return Z(e.target.value)},children:Q.map((function(e){var t,n,r,s,a;return(0,ve.jsx)(he.Z,{className:"col-span-3 !p-0",disabled:$,name:"compute-instance",checked:_===e.identifier,label:e.name,value:e.identifier,children:(0,ve.jsxs)("div",{className:"w-full group",children:[(0,ve.jsx)("div",{className:"border-b border-scale-500 px-4 py-2 group-hover:border-scale-600",children:(0,ve.jsx)("p",{className:"text-sm",children:e.name})}),(0,ve.jsxs)("div",{className:"px-4 py-2",children:[(0,ve.jsxs)("p",{className:"text-scale-1000",children:[null!==(t=null===(n=e.meta)||void 0===n?void 0:n.memory_gb)&&void 0!==t?t:0," GB memory"]}),(0,ve.jsxs)("p",{className:"text-scale-1000",children:[null!==(r=null===(s=e.meta)||void 0===s?void 0:s.cpu_cores)&&void 0!==r?r:0,"-core ARM CPU (",null!==(a=e.meta)&&void 0!==a&&a.cpu_dedicated?"Dedicated":"Shared",")"]}),(0,ve.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,ve.jsxs)("p",{className:"text-scale-1200 text-sm",children:["$",e.price.toLocaleString()]}),(0,ve.jsx)("p",{className:"text-scale-1000 translate-y-[1px]",children:" / month"})]})]})]})},e.identifier)}))})]}),"micro"===k&&(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"Your database will use the standard Micro size instance of 2-core ARM CPU (Shared) with 1GB of memory."}),X&&("micro"===k?(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"Upon clicking confirm, the amount of that's unused during the current billing cycle will be returned as credits that can be used for subsequent billing cycles"}):(0,ve.jsxs)("p",{className:"text-sm text-scale-1100",children:["Upon clicking confirm, the amount of"," ",(0,ve.jsxs)("span",{className:"text-scale-1200",children:["$",null===H||void 0===H?void 0:H.price.toLocaleString()]})," ","will be added to your monthly invoice. Any previous compute addon is prorated and you're immediately charged for the remaining days of your billing cycle. The addon is prepaid per month and in case of a downgrade, you get credits for the remaining time."]}))]})})}),(0,ve.jsx)(fe.C,{size:"medium",alignFooter:"right",visible:b,loading:f,onCancel:function(){return y(!1)},onConfirm:function(){return J()},header:"Confirm to upgrade compute instance now",children:(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsx)("div",{className:"py-6",children:(0,ve.jsx)(G.Z,{withIcon:!0,variant:"warning",title:"Your project will need to be restarted when changing it's compute size",children:"It will take up to 2 minutes for changes to take place, in which your project will be unavailable during that time."})})})})]})},ge=function(){var e,t,n,s,a,i,o,c,d=(0,l.oR)().ui,u=(0,h.UO)().ref,p=(0,r.useState)(!1),m=p[0],x=p[1],f=(0,r.useState)("cd_none"),v=f[0],j=f[1],b=L(),y="customDomain"===b.panelKey,w=function(){return b.setPanelKey(void 0)},k=D({projectRef:u}),O=k.data,P=k.isLoading,C=me({projectRef:u}).data,_=oe().mutateAsync,Z=te().mutateAsync,S=(null!==(e=null===O||void 0===O?void 0:O.selected_addons)&&void 0!==e?e:[]).find((function(e){return"custom_domain"===e.type})),z=null!==(t=null===(n=(null!==(s=null===O||void 0===O?void 0:O.available_addons)&&void 0!==s?s:[]).find((function(e){return"custom_domain"===e.type})))||void 0===n?void 0:n.variants)&&void 0!==t?t:[],R="free"===(null===C||void 0===C||null===(a=C.plan)||void 0===a?void 0:a.id),U=v!==(null!==(i=null===S||void 0===S?void 0:S.variant.identifier)&&void 0!==i?i:"cd_none"),E=z.find((function(e){return e.identifier===v}));(0,r.useEffect)((function(){y&&j(void 0!==S?S.variant.identifier:"cd_none")}),[y,P]);var I=function(){var e=(0,g.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(e.prev=2,x(!0),"cd_none"!==v||void 0===S){e.next=9;break}return e.next=7,Z({projectRef:u,variant:S.variant.identifier});case 7:e.next=11;break;case 9:return e.next=11,_({projectRef:u,type:"custom_domain",variant:v});case 11:d.setNotification({category:"success",message:"Successfully ".concat("cd_none"===v?"disabled":"enabled"," custom domain")}),w(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),d.setNotification({error:e.t0,category:"error",message:"Unable to update custom domain: ".concat(e.t0.message)});case 18:return e.prev=18,x(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return(0,ve.jsx)(xe.ZP,{size:"large",visible:y,onCancel:w,onConfirm:I,loading:P||m,disabled:R||P||!U||m,tooltip:R?"Unable to enable custom domain on a free plan":void 0,header:(0,ve.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ve.jsx)("h4",{children:"Custom domains"}),(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/custom-domains",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsx)(W.z,{type:"default",icon:(0,ve.jsx)(Y.Z,{strokeWidth:1.5}),children:"About custom domains"})})})]}),children:(0,ve.jsx)(xe.ZP.Content,{children:(0,ve.jsxs)("div",{className:"py-6 space-y-4",children:[(0,ve.jsxs)("p",{className:"text-sm",children:["Custom domains allow you to present a branded experience to your users. You may set up your custom domain in the"," ",(0,ve.jsx)(A(),{href:"/project/".concat(u,"/settings/general"),children:(0,ve.jsx)("a",{className:"text-brand-900",children:"General Settings"})})," ","page after enabling the add-on."]}),R?(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"Changing your compute size is only available on the Pro plan",actions:(0,ve.jsx)(W.z,{type:"default",onClick:function(){return b.setPanelKey("subscriptionPlan")},children:"View available plans"}),children:"Upgrade your project's plan to change the compute size of your project"}):(0,ve.jsx)("p",{className:"text-sm",children:"Your project can be upgraded to enable custom domains."}),(0,ve.jsx)("div",{className:(0,B.Z)("!mt-8 pb-4",R&&"opacity-75"),children:(0,ve.jsxs)(he.Z.Group,{type:"large-cards",size:"tiny",id:"custom-domain",onChange:function(e){return j(e.target.value)},children:[(0,ve.jsx)(he.Z,{name:"custom-domain",checked:"cd_none"===v,className:"col-span-4 !p-0",label:"No custom domain",value:"cd_none",children:(0,ve.jsxs)("div",{className:"w-full group",children:[(0,ve.jsx)("div",{className:"border-b border-scale-500 px-4 py-2 group-hover:border-scale-600",children:(0,ve.jsx)("p",{className:"text-sm",children:"No custom domain"})}),(0,ve.jsxs)("div",{className:"px-4 py-2",children:[(0,ve.jsx)("p",{className:"text-scale-1000",children:"Use the default supabase domain for your API"}),(0,ve.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,ve.jsx)("p",{className:"text-scale-1200 text-sm",children:"$0"}),(0,ve.jsx)("p",{className:"text-scale-1000 translate-y-[1px]",children:" / month"})]})]})]})}),z.map((function(e){return(0,ve.jsx)(he.Z,{className:"col-span-4 !p-0",name:"custom-domain",disabled:R,checked:v===e.identifier,label:e.name,value:e.identifier,children:(0,ve.jsxs)("div",{className:"w-full group",children:[(0,ve.jsx)("div",{className:"border-b border-scale-500 px-4 py-2 group-hover:border-scale-600",children:(0,ve.jsx)("p",{className:"text-sm",children:e.name})}),(0,ve.jsxs)("div",{className:"px-4 py-2",children:[(0,ve.jsx)("p",{className:"text-scale-1000",children:"Present a branded experience to your users"}),(0,ve.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,ve.jsxs)("p",{className:"text-scale-1200 text-sm",children:["$",e.price]}),(0,ve.jsx)("p",{className:"text-scale-1000 translate-y-[1px]",children:" / month"})]})]})]})},e.identifier)}))]})}),U&&(0,ve.jsx)(ve.Fragment,{children:"cd_none"===v||(null!==(o=null===E||void 0===E?void 0:E.price)&&void 0!==o?o:0)<(null!==(c=null===S||void 0===S?void 0:S.variant.price)&&void 0!==c?c:0)?(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"Upon clicking confirm, the amount of that's unused during the current billing cycle will be returned as credits that can be used for subsequent billing cycles"}):(0,ve.jsxs)("p",{className:"text-sm text-scale-1100",children:["Upon clicking confirm, the amount of"," ",(0,ve.jsxs)("span",{className:"text-scale-1200",children:["$",null===E||void 0===E?void 0:E.price.toLocaleString()]})," ","will be added to your monthly invoice. You're immediately charged for the remaining days of your billing cycle. The addon is prepaid per month and in case of a downgrade, you get credits for the remaining time."]})})]})})})},ye=[{id:"off",name:"No point in time recovery",imageUrl:"".concat(O.GW,"/img/pitr-off.svg")},{id:"on",name:"Enable point in time recovery",imageUrl:"".concat(O.GW,"/img/pitr-on.svg")}],Ne=function(){var e,t,n,s,a,i,o,c,d=(0,l.oR)().ui,u=(0,h.UO)().ref,p=(0,r.useState)(!1),m=p[0],x=p[1],f=(0,r.useState)("off"),v=f[0],j=f[1],b=(0,r.useState)("pitr_0"),y=b[0],w=b[1],k=L(),O="pitr"===k.panelKey,P=function(){return k.setPanelKey(void 0)},C=D({projectRef:u}),_=C.data,Z=C.isLoading,S=me({projectRef:u}).data,z=oe().mutateAsync,R=te().mutateAsync,U=null!==(e=null===_||void 0===_?void 0:_.selected_addons)&&void 0!==e?e:[],E=null!==(t=null===_||void 0===_?void 0:_.available_addons)&&void 0!==t?t:[],I=U.find((function(e){return"compute_instance"===e.type})),T=U.find((function(e){return"pitr"===e.type})),M=null!==(n=null===(s=E.find((function(e){return"pitr"===e.type})))||void 0===s?void 0:s.variants)&&void 0!==n?n:[],F=y!==(null!==(a=null===T||void 0===T?void 0:T.variant.identifier)&&void 0!==a?a:"pitr_0"),q=M.find((function(e){return e.identifier===y})),K="free"===(null===S||void 0===S||null===(i=S.plan)||void 0===i?void 0:i.id);(0,r.useEffect)((function(){O&&(void 0!==T?(j("on"),w(T.variant.identifier)):(j("off"),w("pitr_0")))}),[O,Z]);var $=function(){var e=(0,g.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(e.prev=2,x(!0),"pitr_0"!==y||void 0===T){e.next=9;break}return e.next=7,R({projectRef:u,variant:T.variant.identifier});case 7:e.next=11;break;case 9:return e.next=11,z({projectRef:u,type:"pitr",variant:y});case 11:d.setNotification({category:"success",message:"Successfully ".concat("pitr_0"===y?"disabled":"updated"," point in time recovery duration")}),P(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),d.setNotification({error:e.t0,category:"error",message:"Unable to update PITR: ".concat(e.t0.message)});case 18:return e.prev=18,x(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return(0,ve.jsx)(xe.ZP,{size:"xxlarge",visible:O,onCancel:P,onConfirm:$,loading:Z||m,disabled:K||Z||!F||m,tooltip:K?"Unable to enable point in time recovery on a free plan":void 0,header:(0,ve.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ve.jsx)("h4",{children:"Point in Time Recovery"}),(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/backups#point-in-time-recovery",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsx)(W.z,{type:"default",icon:(0,ve.jsx)(Y.Z,{strokeWidth:1.5}),children:"About point in time recovery"})})})]}),children:(0,ve.jsx)(xe.ZP.Content,{children:(0,ve.jsxs)("div",{className:"py-6 space-y-4",children:[(0,ve.jsx)("p",{className:"text-sm",children:"Point-in-Time Recovery (PITR) allows a project to be backed up at much shorter intervals. This provides users an option to restore to any chosen point of up to seconds in granularity."}),(0,ve.jsx)("div",{className:"!mt-8 pb-4",children:(0,ve.jsx)("div",{className:"grid grid-cols-12 gap-3",children:ye.map((function(e){var t=v===e.id;return(0,ve.jsxs)("div",{className:(0,B.Z)("col-span-3 group space-y-1",K&&"opacity-75"),onClick:function(){j(e.id),"off"===e.id&&w("pitr_0")},children:[(0,ve.jsx)("div",{className:(0,B.Z)("relative rounded-xl transition border bg-no-repeat bg-center bg-cover cursor-pointer",t?"border-brand-900":"border-scale-900 opacity-50 group-hover:border-scale-1100 group-hover:opacity-100"),style:{aspectRatio:" 160/96",backgroundImage:"url(".concat(e.imageUrl,")")}}),(0,ve.jsx)("p",{className:(0,B.Z)("text-sm transition",t?"text-scale-1200":"text-scale-1000"),children:e.name})]},e.id)}))})}),"on"===v&&(0,ve.jsxs)("div",{className:"!mt-8 pb-4",children:[K?(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",className:"mb-4",title:"Changing your compute size is only available on the Pro plan",actions:(0,ve.jsx)(W.z,{type:"default",onClick:function(){return k.setPanelKey("subscriptionPlan")},children:"View available plans"}),children:"Upgrade your project's plan to change the compute size of your project"}):void 0===I?(0,ve.jsx)(G.Z,{withIcon:!0,variant:"warning",className:"mb-4",title:"Your project is required to minimally be on a Small compute size to enable PITR",actions:[(0,ve.jsx)(W.z,{type:"default",onClick:function(){return k.setPanelKey("computeInstance")},children:"Change compute size"},"change-compute")],children:"This is to ensure that your project has enough resources to execute PITR successfully"}):null,(0,ve.jsx)(he.Z.Group,{type:"large-cards",size:"tiny",id:"pitr",label:(0,ve.jsx)("p",{className:"text-sm",children:"Choose the duration of recovery"}),onChange:function(e){return w(e.target.value)},children:M.map((function(e){return(0,ve.jsx)(he.Z,{name:"pitr",disabled:K||void 0===I,className:"col-span-3 !p-0",checked:y===e.identifier,label:(0,ve.jsx)("span",{className:"text-sm",children:e.name}),value:e.identifier,children:(0,ve.jsxs)("div",{className:"w-full group",children:[(0,ve.jsx)("div",{className:"border-b border-scale-500 px-4 py-2 group-hover:border-scale-600",children:(0,ve.jsx)("p",{className:"text-sm",children:e.name})}),(0,ve.jsxs)("div",{className:"px-4 py-2",children:[(0,ve.jsxs)("p",{className:"text-scale-1000",children:["Allow database restorations to any time up to"," ",e.identifier.split("_")[1]," days ago"]}),(0,ve.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,ve.jsxs)("p",{className:"text-scale-1200 text-sm",children:["$",e.price.toLocaleString()]}),(0,ve.jsx)("p",{className:"text-scale-1000 translate-y-[1px]",children:" / month"})]})]})]})},e.identifier)}))})]}),F&&(0,ve.jsx)(ve.Fragment,{children:"pitr_0"===y||(null!==(o=null===q||void 0===q?void 0:q.price)&&void 0!==o?o:0)<(null!==(c=null===T||void 0===T?void 0:T.variant.price)&&void 0!==c?c:0)?(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"Upon clicking confirm, the amount of that's unused during the current billing cycle will be returned as credits that can be used for subsequent billing cycles"}):(0,ve.jsxs)("p",{className:"text-sm text-scale-1100",children:["Upon clicking confirm, the amount of"," ",(0,ve.jsxs)("span",{className:"text-scale-1200",children:["$",null===q||void 0===q?void 0:q.price.toLocaleString()]})," ","will be added to your monthly invoice. You're immediately charged for the remaining days of your billing cycle. The addon is prepaid per month and in case of a downgrade, you get credits for the remaining time."]})})]})})})},we=n(98213),ke=function(e){var t=e.projectUpdateDisabled,n=e.children;return(0,ve.jsxs)(we.fC,{delayDuration:0,children:[(0,ve.jsx)(we.xz,{children:n}),t?(0,ve.jsx)(we.h_,{children:(0,ve.jsxs)(we.VY,{side:"bottom",children:[(0,ve.jsx)(we.Eh,{className:"radix-tooltip-arrow"}),(0,ve.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,ve.jsx)("span",{className:"text-xs text-scale-1200",children:"Subscription changes are currently disabled. Our engineers are working on a fix."})})]})}):null]})},Oe=function(e){var t,n,s,a,i,o,c,d,u,m,j,b,g,y,N,w,k,P;(0,p.Z)(e);var C=(0,h.UO)().ref,_=L(),Z=(0,l.P5)("disableProjectCreationAndUpdate"),S=(0,r.useMemo)((function(){return U()().subtract(15,"minutes").millisecond(0).toISOString()}),[]),z=(0,r.useMemo)((function(){return U()().millisecond(0).toISOString()}),[]),R=(0,v.PR)({projectRef:C,attribute:"disk_io_budget",interval:"5m",startDate:S,endDate:z}).data,E=(null!==(t=null===R||void 0===R?void 0:R.data)&&void 0!==t?t:[]).slice(-1),T=(0,x.Z)(E,1)[0],M=D({projectRef:C}),F=M.data,q=M.isLoading,B=null!==(n=null===F||void 0===F?void 0:F.selected_addons)&&void 0!==n?n:[],$=null!==(s=null===F||void 0===F?void 0:F.available_addons)&&void 0!==s?s:[],V=function(e){return{computeInstance:e.find((function(e){return"compute_instance"===e.type})),pitr:e.find((function(e){return"pitr"===e.type})),customDomain:e.find((function(e){return"custom_domain"===e.type}))}}(B),Q=V.computeInstance,H=V.pitr,X=V.customDomain,J=void 0!==Q?null===(a=$.find((function(e){return"compute_instance"===e.type})))||void 0===a||null===(i=a.variants.find((function(e){return e.identifier===Q.variant.identifier})))||void 0===i?void 0:i.meta:void 0;return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsxs)("div",{className:"grid grid-cols-12 gap-6",id:"addons",children:[(0,ve.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,ve.jsx)("div",{className:"sticky top-16",children:(0,ve.jsxs)("div",{className:"space-y-6",children:[(0,ve.jsxs)("div",{children:[(0,ve.jsx)("p",{className:"text-base",children:"Add ons"}),(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Level up your project with add-ons"})]}),(0,ve.jsxs)("div",{className:"space-y-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"More information"}),(0,ve.jsx)("div",{children:(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/compute-add-ons",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,ve.jsx)("p",{className:"text-sm",children:"About compute add-ons"}),(0,ve.jsx)(Y.Z,{size:16,strokeWidth:1.5})]})})})}),(0,ve.jsx)("div",{children:(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/backups#point-in-time-recovery",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,ve.jsx)("p",{className:"text-sm",children:"About PITR backups"}),(0,ve.jsx)(Y.Z,{size:16,strokeWidth:1.5})]})})})}),(0,ve.jsx)("div",{children:(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/custom-domains",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,ve.jsx)("p",{className:"text-sm",children:"About custom domains"}),(0,ve.jsx)(Y.Z,{size:16,strokeWidth:1.5})]})})})})]})]})})}),q?(0,ve.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-2",children:[(0,ve.jsx)(f.Z,{}),(0,ve.jsx)(f.Z,{className:"w-3/4"}),(0,ve.jsx)(f.Z,{className:"w-1/2"})]}):(0,ve.jsx)("div",{className:"col-span-12 lg:col-span-7 space-y-6",children:(0,ve.jsxs)("div",{className:"py-2 space-y-6",children:[(0,ve.jsxs)("div",{className:"flex space-x-6",children:[(0,ve.jsx)("div",{children:(0,ve.jsx)("div",{className:"rounded-md bg-scale-400 w-[160px] h-[96px] shadow",children:(0,ve.jsx)(I(),{alt:"Optimized Compute add-on",width:160,height:96,src:"".concat(O.GW,void 0!==Q?"/img/optimized-compute-on.svg":"/img/optimized-compute-off.svg")})})}),(0,ve.jsxs)("div",{className:"flex-grow",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Optimized compute"}),(0,ve.jsx)("p",{className:"",children:null!==(o=null===Q||void 0===Q?void 0:Q.variant.name)&&void 0!==o?o:"Micro"}),(0,ve.jsx)(ke,{projectUpdateDisabled:Z,children:(0,ve.jsx)(W.z,{type:"default",className:"mt-2",onClick:function(){return _.setPanelKey("computeInstance")},disabled:Z,children:"Change optimized compute"})}),0===Number(null===T||void 0===T?void 0:T.disk_io_budget)?(0,ve.jsxs)(G.Z,{withIcon:!0,className:"mt-4",variant:"danger",title:"Your disk IO budget has run out for today",children:[(0,ve.jsxs)("p",{children:["Your workload is currently running at the baseline disk IO bandwidth at"," ",null!==(c=null===J||void 0===J||null===(d=J.baseline_disk_io_mbs)||void 0===d?void 0:d.toLocaleString())&&void 0!==c?c:87," Mbps and may suffer degradation in performance."]}),(0,ve.jsx)("p",{className:"mt-1",children:"Consider upgrading to a larger compute instance for a higher baseline throughput."})]}):Number(null===T||void 0===T?void 0:T.disk_io_budget)<=10?(0,ve.jsxs)(G.Z,{withIcon:!0,className:"mt-4",variant:"warning",title:"Your disk IO budget is running out for today",children:[(0,ve.jsxs)("p",{children:["If the disk IO budget drops to zero, your workload will run at the baseline disk IO bandwidth at"," ",null!==(u=null===J||void 0===J||null===(m=J.baseline_disk_io_mbs)||void 0===m?void 0:m.toLocaleString())&&void 0!==u?u:87," Mbps and may suffer degradation in performance."]}),(0,ve.jsx)("p",{className:"mt-1",children:"Consider upgrading to a larger compute instance for a higher baseline throughput."})]}):null,(0,ve.jsxs)("div",{className:"mt-2 w-full flex items-center justify-between border-b py-2",children:[(0,ve.jsx)(A(),{href:"/project/".concat(C,"/settings/billing/usage#ram"),children:(0,ve.jsx)("a",{children:(0,ve.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition cursor-pointer",children:"Memory"}),(0,ve.jsx)(K.Z,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})})}),(0,ve.jsxs)("p",{className:"text-sm",children:[null!==(j=null===J||void 0===J?void 0:J.memory_gb)&&void 0!==j?j:1," GB"]})]}),(0,ve.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,ve.jsx)(A(),{href:"/project/".concat(C,"/settings/billing/usage#cpu"),children:(0,ve.jsx)("a",{children:(0,ve.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition cursor-pointer",children:"CPU"}),(0,ve.jsx)(K.Z,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})})}),(0,ve.jsxs)("p",{className:"text-sm",children:[null!==(b=null===J||void 0===J?void 0:J.cpu_cores)&&void 0!==b?b:2,"-core ARM"," ",null!==J&&void 0!==J&&J.cpu_dedicated?"(Dedicated)":"(Shared)"]})]}),(0,ve.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"No. of direct connections"}),(0,ve.jsx)("p",{className:"text-sm",children:null!==(g=null===J||void 0===J?void 0:J.connections_direct)&&void 0!==g?g:60})]}),(0,ve.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"No. of pooler connections"}),(0,ve.jsx)("p",{className:"text-sm",children:null!==(y=null===J||void 0===J?void 0:J.connections_pooler)&&void 0!==y?y:200})]}),(0,ve.jsxs)("div",{className:"w-full flex items-center justify-between border-b py-2",children:[(0,ve.jsx)(A(),{href:"/project/".concat(C,"/settings/billing/usage#disk_io_budget"),children:(0,ve.jsx)("a",{children:(0,ve.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition cursor-pointer",children:"Disk IO Bandwidth max burst"}),(0,ve.jsx)(K.Z,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})})}),(0,ve.jsxs)("p",{className:"text-sm",children:[null!==(N=null===J||void 0===J||null===(w=J.max_disk_io_mbs)||void 0===w?void 0:w.toLocaleString())&&void 0!==N?N:"2,606"," Mbps"]})]}),(0,ve.jsxs)("div",{className:"w-full flex items-center justify-between py-2",children:[(0,ve.jsx)(A(),{href:"/project/".concat(C,"/settings/billing/usage#disk_io_budget"),children:(0,ve.jsx)("a",{children:(0,ve.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition cursor-pointer",children:"Baseline Disk IO Bandwidth"}),(0,ve.jsx)(K.Z,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})})}),(0,ve.jsxs)("p",{className:"text-sm",children:[null!==(k=null===J||void 0===J||null===(P=J.baseline_disk_io_mbs)||void 0===P?void 0:P.toLocaleString())&&void 0!==k?k:87," Mbps"]})]})]})]}),(0,ve.jsx)("div",{className:"w-full border-t"}),(0,ve.jsxs)("div",{className:"flex space-x-6",children:[(0,ve.jsx)("div",{children:(0,ve.jsx)("div",{className:"rounded-md bg-scale-400 w-[160px] h-[96px] shadow",children:(0,ve.jsx)(I(),{alt:"Point-In-Time-Recovery",width:160,height:96,src:"".concat(O.GW,void 0!==H?"/img/pitr-on.svg":"/img/pitr-off.svg")})})}),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Point in time recovery"}),(0,ve.jsx)("p",{className:"",children:void 0!==H?"Point in time recovery of ".concat(H.variant.identifier.split("_")[1]," days is enabled"):"Point in time recovery is not enabled"}),(0,ve.jsx)(ke,{projectUpdateDisabled:Z,children:(0,ve.jsx)(W.z,{type:"default",className:"mt-2",onClick:function(){return _.setPanelKey("pitr")},disabled:Z,children:"Change point in time recovery"})})]})]}),(0,ve.jsx)("div",{className:"w-full border-t"}),(0,ve.jsxs)("div",{className:"flex space-x-6",children:[(0,ve.jsx)("div",{children:(0,ve.jsx)("div",{className:"rounded-md bg-scale-400 w-[160px] h-[96px] shadow",children:(0,ve.jsx)(I(),{alt:"Custom Domain",width:160,height:96,src:"".concat(O.GW,void 0!==X?"/img/custom-domain-on.svg":"/img/custom-domain-off.svg")})})}),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Custom domain"}),(0,ve.jsx)("p",{className:"",children:void 0!==X?"Custom domain is enabled":"Custom domain is not enabled"}),(0,ve.jsx)(ke,{projectUpdateDisabled:Z,children:(0,ve.jsx)(W.z,{type:"default",className:"mt-2",onClick:function(){return _.setPanelKey("customDomain")},disabled:Z,children:"Change custom domain"})})]})]})]})})]}),(0,ve.jsx)(be,{}),(0,ve.jsx)(Ne,{}),(0,ve.jsx)(ge,{})]})},Pe=n(39466),Ce=n(42278),_e=["enabled"];function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t){return De.apply(this,arguments)}function De(){return(De=(0,g.Z)(N().mark((function e(t,n){var r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,k.U2)("".concat(O.T5,"/projects/").concat(r,"/billing/invoices/upcoming"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=n(45322),Ue=n(24903),Ee=n(98784),Ie=n(64968),Te=n(11872),Ae=[{key:"db_size",name:"Database space",units:"bytes",anchor:"dbSize"},{key:"db_egress",name:"Database egress",units:"bytes",anchor:"dbEgress"},{key:"monthly_active_users",name:"Active users",units:"absolute",anchor:"mau"},{key:"monthly_active_sso_users",name:"Active SSO users",units:"absolute",anchor:"mauSso"},{key:"realtime_peak_connection",name:"Realtime peak connections",units:"absolute",anchor:"realtimePeakConnections"},{key:"realtime_message_count",name:"Realtime messages",units:"absolute",anchor:"realtimeMessageCount"},{key:"func_invocations",name:"Edge function invocations",units:"absolute",anchor:"funcInvocations"},{key:"func_count",name:"Edge functions",units:"absolute",anchor:"funcCount"},{key:"storage_size",name:"Storage space",units:"bytes",anchor:"storageSize"},{key:"storage_egress",name:"Storage egress",units:"bytes",anchor:"storageEgress"},{key:"storage_image_render_count",name:"Asset transformations",units:"absolute",anchor:"storageImageTransformations"}],Me=function(e){var t,n,s,a;(0,p.Z)(e);var i=(0,h.UO)().ref,o=L(),c=(0,r.useState)(!1),l=c[0],d=c[1],u=(0,Re.DK)({projectRef:i}),m=u.data,v=u.isLoading,j=me({projectRef:i}),g=j.data,y=j.isLoading,N=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=void 0===r||r,a=(0,b.Z)(n,_e);return(0,w.a)(Ce.Y.upcomingPreview(t),(function(e){var n=e.signal;return ze({projectRef:t},n)}),Se({enabled:s&&"undefined"!==typeof t},a))}({projectRef:i}),k=N.data,P=N.error,C=N.isLoading,_=U().unix(null!==(t=null===g||void 0===g?void 0:g.current_period_start)&&void 0!==t?t:0).utc(),Z=U().unix(null!==(n=null===g||void 0===g?void 0:g.current_period_end)&&void 0!==n?n:0).utc(),S=null===g||void 0===g?void 0:g.plan,z=null===g||void 0===g?void 0:g.usage_billing_enabled,D=(0,Ee.partition)(null!==(s=null===k||void 0===k?void 0:k.lines)&&void 0!==s?s:[],(function(e){return e.usage_based})),R=(0,x.Z)(D,2),E=R[0],I=R[1],T=E.reduce((function(e,t){return e+t.amount}),0),M=!z&&Object.values(null!==m&&void 0!==m?m:{}).map((function(e){return"object"===typeof e&&(!(e.limit<=0)&&(e.usage>e.limit||void 0))})).includes(!0);return(0,ve.jsxs)("div",{className:"grid grid-cols-12 gap-6",id:"breakdown",children:[(0,ve.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,ve.jsxs)("div",{className:"sticky top-16",children:[(0,ve.jsx)("p",{className:"text-base",children:"Billing breakdown"}),(0,ve.jsxs)("p",{className:"text-sm text-scale-1000",children:["Current billing cycle: ",_.format("MMM DD")," -"," ",Z.format("MMM DD")]})]})}),y?(0,ve.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-2",children:[(0,ve.jsx)(f.Z,{}),(0,ve.jsx)(f.Z,{className:"w-3/4"}),(0,ve.jsx)(f.Z,{className:"w-1/2"})]}):(0,ve.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-6",children:[(0,ve.jsx)("p",{className:"text-sm",children:"Included usage summary"}),z?(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Your plan includes a limited amount of included usage. If the usage on your project exceeds these quotas, your subscription will be charged for the extra usage."}):(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Your plan includes a limited amount of included usage. If the usage on your project exceeds these quotas, you may experience restrictions, as you are currently not billed for overusage."}),M&&(0,ve.jsxs)(G.Z,{withIcon:!0,variant:"danger",title:"Your project's usage has exceeded its included quota",actions:[(0,ve.jsx)(W.z,{type:"default",className:"ml-4",onClick:function(){return o.setPanelKey("free"===(null===S||void 0===S?void 0:S.id)?"subscriptionPlan":"costControl")},children:"free"===(null===S||void 0===S?void 0:S.id)?"Upgrade plan":"Change spend cap"},"upgrade-button")],children:["Your project can become unresponsive or enter read only mode."," ","free"===(null===S||void 0===S?void 0:S.id)?"Please upgrade to the Pro plan to ensure that your project remains available.":"Please disable spend caps to ensure that your project remains available."]}),v?(0,ve.jsxs)("div",{className:"col-span-7 space-y-2",children:[(0,ve.jsx)(f.Z,{}),(0,ve.jsx)(f.Z,{className:"w-3/4"}),(0,ve.jsx)(f.Z,{className:"w-1/2"})]}):(0,ve.jsx)("div",{className:"grid grid-cols-12",children:Ae.map((function(e,t){var n,r,s,a,c,l=null!==(n=null===m||void 0===m?void 0:m[e.key])&&void 0!==n?n:void 0,d="number"!==typeof l?(null!==(r=null===l||void 0===l?void 0:l.usage)&&void 0!==r?r:0)/(null!==(s=null===l||void 0===l?void 0:l.limit)&&void 0!==s?s:0):0,u=l.limit>0,p="bytes"===e.units?(0,Ue.td)(l.usage):null===(a=l.usage)||void 0===a?void 0:a.toLocaleString(),x="bytes"===e.units?(0,Ue.td)(l.limit):l.limit.toLocaleString(),h="".concat(p," ").concat(u?"of ".concat(x):""),f="".concat((100*d).toFixed(2),"%"),v=u&&d>=O.wc,j=u&&d>=1;return(0,ve.jsxs)("div",{className:(0,B.Z)("col-span-6 space-y-4 py-4 border-scale-400",t%2===0?"border-r pr-4":"pl-4",t<Ae.length-2&&"border-b"),children:[(0,ve.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ve.jsx)(A(),{href:"/project/".concat(i,"/settings/billing/usage#").concat(e.anchor),children:(0,ve.jsx)("a",{children:(0,ve.jsxs)("div",{className:"group flex items-center space-x-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100 group-hover:text-scale-1200 transition cursor-pointer",children:e.name}),(0,ve.jsx)(K.Z,{strokeWidth:1.5,size:16,className:"transition opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0"})]})})}),j&&!z?(0,ve.jsxs)("div",{className:"flex items-center space-x-2 min-w-[115px]",children:[(0,ve.jsx)(Ie.Z,{size:14,strokeWidth:2,className:"text-red-900"}),(0,ve.jsx)("p",{className:"text-sm text-red-900",children:"Exceeded limit"})]}):v?(0,ve.jsxs)("div",{className:"flex items-center space-x-2 min-w-[115px]",children:[(0,ve.jsx)(Ie.Z,{size:14,strokeWidth:2,className:"text-amber-900"}),(0,ve.jsxs)("p",{className:"text-sm text-amber-900",children:["Reaching ",z?"limit":"quota"]})]}):null]}),l.available_in_plan?(0,ve.jsx)(Pe.Z,{type:"horizontal",max:l.limit||1,value:null!==(c=l.usage)&&void 0!==c?c:0,barClass:!u&&l.usage>0?"bg-scale-1100":j&&!z?"bg-red-900":v?"bg-amber-900":"bg-scale-1100",labelBottom:h,labelBottomClass:"!text-scale-1000",labelTop:u?f:void 0,labelTopClass:u?j&&!z?"!text-red-900":v?"!text-amber-900":"":""}):(0,ve.jsxs)("div",{className:"flex items-center justify-between flex-grow",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Unavailable in your plan"}),(0,ve.jsx)(W.z,{type:"default",onClick:function(){return o.setPanelKey("subscriptionPlan")},children:"Upgrade"})]})]},e.key)}))}),(0,ve.jsx)("p",{className:"!mt-10 text-sm",children:"Upcoming cost for next invoice"}),(0,ve.jsxs)("p",{className:"text-sm text-scale-1000",children:["The following table shows your upcoming costs. Depending on your usage, the final amount may vary. Next invoice on"," ",(0,ve.jsx)("span",{className:"text-scale-1100",children:Z.format("MMM DD, YYYY")}),"."]}),C?(0,ve.jsxs)("div",{className:"space-y-2",children:[(0,ve.jsx)(f.Z,{}),(0,ve.jsx)(f.Z,{className:"w-3/4"}),(0,ve.jsx)(f.Z,{className:"w-1/2"})]}):null!==P?(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"Failed to retrieve upcoming invoice details",actions:[(0,ve.jsx)(A(),{href:"/support/new?ref=".concat(i,"&category=dashboard_bug&subject=Unable%20to%20view%20upcoming%20invoice%20details"),children:(0,ve.jsx)("a",{children:(0,ve.jsx)(W.z,{type:"default",className:"ml-4",children:"Contact support"})})},"contact-support")],children:"Try refreshing your browser, but if the issue persists, please reach out to us via support."}):(0,ve.jsxs)("table",{className:"w-full",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"border-b",children:[(0,ve.jsx)("th",{className:"py-2 font-normal text-left text-sm text-scale-1000 w-1/2",children:"Item"}),(0,ve.jsx)("th",{className:"py-2 font-normal text-left text-sm text-scale-1000",children:"Count"}),(0,ve.jsx)("th",{className:"py-2 font-normal text-left text-sm text-scale-1000",children:"Unit price"}),(0,ve.jsx)("th",{className:"py-2 font-normal text-right text-sm text-scale-1000",children:"Price"})]})}),(0,ve.jsx)("tbody",{children:I.map((function(e){var t;return(0,ve.jsxs)("tr",{className:"border-b",children:[(0,ve.jsx)("td",{className:"py-2 text-sm",children:null!==(t=e.description)&&void 0!==t?t:"Unknown"}),(0,ve.jsx)("td",{className:"py-2 text-sm",children:e.quantity}),(0,ve.jsx)("td",{className:"py-2 text-sm",children:0===e.unit_price?"FREE":"$".concat(e.unit_price)}),(0,ve.jsxs)("td",{className:"py-2 text-sm text-right",children:["$",e.amount]})]},e.description)}))}),E.length>0&&(0,ve.jsx)(Te.ZP,{asChild:!0,open:l,onOpenChange:d,children:(0,ve.jsxs)("tbody",{children:[(0,ve.jsx)(Te.ZP.Trigger,{asChild:!0,children:(0,ve.jsxs)("tr",{className:"border-b cursor-pointer",style:{WebkitAppearance:"initial"},children:[(0,ve.jsxs)("td",{className:"py-2 text-sm flex items-center space-x-2",children:[(0,ve.jsx)(W.z,{type:"text",className:"!px-1",icon:(0,ve.jsx)(K.Z,{className:(0,B.Z)("transition",l&&"rotate-90")})}),(0,ve.jsx)("p",{children:"Usage items"})]}),(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{className:"text-sm text-right",children:l?null:"$".concat(T)})]})}),(0,ve.jsx)(Te.ZP.Content,{asChild:!0,children:(0,ve.jsx)(ve.Fragment,{children:E.map((function(e){var t;return(0,ve.jsxs)("tr",{className:"border-b",children:[(0,ve.jsx)("td",{className:"py-2 text-sm pl-8",children:e.description}),(0,ve.jsx)("td",{className:"py-2 text-sm"}),(0,ve.jsx)("td",{className:"py-2 text-sm",children:e.unit_price?"$".concat(e.unit_price):null}),(0,ve.jsxs)("td",{className:"py-2 text-sm text-right",children:["$",null!==(t=e.amount)&&void 0!==t?t:0]})]},e.description)}))})})]})}),(0,ve.jsx)("tbody",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"py-2 text-sm",children:"Total"}),(0,ve.jsx)("td",{className:"py-2 text-sm"}),(0,ve.jsx)("td",{className:"py-2 text-sm"}),(0,ve.jsxs)("td",{className:"py-2 text-sm text-right",children:["$",null!==(a=null===k||void 0===k?void 0:k.amount_total)&&void 0!==a?a:0]})]})})]})]})]})},Fe=n(55671),qe=["onSuccess"];function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,g.Z)(N().mark((function e(t){var n,r,s,a,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectRef,r=t.tier,s=t.paymentMethod,n){e.next=3;break}throw new Error("projectRef is required");case 3:if(r){e.next=5;break}throw new Error("tier is required");case 5:return a={tier:r},void 0!==s&&(a.payment_method=s),e.next=9,(0,k.gz)("".concat(O.T5,"/projects/").concat(n,"/billing/subscription"),a);case 9:if(!(i=e.sent).error){e.next=12;break}throw i.error;case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSuccess,n=(0,b.Z)(e,qe),r=(0,$.NL)();return(0,V.D)((function(e){return We(e)}),Ye({onSuccess:function(e,n,s){return(0,g.Z)(N().mark((function a(){var i;return N().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=n.projectRef,a.next=3,r.invalidateQueries(P.U.subscriptionV2(i));case 3:return a.next=5,null===t||void 0===t?void 0:t(e,n,s);case 5:case"end":return a.stop()}}),a)})))()}},n))},Be=[{category:"Database",items:[{name:"Database size",unit_amount:.125,unit:"GB"},{name:"Database egress",unit_amount:.09,unit:"GB"}]},{category:"Authentication",items:[{name:"MAUs",unit_amount:.00325,unit:"MAU"},{name:"Single Sign-On (SAML 2.0)",unit_amount:.015,unit:"MAU"}]},{category:"Storage",items:[{name:"Storage size",unit_amount:.021,unit:"GB"},{name:"Storage egress",unit_amount:.09,unit:"GB"},{name:"Image transformations",unit_amount:5,unit:"1000 origin images"}]},{category:"Realtime",items:[{name:"Concurrent Peak Connections",unit_amount:10,unit:"1000 connections"},{name:"Messages per month",unit_amount:2.5,unit:"million"}]},{category:"Edge Functions",items:[{name:"Invocations",unit_amount:.125,unit:"million"},{name:"Number of functions",unit_amount:10,unit:"100"}]}],$e=[{name:"Spend cap enabled",value:"on",imageUrl:"".concat(O.GW,"/img/spend-cap-on.svg")},{name:"Spend cap disabled",value:"off",imageUrl:"".concat(O.GW,"/img/spend-cap-off.svg")}],Ve=function(){var e,t=(0,l.oR)().ui,n=(0,h.UO)().ref,s=(0,r.useState)(!1),a=s[0],i=s[1],o=(0,r.useState)(!1),c=o[0],d=o[1],u=(0,r.useState)(),p=u[0],m=u[1],x=L(),f="costControl"===x.panelKey,v=function(){return x.setPanelKey(void 0)},j=me({projectRef:n}),b=j.data,y=j.isLoading,w=Ke().mutateAsync,k="free"===(null===b||void 0===b||null===(e=b.plan)||void 0===e?void 0:e.id),P=!(null!==b&&void 0!==b&&b.usage_billing_enabled),C=!P&&"on"===p,_=p!==(P?"on":"off");(0,r.useEffect)((function(){f&&void 0!==b&&m(P?"on":"off")}),[f,y]);var Z=function(){var e=(0,g.Z)(N().mark((function e(){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:return e.prev=2,r="on"===p?O.ev.PRO:O.ev.PAYG,d(!0),e.next=7,w({projectRef:n,tier:r});case 7:t.setNotification({category:"success",message:"Successfully ".concat(C?"enabled":"disabled"," spend cap")}),v(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t.setNotification({error:e.t0,category:"error",message:"Unable to toggle spend cap: ".concat(e.t0.message)});case 14:return e.prev=14,d(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,ve.jsx)(xe.ZP,{size:"large",loading:y||c,disabled:k||y||!_||c,visible:f,onCancel:v,onConfirm:Z,header:(0,ve.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ve.jsx)("h4",{children:"Spend cap"}),(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/spend-cap",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsx)(W.z,{type:"default",icon:(0,ve.jsx)(Y.Z,{strokeWidth:1.5}),children:"About spend cap"})})})]}),children:(0,ve.jsx)(xe.ZP.Content,{children:(0,ve.jsxs)("div",{className:"py-6 space-y-4",children:[(0,ve.jsx)("p",{className:"text-sm",children:"Use the spend cap to manage project usage and costs, and control whether the project can exceed the included quota allowance of any billed line item in a billing cycle"}),(0,ve.jsxs)(Te.ZP,{open:a,onOpenChange:i,children:[(0,ve.jsx)(Te.ZP.Trigger,{asChild:!0,children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,ve.jsx)(K.Z,{strokeWidth:1.5,size:16,className:a?"rotate-90":""}),(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"How are each resource charged after exceeding the included quota?"})]})}),(0,ve.jsx)(Te.ZP.Content,{asChild:!0,children:(0,ve.jsx)(Fe.Z,{className:"mt-4",head:(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(Fe.Z.th,{children:(0,ve.jsx)("p",{className:"text-xs",children:"Item"})}),(0,ve.jsx)(Fe.Z.th,{children:(0,ve.jsx)("p",{className:"text-xs",children:"Rate"})})]}),body:Be.map((function(e){return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsxs)(Fe.Z.tr,{children:[(0,ve.jsx)(Fe.Z.td,{children:(0,ve.jsx)("p",{className:"text-xs text-scale-1200",children:e.category})}),(0,ve.jsx)(Fe.Z.td,{children:null})]},e.category),e.items.map((function(e){return(0,ve.jsxs)(Fe.Z.tr,{children:[(0,ve.jsx)(Fe.Z.td,{children:(0,ve.jsx)("p",{className:"text-xs pl-4",children:e.name})}),(0,ve.jsx)(Fe.Z.td,{children:(0,ve.jsxs)("p",{className:"text-xs",children:["$",e.unit_amount," per ",e.unit]})})]},e.name)}))]})}))})})]}),k&&(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"Toggling of the spend cap is only available on the Pro plan",actions:(0,ve.jsx)(W.z,{type:"default",onClick:function(){return x.setPanelKey("subscriptionPlan")},children:"View available plans"}),children:"Upgrade your project's plan to disable the spend cap"}),(0,ve.jsx)("div",{className:"!mt-8 pb-4",children:(0,ve.jsx)("div",{className:"grid grid-cols-12 gap-3",children:$e.map((function(e){var t=p===e.value;return(0,ve.jsxs)("div",{className:(0,B.Z)("col-span-4 group space-y-1",k&&"opacity-75"),onClick:function(){return!k&&m(e.value)},children:[(0,ve.jsx)("div",{className:(0,B.Z)("relative rounded-xl transition border bg-no-repeat bg-center bg-cover",t?"border-brand-900":"border-scale-800",!k&&"cursor-pointer",!k&&!t&&"group-hover:border-scale-1100"),style:{aspectRatio:" 160/96",backgroundImage:"url(".concat(e.imageUrl,")")}}),(0,ve.jsx)("p",{className:(0,B.Z)("text-sm transition",!k&&"group-hover:text-scale-1200",t?"text-scale-1200":"text-scale-1000"),children:e.name})]},e.value)}))})}),"on"===p?(0,ve.jsx)(G.Z,{withIcon:!0,variant:"warning",title:"Your project could become unresponsive or enter read only mode",children:"Exceeding the included quota allowance with spend cap enabled can cause your project to become unresponsive or enter read only mode."}):(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"Charges apply for usage beyond included quota allowance",children:"Your project will always remain responsive and active, and charges only apply when exceeding the included quota limit."}),_&&(0,ve.jsx)(ve.Fragment,{children:(0,ve.jsx)("p",{className:"text-sm",children:"on"===p?"Upon clicking confirm, spend cap will be enabled for your project and you will no longer be charged any extra for usage.":"Upon clicking confirm, spend cap will be disabled for your project and you will be charged for any usage above the included quota"})})]})})})},Qe=function(e){var t;(0,p.Z)(e);var n=(0,h.UO)().ref,r=L(),s=(0,l.P5)("disableProjectCreationAndUpdate"),a=me({projectRef:n}),i=a.data,o=a.isLoading,c=null===i||void 0===i?void 0:i.plan,d=null!==(t=null===i||void 0===i?void 0:i.usage_billing_enabled)&&void 0!==t&&t,u=!s&&!["team","enterprise"].includes((null===c||void 0===c?void 0:c.id)||"");return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsxs)("div",{className:"grid grid-cols-12 gap-6",id:"cost-control",children:[(0,ve.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,ve.jsx)("div",{className:"sticky top-16",children:(0,ve.jsxs)("div",{className:"space-y-6",children:[(0,ve.jsx)("p",{className:"text-base",children:"Cost control"}),(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"Control whether to allow over-usage and avoid surprise bills"}),(0,ve.jsxs)("div",{className:"space-y-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"More information"}),(0,ve.jsx)("div",{children:(0,ve.jsx)(A(),{href:"https://supabase.com/docs/guides/platform/spend-cap",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2 opacity-50 hover:opacity-100 transition",children:[(0,ve.jsx)("p",{className:"text-sm",children:"About spend cap"}),(0,ve.jsx)(Y.Z,{size:16,strokeWidth:1.5})]})})})})]})]})})}),o?(0,ve.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-2",children:[(0,ve.jsx)(f.Z,{}),(0,ve.jsx)(f.Z,{className:"w-3/4"}),(0,ve.jsx)(f.Z,{className:"w-1/2"})]}):(0,ve.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-6",children:[["team","enterprise"].includes((null===c||void 0===c?void 0:c.id)||"")?(0,ve.jsxs)(G.Z,{withIcon:!0,variant:"info",title:"You will be charged for any additional usage on the ".concat((null===c||void 0===c?void 0:c.name)||""," plan"),children:[(null===c||void 0===c?void 0:c.name)||""," plan requires you to have spend cap off at all times. Your project will never become unresponsive. Only when your included usage is exceeded will you be charged for any additional usage"]}):(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"You can control whether your project is charged for additional usage beyond the included quota of your subscription plan. If you need to go beyond the included quota, simply switch off your spend cap to pay for additional usage."}),(0,ve.jsxs)("div",{className:"flex space-x-6",children:[(0,ve.jsx)("div",{children:(0,ve.jsx)("div",{className:"rounded-md w-[160px] h-[96px] shadow",children:(0,ve.jsx)(I(),{alt:"Spend cap",width:160,height:96,src:"".concat(O.GW,d?"/img/spend-cap-off.svg":"/img/spend-cap-on.svg")})})}),(0,ve.jsxs)("div",{children:[(0,ve.jsxs)("p",{className:"mb-1",children:["Spend cap is ",d?"disabled":"enabled"]}),(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:d?"You will be charged for any usage above the included quota":"You will never be charged any extra for usage. However, your project could become unresponsive or enter read only mode if you exceed the included quota"}),d&&(0,ve.jsx)("p",{className:"text-sm text-scale-1000 mt-1",children:"Your project will never become unresponsive. Only when your usage reaches the quota limit will you be charged for any excess usage."}),(0,ve.jsx)(ke,{projectUpdateDisabled:s,children:(0,ve.jsx)(W.z,{type:"default",className:"mt-4",disabled:!u,onClick:function(){return r.setPanelKey("costControl")},children:"Change spend cap"})})]})]})]})]}),(0,ve.jsx)(Ve,{})]})},He=n(65966),Xe=["enabled"];function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,g.Z)(N().mark((function e(t,n){var r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.projectRef){e.next=3;break}throw new Error("projectRef is required");case 3:return e.next=5,(0,k.U2)("".concat(O.T5,"/projects/").concat(r,"/billing/plans"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s.plans);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rt=n(66804),st=function(e){var t=e.plan,n=e.isCurrentPlan,r=e.isTeamTierEnabled;return(0,ve.jsxs)("div",{className:(0,B.Z)("flex border rounded-md bg-scale-200",r?"px-12 py-8 col-span-12 justify-between":"px-6 py-6 col-span-4 flex-col"),children:[(0,ve.jsxs)("div",{children:[(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)("p",{className:(0,B.Z)("text-brand-900 text-sm uppercase"),children:t.name}),n?(0,ve.jsx)("div",{className:"text-xs bg-scale-500 text-scale-1000 rounded px-2 py-0.5",children:"Current plan"}):t.new?(0,ve.jsx)("div",{className:"text-xs bg-brand-400 text-brand-900 rounded px-2 py-0.5",children:"New"}):(0,ve.jsx)(ve.Fragment,{})]}),(0,ve.jsx)("p",{className:"text-sm mt-2 mb-4",children:t.preface}),(0,ve.jsx)(A(),{href:"https://supabase.com/contact/enterprise",children:(0,ve.jsx)("a",{target:"blank",rel:"noreferrer",children:(0,ve.jsx)(W.z,{block:!r,type:"default",children:"Contact 24hr Sales Team"})})})]}),!r&&(0,ve.jsx)("div",{className:"border-t my-6"}),(0,ve.jsx)("ul",{role:"list",className:(0,B.Z)(r&&"pr-12"),children:t.features.map((function(e){return(0,ve.jsxs)("li",{className:"flex py-2",children:[(0,ve.jsx)("div",{className:"w-[12px]",children:(0,ve.jsx)(rt.Z,{className:"h-3 w-3 text-brand-900 translate-y-[2.5px]","aria-hidden":"true",strokeWidth:3})}),(0,ve.jsx)("p",{className:"ml-3 text-xs text-scale-1100",children:e})]},e)}))})]},t.id)},at=n(44285),it=n(9740),ot=n(3648),ct=[{id:"tier_free",new:!1,name:"Free",preface:void 0,features:["Social OAuth providers","Up to 500MB database & 1GB file storage","Up to 2GB bandwidth","Up to 50MB file uploads","50,000 monthly active users","Up to 500K Edge Function invocations","200 concurrent Realtime connections","2 million Realtime messages","1-day log retention","Community support"],footer:void 0},{id:"tier_pro",new:!1,name:"Pro",preface:void 0,features:["No project pausing","8GB database & 100GB file storage","50GB bandwidth","5GB file uploads","100,000 monthly active users","2M Edge Function invocations","500 concurrent Realtime connections","5 million Realtime messages","7-day log retention","Email support","Daily backups"],footer:"Your cost control settings determine if you wish to pay for anything more than the above."},{id:"tier_team",new:!0,name:"Team",preface:"Everything in Pro, plus:",features:["Organization member roles (ABAC)","Standardised Security Questionnaire","SOC2","SSO for Supabase Dashboard","Priority email support & SLAs","14 day backups","28 day log retention"],footer:void 0},{id:"tier_enterprise",new:!1,name:"Enterprise",preface:"For large-scale applications managing serious workloads",features:["Designated Support manager & SLAs","SSO/ SAML","Custom contracts & invoicing"],footer:void 0}],lt=["Pricing","My project isn't getting traction","Poor customer service","Missing feature","I didn't see the value","Supabase didn't meet my needs","Dashboard is too complicated","Postgres is too complicated","Problem not solved","Bug issues","I decided to use something else","My work has finished/discontinued","I\u2019m migrating to/starting a new project","None of the above"],dt=function(e){var t,n,s,a=e.visible,i=e.onClose,o=(0,l.oR)(),c=o.ui,d=o.app,u=(0,h.UO)().ref,p=(0,r.useRef)(null),x=(0,m.useRouter)(),f=(0,r.useState)(!1),v=f[0],j=f[1],b=(0,r.useState)(""),y=b[0],w=b[1],P=(0,r.useState)(null),C=P[0],_=P[1],Z=(0,r.useReducer)((function(e,t){return(0,Ee.includes)(e,t.target.value)?(0,Ee.without)(e,t.target.value):[].concat((0,at.Z)(e),[t.target.value])}),[]),S=Z[0],z=Z[1],R=(0,l.P5)("disableProjectCreationAndUpdate"),U=D({projectRef:u}).data,E=Ke().mutateAsync,I=null!==(t=null===(n=c.selectedProject)||void 0===n?void 0:n.id)&&void 0!==t?t:-1,T=(null!==(s=null===U||void 0===U?void 0:U.selected_addons)&&void 0!==s?s:[]).find((function(e){return"compute_instance"===e.type}));var A=function(){var e;_(null),null===(e=p.current)||void 0===e||e.resetCaptcha()},M=function(){var e=(0,g.Z)(N().mark((function e(){var t,n,r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==S.length){e.next=2;break}return e.abrupt("return",c.setNotification({category:"error",message:"Please select at least one reason for canceling your subscription"}));case 2:if(j(!0),t=C,e.prev=4,t){e.next=12;break}return e.next=8,null===(n=p.current)||void 0===n?void 0:n.execute({async:!0});case 8:return s=e.sent,t=null!==(r=null===s||void 0===s?void 0:s.response)&&void 0!==r?r:null,e.next=12,F();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),c.setNotification({category:"error",message:"Failed to downgrade project: ".concat(e.t0.message)});case 17:return e.prev=17,j(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,g.Z)(N().mark((function e(t){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:return e.prev=2,e.next=5,E({projectRef:u,tier:"tier_free"});case 5:A(),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",c.setNotification({error:e.t0,category:"error",message:"Failed to cancel subscription: ".concat(e.t0.message)}));case 11:return e.prev=11,j(!1),e.finish(11);case 14:return e.prev=14,e.next=17,(0,k.v_)("".concat(O.T5,"/feedback/downgrade"),{projectRef:u,reasons:S.reduce((function(e,t){return"".concat(e,"- ").concat(t,"\n")}),""),additionalFeedback:y,exitAction:"downgrade"});case 17:if(!(n=e.sent).error){e.next=20;break}throw n.error;case 20:e.next=25;break;case 22:return e.prev=22,e.t1=e.catch(14),e.abrupt("return",c.setNotification({error:e.t1,category:"info",message:"Failed to submit exit survey: ".concat(e.t1.message)}));case 25:return e.prev=25,c.setNotification({category:"success",duration:T?8e3:4e3,message:T?"Your project has been downgraded and is currently restarting to update its instance size":"Successfully downgraded project to the free plan"}),T&&(d.onProjectStatusUpdated(I,O.S.RESTORING),x.push("/project/".concat(u))),i(!0),e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[2,8,11,14],[14,22,25,30]])})));return function(t){return e.apply(this,arguments)}}();return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("div",{className:"self-center",children:(0,ve.jsx)(it.Z,{ref:p,sitekey:"4ca1fdb9-c9c9-4495-ba50-c85fc0e7ec1f",size:"invisible",onVerify:function(e){_(e),void 0!==document&&document.body.classList.remove("!pointer-events-auto")},onExpire:function(){return _(null)},onOpen:function(){void 0!==document&&document.body.classList.add("!pointer-events-auto")},onClose:function(){void 0!==document&&document.body.classList.remove("!pointer-events-auto")}})}),(0,ve.jsxs)(fe.C,{hideFooter:!0,size:"xlarge",visible:a,onCancel:i,header:"We're sad that you're leaving",children:[(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsxs)("div",{className:"py-6",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"We always strive to improve Supabase as much as we can. Please let us know the reasons you are canceling your subscription so that we can improve in the future."}),(0,ve.jsxs)("div",{className:"space-y-8 mt-6",children:[(0,ve.jsx)("div",{className:"flex flex-wrap gap-2","data-toggle":"buttons",children:lt.map((function(e){var t=S.find((function(t){return t===e}));return(0,ve.jsxs)("label",{className:"\n                      flex cursor-pointer items-center space-x-2 rounded-md py-1 \n                      pl-2 pr-3 text-center text-sm\n                      shadow-sm transition-all duration-100\n                      ".concat(t?" bg-scale-1200 text-scale-100 opacity-100 hover:bg-opacity-75":" bg-scale-700 text-scale-1200 opacity-25 hover:opacity-50","\n                  "),children:[(0,ve.jsx)("input",{type:"checkbox",name:"options",value:e,className:"hidden",onClick:z}),(0,ve.jsx)("div",{children:e})]},e)}))}),(0,ve.jsx)("div",{className:"text-area-text-sm",children:(0,ve.jsx)(ot.Z.TextArea,{id:"message",name:"message",value:y,onChange:function(e){return w(e.target.value)},label:"Anything else that we can improve on?"})})]})]})}),(0,ve.jsxs)("div",{className:"flex items-center justify-between border-t px-4 py-4",children:[(0,ve.jsx)("p",{className:"text-xs text-scale-900",children:"The unused amount for the remaining of your billing cycle will be refunded as credits"}),(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)(W.z,{type:"default",onClick:function(){return i()},children:"Cancel"}),(0,ve.jsx)(ke,{projectUpdateDisabled:R,children:(0,ve.jsx)(W.z,{type:"danger",loading:v,disabled:R||v,onClick:M,children:"Confirm downgrade"})})]})]})]})]})},ut=function(e){var t,n=e.visible,r=e.onClose,s=null===(t=(0,l.oR)().ui.selectedOrganization)||void 0===t?void 0:t.slug,a=(0,He.u)({slug:s}).data;return(0,ve.jsx)(fe.C,{hideFooter:!0,visible:n,size:"medium",header:"Your organization has members who have exceeded their free project limits",onCancel:r,children:(0,ve.jsxs)("div",{className:"py-4 space-y-4",children:[(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsxs)("div",{className:"space-y-2",children:[(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"The following members have reached their maximum limits for the number of active free plan projects within organizations where they are an administrator or owner:"}),(0,ve.jsx)("ul",{className:"pl-5 text-sm list-disc text-scale-1100",children:(a||[]).map((function(e,t){return(0,ve.jsxs)("li",{children:[e.username||e.primary_email," (Limit: ",e.free_project_limit," free projects)"]},"member-".concat(t))}))}),(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"These members will need to either delete, pause, or upgrade one or more of these projects before you're able to downgrade this project."})]})}),(0,ve.jsx)(fe.C.Separator,{}),(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsx)("div",{className:"flex items-center gap-2",children:(0,ve.jsx)(W.z,{htmlType:"button",type:"default",onClick:r,block:!0,children:"Understood"})})})]})})},pt=n(68043),mt=n(61276),xt=["enabled"];function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,g.Z)(N().mark((function e(t,n){var r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.slug){e.next=3;break}throw new Error("slug is required");case 3:return e.next=5,(0,k.U2)("".concat(O.T5,"/organizations/").concat(r,"/customer"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bt=["enabled"];function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,j.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,g.Z)(N().mark((function e(t,n){var r,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.slug){e.next=3;break}throw new Error("slug is required");case 3:return e.next=5,(0,k.U2)("".concat(O.T5,"/organizations/").concat(r,"/payments"),{signal:n});case 5:if(!(s=e.sent).error){e.next=8;break}throw s.error;case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kt=n(14971),Ot=n(33769),Pt=n(9150),Ct=n(58728),_t=n(87474),Zt=n(44264),St=n(41373),zt=n(3088),Dt=function(e){var t=e.returnUrl,n=e.onCancel,s=e.onConfirm,a=(0,l.oR)().ui,i=(0,Zt.useStripe)(),o=(0,Zt.useElements)(),c=(0,r.useState)(!1),d=c[0],u=c[1],p=function(){var e=(0,g.Z)(N().mark((function e(n){var r,c,l;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i&&o){e.next=4;break}return console.error("Stripe.js has not loaded"),e.abrupt("return");case 4:return u(!0),void 0!==document&&document.body.classList.add("!pointer-events-auto"),e.next=8,i.confirmSetup({elements:o,redirect:"if_required",confirmParams:{return_url:t}});case 8:r=e.sent,(c=r.error)?(u(!1),a.setNotification({category:"error",message:null!==(l=null===c||void 0===c?void 0:c.message)&&void 0!==l?l:" Failed to save card details"})):(u(!1),s()),void 0!==document&&document.body.classList.remove("!pointer-events-auto");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ve.jsxs)("form",{onSubmit:p,children:[(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsx)("div",{className:"transition ".concat(d?"pointer-events-none opacity-75":"opacity-100"),children:(0,ve.jsx)(Zt.PaymentElement,{})})}),(0,ve.jsx)(fe.C.Separator,{}),(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,ve.jsx)(W.z,{block:!0,htmlType:"submit",type:"primary",loading:d,disabled:d,children:"Save"}),(0,ve.jsx)(W.z,{htmlType:"button",type:"default",onClick:n,block:!0,disabled:d,children:"Cancel"})]})})]})},Rt=(0,St.J)(O.Yw),Ut=function(e){var t=e.visible,n=e.returnUrl,s=e.onCancel,a=e.onConfirm,i=(0,l.oR)().ui,o=(0,r.useState)(),c=o[0],d=o[1],u=(0,zt.Y)(),p=(0,r.useState)(null),m=p[0],x=p[1],h=(0,r.useState)(null),v=h[0],j=h[1],b=(0,r.useCallback)((function(e){j(e)}),[]);(0,r.useEffect)((function(){var e=function(){var e=(0,g.Z)(N().mark((function e(){var n,r,s,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&v&&u)){e.next=16;break}if(r=m,e.prev=2,r){e.next=8;break}return e.next=6,v.execute({async:!0});case 6:a=e.sent,r=null!==(s=null===a||void 0===a?void 0:a.response)&&void 0!==s?s:null;case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return");case 13:return e.next=15,w(null!==(n=r)&&void 0!==n?n:void 0);case 15:y();case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,v,u]);var y=function(){x(null),null===v||void 0===v||v.resetCaptcha()},w=function(){var e=(0,g.Z)(N().mark((function e(t){var n,r,s,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(void 0),s=null!==(n=null===(r=i.selectedOrganization)||void 0===r?void 0:r.slug)&&void 0!==n?n:"",e.next=4,(0,k.v_)("".concat(O.T5,"/organizations/").concat(s,"/payments/setup-intent"),{hcaptchaToken:t});case 4:if(!(a=e.sent).error){e.next=9;break}return e.abrupt("return",i.setNotification({category:"error",message:a.error.message,error:a.error}));case 9:d(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P={clientSecret:c?c.client_secret:"",appearance:{theme:"night",labels:"floating"}},C=function(){return d(void 0),s()};return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(it.Z,{id:"supabase-captcha",ref:b,sitekey:"4ca1fdb9-c9c9-4495-ba50-c85fc0e7ec1f",size:"invisible",onOpen:function(){void 0!==document&&document.body.classList.add("!pointer-events-auto")},onClose:function(){C(),void 0!==document&&document.body.classList.remove("!pointer-events-auto")},onVerify:function(e){x(e),void 0!==document&&document.body.classList.remove("!pointer-events-auto")},onExpire:function(){x(null)}}),(0,ve.jsx)(fe.C,{hideFooter:!0,size:"medium",visible:t,header:"Add new payment method",onCancel:function(){return C()},className:"PAYMENT",children:(0,ve.jsx)("div",{className:"py-4",children:void 0===c?(0,ve.jsxs)("div",{className:"px-6 space-y-2",children:[(0,ve.jsx)(f.Z,{className:"w-full"}),(0,ve.jsx)(f.Z,{className:"w-3/4"}),(0,ve.jsx)(f.Z,{className:"w-1/2"})]}):(0,ve.jsx)(Zt.Elements,{stripe:Rt,options:P,children:(0,ve.jsx)(Dt,{returnUrl:n,onCancel:C,onConfirm:function(){return d(void 0),a()}})})})})]})},Et=function(e){var t,n=e.selectedPaymentMethod,s=e.onSelectPaymentMethod,a=(0,l.oR)().ui,i=(0,h.UO)().ref,o=null===(t=a.selectedOrganization)||void 0===t?void 0:t.slug,c=(0,r.useState)(!1),d=c[0],u=c[1],p=function(e){var t=e.slug,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=void 0===r||r,a=(0,b.Z)(n,bt);return(0,w.a)(mt.O.paymentMethods(t),(function(e){var n=e.signal;return Nt({slug:t},n)}),yt({enabled:s},a))}({slug:o}),m=p.data,x=p.isLoading,f=p.isSuccess,v=p.refetch,j=null!==m&&void 0!==m?m:[],y=function(e){var t=e.slug,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=void 0===r||r,a=(0,b.Z)(n,xt);return(0,w.a)(mt.O.customerProfile(t),(function(e){var n=e.signal;return vt({slug:t},n)}),ft({enabled:s&&"undefined"!==typeof t},a))}({slug:o}),k=y.data,P=y.isSuccess,C=(0,l.FH)(pt.KA.BILLING_WRITE,"stripe.payment_methods");return(0,r.useEffect)((function(){if(f&&P&&j.length>0){var e=j.find((function(e){return e.id===k.invoice_settings.default_payment_method}));s(void 0!==e?e.id:j[0].id)}}),[f,P]),(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsxs)("div",{className:"space-y-2",children:[(0,ve.jsx)("p",{className:"text-sm",children:"Select payment method"}),x?(0,ve.jsxs)("div",{className:"flex items-center px-4 py-2 space-x-4 border rounded-md border-scale-700 bg-scale-400",children:[(0,ve.jsx)(kt.Z,{className:"animate-spin",size:14}),(0,ve.jsx)("p",{className:"text-sm text-scale-1100",children:"Retrieving payment methods"})]}):0===j.length?(0,ve.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border border-dashed rounded-md bg-scale-100",children:[(0,ve.jsxs)("div",{className:"flex items-center space-x-4 text-scale-1100",children:[(0,ve.jsx)(Ot.Z,{size:16,strokeWidth:1.5}),(0,ve.jsx)("p",{className:"text-sm",children:"No saved payment methods"})]}),(0,ve.jsxs)(we.fC,{delayDuration:0,children:[(0,ve.jsx)(we.xz,{children:(0,ve.jsx)(W.z,{type:"default",disabled:!C,icon:(0,ve.jsx)(Pt.Z,{}),onClick:function(){return u(!0)},children:"Add new"})}),!C&&(0,ve.jsx)(we.h_,{children:(0,ve.jsxs)(we.VY,{side:"bottom",children:[(0,ve.jsx)(we.Eh,{className:"radix-tooltip-arrow"}),(0,ve.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","w-48 border border-scale-200 text-center"].join(" "),children:(0,ve.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to add new payment methods to this organization"})})]})})]})]}):(0,ve.jsxs)(Ct.Z,{value:n,onChange:s,children:[j.map((function(e){var t="\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ".concat(e.card.last4);return(0,ve.jsx)(Ct.Z.Option,{label:t,value:e.id,addOnBefore:function(){return(0,ve.jsx)("img",{src:"".concat(O.GW,"/img/payment-methods/").concat(e.card.brand.replace(" ","-").toLowerCase(),".png"),width:"32"})},children:(0,ve.jsx)("div",{children:t})},e.id)})),(0,ve.jsxs)("div",{className:"flex items-center px-3 py-2 space-x-2 transition cursor-pointer group hover:bg-scale-500",onClick:function(){return u(!0)},children:[(0,ve.jsx)(_t.Z,{size:16}),(0,ve.jsx)("p",{className:"transition text-scale-1000 group-hover:text-scale-1200",children:"Add new payment method"})]})]})]}),(0,ve.jsx)(Ut,{visible:d,returnUrl:"".concat((0,Ue.Ax)(),"/project/").concat(i,"/settings/billing/update/pro"),onCancel:function(){return u(!1)},onConfirm:(0,g.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),a.setNotification({category:"success",message:"Successfully added new payment method"}),e.next=4,v();case 4:case"end":return e.stop()}}),e)})))})]})},It=function(){var e,t,n,s,a=(0,l.oR)().ui,i=null===(e=a.selectedOrganization)||void 0===e?void 0:e.slug,o=(0,h.UO)().ref,c=(0,r.useState)(!1),d=c[0],u=c[1],p=(0,r.useState)(!1),m=p[0],x=p[1],v=(0,r.useState)(),j=v[0],y=v[1],k=(0,r.useState)(!1),C=k[0],_=k[1],Z=(0,r.useState)(),S=Z[0],z=Z[1],R=L(),U="subscriptionPlan"===R.panelKey,E=function(){return R.setPanelKey(void 0)},I=function(e){var t=e.projectRef,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.enabled,s=void 0===r||r,a=(0,b.Z)(n,Xe);return(0,w.a)(P.U.plans(t),(function(e){var n=e.signal;return tt({projectRef:t},n)}),et({enabled:s&&"undefined"!==typeof t},a))}({projectRef:o}),T=I.data,M=I.isLoading,F=D({projectRef:o}).data,q=(0,He.u)({slug:i}).data,K=me({projectRef:o}),$=K.data,V=K.isLoading,Q=Ke().mutateAsync,H=null!==T&&void 0!==T?T:[],X=null!==(t=null===F||void 0===F?void 0:F.selected_addons)&&void 0!==t?t:[],J="team"===(null===$||void 0===$||null===(n=$.plan)||void 0===n?void 0:n.id),ee=(0,l.P5)("teamTier")||J,te=(q||[]).length>0,ne=ct.find((function(e){return e.id===S})),re=H.find((function(e){return e.id===(null===S||void 0===S?void 0:S.split("tier_")[1])}));(0,r.useEffect)((function(){U&&z(void 0)}),[U]);var se=function(){var e=(0,g.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",console.error("Project ref is required"));case 2:if(S){e.next=4;break}return e.abrupt("return",console.error("Selected tier is required"));case 4:if(j){e.next=6;break}return e.abrupt("return",a.setNotification({category:"error",message:"Please select a payment method"}));case 6:return e.prev=6,u(!0),e.next=10,Q({projectRef:o,tier:S,paymentMethod:j});case 10:a.setNotification({category:"success",message:"Successfully updated subscription to ".concat(null===ne||void 0===ne?void 0:ne.name,"!")}),z(void 0),E(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),a.setNotification({error:e.t0,category:"error",message:"Unable to update subscription: ".concat(e.t0.message)});case 18:return e.prev=18,u(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(xe.ZP,{hideFooter:!0,size:"xxlarge",visible:U,onCancel:function(){return E()},header:(0,ve.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ve.jsx)("h4",{children:"Change subscription plan"}),(0,ve.jsx)(A(),{href:"https://supabase.com/pricing",children:(0,ve.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,ve.jsx)(W.z,{type:"default",icon:(0,ve.jsx)(Y.Z,{strokeWidth:1.5}),children:"More information"})})})]}),children:(0,ve.jsx)(xe.ZP.Content,{children:(0,ve.jsx)("div",{className:"py-6 grid grid-cols-12 gap-3",children:ct.map((function(e){var t,n,r=H.find((function(t){return t.id===e.id.split("tier_")[1]})),s=null!==(t=null===r||void 0===r?void 0:r.price)&&void 0!==t?t:0,a="downgrade"===(null===r||void 0===r?void 0:r.change_type),i=null!==(n=null===r||void 0===r?void 0:r.is_current)&&void 0!==n&&n;return"tier_team"!==e.id||ee?"tier_enterprise"===e.id?(0,ve.jsx)(st,{plan:e,isCurrentPlan:i,isTeamTierEnabled:ee},e.id):(0,ve.jsxs)("div",{className:(0,B.Z)("border rounded-md px-4 py-4 flex flex-col items-start justify-between",ee&&"tier_enterprise"===e.id?"col-span-12":"col-span-4","tier_enterprise"===e.id?"bg-scale-200":"bg-scale-300"),children:[(0,ve.jsxs)("div",{className:"w-full",children:[(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)("p",{className:(0,B.Z)("text-brand-900 text-sm uppercase"),children:e.name}),i?(0,ve.jsx)("div",{className:"text-xs bg-scale-500 text-scale-1000 rounded px-2 py-0.5",children:"Current plan"}):e.new?(0,ve.jsx)("div",{className:"text-xs bg-brand-400 text-brand-900 rounded px-2 py-0.5",children:"New"}):(0,ve.jsx)(ve.Fragment,{})]}),(0,ve.jsxs)("div",{className:"mt-4 flex items-center space-x-1",children:[(null!==s&&void 0!==s?s:0)>0&&(0,ve.jsx)("p",{className:"text-scale-1000 text-sm",children:"From"}),M?(0,ve.jsx)("div",{className:"h-[28px] flex items-center justify-center",children:(0,ve.jsx)(f.Z,{className:"w-[30px] h-[24px]"})}):(0,ve.jsxs)("p",{className:"text-scale-1200 text-lg",children:["$",s]}),(0,ve.jsx)("p",{className:"text-scale-1000 text-sm",children:"per month"})]}),(0,ve.jsx)("div",{className:(0,B.Z)("flex mt-1 mb-4",e.id!==O.ev.TEAM&&"opacity-0"),children:(0,ve.jsx)("div",{className:"text-xs bg-brand-400 text-brand-900 rounded px-2 py-0.5",children:"Usage based plan"})}),i?(0,ve.jsx)(W.z,{block:!0,disabled:!0,type:"default",children:"Current plan"}):(0,ve.jsxs)(W.z,{block:!0,type:a?"default":"primary",loading:V,disabled:V,onClick:function(){return z(e.id)},children:[a?"Downgrade":"Upgrade"," to ",e.name]}),(0,ve.jsx)("div",{className:"border-t my-6"}),(0,ve.jsx)("ul",{role:"list",children:e.features.map((function(e){return(0,ve.jsxs)("li",{className:"flex py-2",children:[(0,ve.jsx)("div",{className:"w-[12px]",children:(0,ve.jsx)(rt.Z,{className:"h-3 w-3 text-brand-900 translate-y-[2.5px]","aria-hidden":"true",strokeWidth:3})}),(0,ve.jsx)("p",{className:"ml-3 text-xs text-scale-1100",children:e})]},e)}))})]}),e.footer&&(0,ve.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,ve.jsx)("p",{className:"text-scale-1000 text-xs",children:e.footer})})]},e.id):null}))})})}),(0,ve.jsx)(fe.C,{size:"medium",alignFooter:"right",visible:"tier_free"===S,onCancel:function(){return z(void 0)},onConfirm:function(){z(void 0),te?_(!0):x(!0)},header:"Confirm to downgrade to ".concat(null===ne||void 0===ne?void 0:ne.name),children:(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsx)("div",{className:"py-6",children:(0,ve.jsxs)(G.Z,{withIcon:!0,variant:"warning",title:"Downgrading to the free plan will lead to reductions in your project's capacity",children:[(0,ve.jsx)("p",{children:"If you're already past the limits of the free plan, your project could become unresponsive or enter read only mode."}),X.length>0&&(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("p",{className:"mt-2",children:"Your project's add ons will also be removed, which includes:"}),(0,ve.jsx)("ul",{className:"list-disc pl-6",children:X.map((function(e){return(0,ve.jsxs)("li",{className:"mt-0.5",children:[e.variant.name," ","compute_instance"===e.type?"compute instance":"pitr"===e.type?"PITR":""]},e.type)}))})]})]})})})}),(0,ve.jsx)(fe.C,{loading:d,alignFooter:"right",className:"!w-[450px]",visible:void 0!==S&&"tier_free"!==S,onCancel:function(){return z(void 0)},onConfirm:se,overlayClassName:"pointer-events-none",header:"Confirm to upgrade to ".concat(null===ne||void 0===ne?void 0:ne.name),children:(0,ve.jsx)(fe.C.Content,{children:(0,ve.jsxs)("div",{className:"py-6 space-y-2",children:[(0,ve.jsxs)("p",{className:"text-sm",children:["Upon clicking confirm, the amount of $",null!==(s=null===re||void 0===re?void 0:re.price)&&void 0!==s?s:"Unknown"," will be added to your monthly invoice and your credit card will be charged immediately. Changing the plan resets your billing cycle and may result in a prorated charge for previous usage."]}),(0,ve.jsx)("p",{className:"text-sm text-scale-1000",children:"You will also be able to change your project's add-ons after upgrading your project's plan."}),(0,ve.jsx)("div",{className:"!mt-6",children:(0,ve.jsx)(Et,{selectedPaymentMethod:j,onSelectPaymentMethod:y})})]})})}),(0,ve.jsx)(ut,{visible:C,onClose:function(){return _(!1)}}),(0,ve.jsx)(dt,{visible:m,onClose:function(e){x(!1),e&&E()}})]})},Tt=function(e){var t,n,r;(0,p.Z)(e);var s=(0,h.UO)().ref,a=L(),i=(0,l.P5)("disableProjectCreationAndUpdate"),o=me({projectRef:s}),c=o.data,d=o.isLoading,u=null===c||void 0===c?void 0:c.plan,m=(null===u||void 0===u?void 0:u.name)||"Unknown",x=U().unix(null!==(t=null===c||void 0===c?void 0:c.current_period_start)&&void 0!==t?t:0).utc(),v=U().unix(null!==(n=null===c||void 0===c?void 0:c.current_period_end)&&void 0!==n?n:0).utc(),j=v.diff(U()(),"days"),b=v.diff(x,"days"),g=!i&&!["team","enterprise"].includes(null!==(r=null===u||void 0===u?void 0:u.id)&&void 0!==r?r:"");return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsxs)("div",{className:"grid grid-cols-12 gap-6",id:"plan",children:[(0,ve.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,ve.jsx)("p",{className:"text-base sticky top-16",children:"Subscription plan"})}),d?(0,ve.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-2",children:[(0,ve.jsx)(f.Z,{}),(0,ve.jsx)(f.Z,{className:"w-3/4"}),(0,ve.jsx)(f.Z,{className:"w-1/2"})]}):(0,ve.jsxs)("div",{className:"col-span-12 lg:col-span-7 space-y-6",children:[(0,ve.jsxs)("div",{children:[(0,ve.jsx)("p",{className:"text-sm",children:"This project is currently on the plan:"}),(0,ve.jsx)("p",{className:"text-2xl text-brand-900 uppercase",children:m})]}),(0,ve.jsx)("div",{children:(0,ve.jsx)(ke,{projectUpdateDisabled:i,children:(0,ve.jsx)(W.z,{type:"default",disabled:!g,onClick:function(){return a.setPanelKey("subscriptionPlan")},children:"Change subscription plan"})})}),!g&&(i?(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"Unable to update plan from ".concat(m),children:"We have temporarily disabled project and subscription changes - our engineers are working on a fix."}):(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"Unable to update plan from ".concat(m),actions:[(0,ve.jsx)("div",{children:(0,ve.jsx)(A(),{href:"/support/new?ref=".concat(s,"&category=sales&subject=Change%20plan%20away%20from%20").concat(m),children:(0,ve.jsx)("a",{children:(0,ve.jsx)(W.z,{type:"default",children:"Contact support"})})})},"contact-support")],children:"Please contact us if you'd like to change your project's plan"})),!(null!==c&&void 0!==c&&c.usage_billing_enabled)&&(0,ve.jsx)(G.Z,{withIcon:!0,variant:"info",title:"This project is limited by the included usage",children:(0,ve.jsxs)("p",{className:"text-sm text-scale-1000",children:["When this project exceeds its included usage quotas, it may become unresponsive.","free"===(null===u||void 0===u?void 0:u.id)?"If you wish to exceed the included usage, it is advised you upgrade to a paid plan.":"You can change the Cost Control settings if you plan on exceeding the included usage quotas."]})}),(0,ve.jsx)(Pe.Z,{type:"horizontal",value:b-j,max:b,barClass:"bg-scale-1100",labelBottom:"Current billing cycle (".concat(x.format("MMM DD")," - ").concat(v.format("MMM DD"),")"),labelBottomClass:"!text-scale-1000 pb-1",labelTop:"".concat(j," Days left")})]})]}),(0,ve.jsx)(It,{})]})},At=function(e){(0,p.Z)(e);var t=(0,m.useRouter)(),n=L(),r=t.query.panel;if(r&&"string"===typeof r&&["subscriptionPlan","costControl","computeInstance","pitr","customDomain"].includes(r)){n.setPanelKey(r);var s=new URL(window.location.href);s.searchParams.delete("panel"),t.push(s.toString())}return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("div",{className:"border-b",children:(0,ve.jsx)("div",{className:"1xl:px-28 mx-auto flex flex-col gap-10 px-5 lg:px-16 2xl:px-32 py-6",children:(0,ve.jsx)("h3",{className:"text-scale-1200 text-xl",children:"Subscription"})})}),(0,ve.jsx)("div",{className:"border-b",children:(0,ve.jsx)("div",{className:"1xl:px-28 mx-auto flex flex-col gap-10 px-5 lg:px-16 2xl:px-32 py-16",children:(0,ve.jsx)(Tt,{})})}),(0,ve.jsx)("div",{className:"border-b",children:(0,ve.jsx)("div",{className:"1xl:px-28 mx-auto flex flex-col gap-10 px-5 lg:px-16 2xl:px-32 py-16",children:(0,ve.jsx)(Qe,{})})}),(0,ve.jsx)("div",{className:"border-b",children:(0,ve.jsx)("div",{className:"1xl:px-28 mx-auto flex flex-col gap-10 px-5 lg:px-16 2xl:px-32 py-16",children:(0,ve.jsx)(Oe,{})})}),(0,ve.jsx)("div",{className:"border-b",children:(0,ve.jsx)("div",{className:"1xl:px-28 mx-auto flex flex-col gap-10 px-5 lg:px-16 2xl:px-32 py-16",children:(0,ve.jsx)(Me,{})})})]})},Mt=function(){var e=(0,l.P5)("subscriptionV2"),t=(0,r.useState)(e),n=t[0],s=t[1];return(0,ve.jsxs)("div",{className:"relative",children:[e&&(0,ve.jsxs)("div",{className:"absolute top-[1.9rem] right-16 flex items-center space-x-3",children:[(0,ve.jsx)(a.Z,{size:"tiny",checked:n,onChange:function(){return s(!n)}}),(0,ve.jsx)("p",{className:"text-xs text-scale-1100 -translate-y-[1px]",children:"Preview new interface"})]}),n?(0,ve.jsx)(At,{}):(0,ve.jsx)("div",{className:"w-full h-full overflow-y-auto content",children:(0,ve.jsx)("div",{className:"w-full mx-auto",children:(0,ve.jsx)(qt,{})})})]})};Mt.getLayout=function(e){return(0,ve.jsx)(o.dU,{title:"Billing and Usage",children:e})};var Ft=(0,s.Pi)(Mt),qt=function(){var e,t=(0,l.oR)().ui,n=(0,d.S2)({projectRef:null===(e=t.selectedProject)||void 0===e?void 0:e.ref}),r=n.data,s=n.isLoading;return r?(0,ve.jsxs)("div",{className:"container max-w-4xl p-4 space-y-8",children:[(0,ve.jsx)(u.Subscription,{}),s?(0,ve.jsx)(i.Z,{active:s,children:(0,ve.jsx)("div",{className:"w-full mb-8 overflow-hidden border rounded border-panel-border-light dark:border-panel-border-dark",children:(0,ve.jsx)("div",{className:"flex items-center justify-center px-6 py-6 bg-panel-body-light dark:bg-panel-body-dark",children:(0,ve.jsx)("p",{children:"Loading usage breakdown"})})})}):(0,ve.jsx)(ve.Fragment,{})]}):(0,ve.jsx)(c.Z,{})}},70417:function(e,t,n){"use strict";var r=n(90089),s=(n(27378),n(47314)),a=n(44090),i=n(64355),o=n(98213),c=n(24246),l=["id","disabled","className","children","header","visible","open","size","loading","align","hideFooter","customFooter","onConfirm","onCancel","confirmText","cancelText","triggerElement","defaultOpen","tooltip"],d=function(e){e.id;var t=e.disabled,n=e.className,d=e.children,u=e.header,p=e.visible,m=e.open,x=e.size,h=void 0===x?"medium":x,f=e.loading,v=e.align,j=void 0===v?"right":v,b=e.hideFooter,g=void 0!==b&&b,y=e.customFooter,N=void 0===y?void 0:y,w=e.onConfirm,k=e.onCancel,O=e.confirmText,P=void 0===O?"Confirm":O,C=e.cancelText,_=void 0===C?"Cancel":C,Z=e.triggerElement,S=e.defaultOpen,z=e.tooltip,D=(0,r.Z)(e,l),R=(0,i.Z)("sidepanel"),U=N||(0,c.jsxs)("div",{className:R.footer,children:[(0,c.jsx)("div",{children:(0,c.jsx)(s.z,{disabled:f,type:"default",onClick:function(){return k?k():null},children:_})}),(0,c.jsxs)(o.fC,{delayDuration:0,children:[(0,c.jsx)(o.xz,{asChild:!0,children:(0,c.jsx)("div",{children:(0,c.jsx)(s.z,{htmlType:"submit",disabled:t||f,loading:f,onClick:function(){return w?w():null},children:P})})}),void 0!==z&&(0,c.jsx)(o.h_,{children:(0,c.jsxs)(o.VY,{side:"bottom",children:[(0,c.jsx)(o.Eh,{className:"radix-tooltip-arrow"}),(0,c.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,c.jsx)("span",{className:"text-xs text-scale-1200",children:z})})]})})]})]});return m=m||p,(0,c.jsxs)(a.fC,{open:m,onOpenChange:function(e){void 0===p||e||k&&k()},defaultOpen:S,children:[Z&&(0,c.jsx)(a.xz,{className:R.trigger,children:Z}),(0,c.jsxs)(a.h_,{children:[(0,c.jsx)(a.aV,{className:R.overlay}),(0,c.jsxs)(a.VY,{className:[R.base,R.size[h],R.align[j],n&&n].join(" "),onOpenAutoFocus:D.onOpenAutoFocus,onCloseAutoFocus:D.onCloseAutoFocus,onEscapeKeyDown:D.onEscapeKeyDown,onPointerDownOutside:D.onPointerDownOutside,onInteractOutside:function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.closest("#toast"))&&e.preventDefault(),D.onInteractOutside&&D.onInteractOutside(e)},children:[u&&(0,c.jsx)("header",{className:R.header,children:u}),(0,c.jsx)("div",{className:R.contents,children:d}),!g&&U]})]})]})};d.Content=function(e){var t=e.children,n=e.className,r=(0,i.Z)("sidepanel");return(0,c.jsx)("div",{className:[r.content,n].join(" ").trim(),children:t})},d.Separator=function(){var e=(0,i.Z)("sidepanel");return(0,c.jsx)("div",{className:e.separator})},t.ZP=d},80484:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/billing/subscription",function(){return n(97897)}])}},function(e){e.O(0,[7930,1188,6888,1114,2056,5286,3453,2382,9774,2888,179],(function(){return t=80484,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=subscription-d67bc72150736d31.js.map