(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6142],{5997:function(e,r,t){"use strict";t.r(r);var n=t(90849),o=t(55732),c=t(79305),s=t(11246),i=t(34707),a=t.n(i),u=t(86677),l=t(27378),p=t(43659),f=t(27102),d=t(36802),v=t(24903),h=t(2288),j=t(42753),y=t(14164),m=t(16188),w=t(53856),x=t(24246);function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var b=(0,l.createContext)(null),S=function(){var e=(0,p.fv)((function(){return{projectRef:"",jsonSchema:{},resources:{},rpcs:{},setJsonSchema:function(r){var t=(r||{}).paths,n="rpc/",o={},c={};Object.entries(t||[]).forEach((function(e){var r=(0,s.Z)(e,2),t=r[0],i=(r[1],t.slice(1)),a=i.replace(n,""),u=a.replace(/_/g," "),l={id:a,displayName:u,camelCase:(0,v.TD)(a)};i.length&&(i.includes(n)?c[a]=l:o[a]=l)})),e.jsonSchema=r,e.resources=o,e.rpcs=c}}})),r=(0,u.useRouter)().query,t=(0,f.oR)().ui.selectedProject;return e.projectRef=r.ref,(0,x.jsx)(b.Provider,{value:e,children:(0,x.jsx)(k,{project:t})})};S.getLayout=function(e){return(0,x.jsx)(j.zt,{title:"API",children:e})},r.default=(0,p.Pi)(S);var P={name:"hide",key:"SUPABASE_KEY"},k=(0,p.Pi)((function(e){var r,t;(0,c.Z)(e);var n=(0,l.useContext)(b),s=(0,d.UO)(),i=s.ref,u=s.page,p=s.resource,f=s.rpc,v=(0,l.useState)("js"),j=v[0],O=v[1],S=(0,l.useState)(P),k=S[0],A=S[1],_=(0,h.qP)({projectRef:i}),E=_.data,N=_.error,D=null===E||void 0===E?void 0:E.autoApiService,K=null!==D&&void 0!==D&&D.service_api_keys.find((function(e){return"anon key"===e.name}))?D.defaultApiKey:void 0,L=(0,m.at)({projectRef:i}),R=L.data,C=L.error,I=L.refetch;(0,l.useEffect)((function(){n.setJsonSchema(R)}),[R]);var T=function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(N||C)return(0,x.jsx)("div",{className:"p-6 mx-auto text-center sm:w-full md:w-3/4",children:(0,x.jsxs)("p",{className:"text-scale-1000",children:[(0,x.jsx)("p",{children:"Error connecting to API"}),(0,x.jsx)("p",{children:"".concat(N||C)})]})});if(!E||!R||!n.jsonSchema)return(0,x.jsx)("div",{className:"p-6 mx-auto text-center sm:w-full md:w-3/4",children:(0,x.jsx)("h3",{className:"text-xl",children:"Building docs ..."})});var Z=g(g({},E.autoApiService),{},{endpoint:"".concat(null!==(r=E.autoApiService.protocol)&&void 0!==r?r:"https","://").concat(null!==(t=E.autoApiService.endpoint)&&void 0!==t?t:"-")}),z=n.jsonSchema,M=z.paths,B=z.definitions,X=p||f||u||"index";return(0,x.jsx)("div",{className:"w-full h-full overflow-y-auto Docs Docs--api-page",children:(0,x.jsxs)("div",{className:"Docs--inner-wrapper",children:[(0,x.jsx)("div",{className:"sticky top-0 z-40 flex flex-row-reverse w-full ",children:(0,x.jsx)(w.Z,{selectedLang:j,setSelectedLang:O,showApiKey:k,setShowApiKey:A,apiKey:K,autoApiService:Z})}),(0,x.jsx)("div",{className:"",children:p?(0,x.jsx)(y.MS,{autoApiService:Z,selectedLang:j,resourceId:p,resources:n.resources,definitions:B,paths:M,showApiKey:k.key,refreshDocs:T}):f?(0,x.jsx)(y.wX,{autoApiService:Z,selectedLang:j,rpcId:f,paths:M,rpcs:n.rpcs,showApiKey:k.key,refreshDocs:T}):(0,x.jsx)(y.If,{autoApiService:Z,selectedLang:j,showApiKey:k.key,page:u})})]})},X)}))},13798:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/api",function(){return t(5997)}])},20801:function(e,r,t){"use strict";var n=t(27378),o=t(23615),c=t.n(o);function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function i(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var a=(0,n.forwardRef)((function(e,r){var t=e.color,o=void 0===t?"currentColor":t,c=e.size,a=void 0===c?24:c,u=i(e,["color","size"]);return n.createElement("svg",s({ref:r,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),n.createElement("path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"}))}));a.propTypes={color:c().string,size:c().oneOfType([c().string,c().number])},a.displayName="Table",r.Z=a}},function(e){e.O(0,[7930,1188,6226,2056,5286,3457,3324,9774,2888,179],(function(){return r=13798,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=api-0f4e3045e5f215c2.js.map