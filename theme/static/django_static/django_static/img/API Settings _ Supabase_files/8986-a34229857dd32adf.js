"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8986],{47912:function(e,n,r){r.d(n,{VY:function(){return T},aV:function(){return Z},fC:function(){return P},xz:function(){return A}});var a=r(25773),t=r(27378),i=r(46718),o=r(58560),s=r(65296),c=r(25574),l=r(33919),d=r(78222),u=r(25425),m=r(32420);const p="Tabs",[h,v]=(0,o.b)(p,[s.Pc]),x=(0,s.Pc)(),[f,y]=h(p),g=(0,t.forwardRef)(((e,n)=>{const{__scopeTabs:r,value:i,onValueChange:o,defaultValue:s,orientation:c="horizontal",dir:p,activationMode:h="automatic",...v}=e,x=(0,d.gm)(p),[y,g]=(0,u.T)({prop:i,onChange:o,defaultProp:s});return(0,t.createElement)(f,{scope:r,baseId:(0,m.M)(),value:y,onValueChange:g,orientation:c,dir:x,activationMode:h},(0,t.createElement)(l.WV.div,(0,a.Z)({dir:x,"data-orientation":c},v,{ref:n})))})),b="TabsList",j=(0,t.forwardRef)(((e,n)=>{const{__scopeTabs:r,loop:i=!0,...o}=e,c=y(b,r),d=x(r);return(0,t.createElement)(s.fC,(0,a.Z)({asChild:!0},d,{orientation:c.orientation,dir:c.dir,loop:i}),(0,t.createElement)(l.WV.div,(0,a.Z)({role:"tablist","aria-orientation":c.orientation},o,{ref:n})))})),w="TabsTrigger",N=(0,t.forwardRef)(((e,n)=>{const{__scopeTabs:r,value:o,disabled:c=!1,...d}=e,u=y(w,r),m=x(r),p=C(u.baseId,o),h=S(u.baseId,o),v=o===u.value;return(0,t.createElement)(s.ck,(0,a.Z)({asChild:!0},m,{focusable:!c,active:v}),(0,t.createElement)(l.WV.button,(0,a.Z)({type:"button",role:"tab","aria-selected":v,"aria-controls":h,"data-state":v?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:p},d,{ref:n,onMouseDown:(0,i.M)(e.onMouseDown,(e=>{c||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(o)})),onKeyDown:(0,i.M)(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(o)})),onFocus:(0,i.M)(e.onFocus,(()=>{const e="manual"!==u.activationMode;v||c||!e||u.onValueChange(o)}))})))})),_="TabsContent",O=(0,t.forwardRef)(((e,n)=>{const{__scopeTabs:r,value:i,forceMount:o,children:s,...d}=e,u=y(_,r),m=C(u.baseId,i),p=S(u.baseId,i),h=i===u.value,v=(0,t.useRef)(h);return(0,t.useEffect)((()=>{const e=requestAnimationFrame((()=>v.current=!1));return()=>cancelAnimationFrame(e)}),[]),(0,t.createElement)(c.z,{present:o||h},(({present:r})=>(0,t.createElement)(l.WV.div,(0,a.Z)({"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:p,tabIndex:0},d,{ref:n,style:{...e.style,animationDuration:v.current?"0s":void 0}}),r&&s)))}));function C(e,n){return`${e}-trigger-${n}`}function S(e,n){return`${e}-content-${n}`}const P=g,Z=j,A=N,T=O},12769:function(e,n,r){r.d(n,{IV:function(){return kn},q$:function(){return I},ny:function(){return Rn},cN:function(){return on}});var a=r(90849),t=r(55732),i=r(34707),o=r.n(i),s=r(86010),c=r(79894),l=r.n(c),d=r(27378),u=r(43659),m=r(77758),p=r(3648),h=r(17634),v=r(11872),x=r(47939),f=r(68043),y=r(27102),g=r(36802),b=r(20796),j=r(14919),w=r(11597),N=r(96423),_=r(86677),O=r(47314),C=r(94269),S=r(24246),P=(0,u.Pi)((function(){var e=(0,_.useRouter)(),n=(0,y.oR)(),r=n.app,a=n.ui,i=a.selectedOrganization||{},s=i.slug,c=i.name,l=(0,d.useState)(!1),u=l[0],h=l[1],v=(0,d.useState)(""),x=v[0],g=v[1],w=(0,y.FH)(f.KA.UPDATE,"organizations"),N=function(){var n=(0,t.Z)(o().mark((function n(t,i){var l,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=i.setSubmitting,w){n.next=3;break}return n.abrupt("return",a.setNotification({category:"error",message:"You do not have the required permissions to delete this organization"}));case 3:return l(!0),n.next=6,(0,j.$v)("".concat(b.T5,"/organizations/").concat(s));case 6:(d=n.sent).error?(a.setNotification({category:"error",message:"Failed to delete organization: ".concat(d.error.message)}),l(!1)):(r.onOrgDeleted(a.selectedOrganization),l(!1),e.push("/"),a.setNotification({category:"success",message:"Successfully deleted ".concat(c)}));case 8:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"mt-2",children:(0,S.jsx)(O.z,{loading:!s,onClick:function(){return h(!0)},type:"danger",children:"Delete organization"})}),(0,S.jsx)(C.C,{closable:!0,hideFooter:!0,size:"small",visible:u,onCancel:function(){return h(!1)},header:(0,S.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,S.jsx)("h5",{className:"text-sm text-scale-1200",children:"Delete organisation"}),(0,S.jsx)("span",{className:"text-xs text-scale-900",children:"Are you sure?"})]}),children:(0,S.jsx)(m.Z,{validateOnBlur:!0,initialValues:{orgName:""},onSubmit:N,validate:function(e){var n={};return e.orgName||(n.orgName="Enter the name of the organization."),e.orgName!==s&&(n.orgName="Value entered does not match the value above."),n},children:function(e){var n=e.isSubmitting;return(0,S.jsxs)("div",{className:"space-y-4 py-3",children:[(0,S.jsx)(C.C.Content,{children:(0,S.jsxs)("p",{className:"text-sm text-scale-900",children:["This action ",(0,S.jsx)("span",{className:"text-scale-1200",children:"cannot"})," be undone. This will permanently delete the ",(0,S.jsx)("span",{className:"text-scale-1200",children:c})," ","organization and remove all of its projects."]})}),(0,S.jsx)(C.C.Separator,{}),(0,S.jsx)(C.C.Content,{children:(0,S.jsx)(p.Z,{id:"orgName",label:(0,S.jsxs)("span",{children:["Please type ",(0,S.jsx)("span",{className:"font-bold",children:s})," to confirm"]}),onChange:function(e){return g(e.target.value)},value:x,placeholder:"Enter the string above",className:"w-full"})}),(0,S.jsx)(C.C.Separator,{}),(0,S.jsx)(C.C.Content,{children:(0,S.jsx)(O.z,{block:!0,danger:!0,size:"small",type:"danger",htmlType:"submit",loading:n,children:"I understand, delete this organization"})})]})}})})]})})),Z=P,A=(0,u.Pi)((function(){return(0,S.jsx)(N.Z,{title:(0,S.jsx)("p",{className:"uppercase",children:"Danger Zone"},"panel-title"),children:(0,S.jsx)(N.Z.Content,{children:(0,S.jsxs)(w.Z,{withIcon:!0,variant:"danger",title:(0,S.jsx)("span",{className:"text-red-900",children:"Deleting this organization will also remove its projects"}),children:[(0,S.jsx)("p",{className:"text-red-900",children:"Make sure you have made a backup if you want to keep your data"}),(0,S.jsx)(Z,{})]})})})})),T=r(33003);function k(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?k(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var I=(0,u.Pi)((function(){var e,n=(0,y.oR)(),r=n.app,a=n.ui,i=(0,g.UO)().slug,c=(0,d.useState)(!1),u=c[0],w=c[1],N=null!==(e=a.selectedOrganization)&&void 0!==e?e:{},_=N.name,O=N.opt_in_tags,C="org-general-settings",P=null===O||void 0===O?void 0:O.includes("AI_SQL_GENERATOR_OPT_IN"),Z={name:null!==_&&void 0!==_?_:"",isOptedIntoAi:P},k=(0,y.P5)("dashboardCmdk"),I=(0,y.P5)("dashboardCmdkDataOptIn"),z=(0,y.FH)(f.KA.UPDATE,"organizations"),D=(0,y.FH)(f.KA.UPDATE,"organizations"),M=function(){var e=(0,t.Z)(o().mark((function e(n,t){var s,c,l,d,u,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.setSubmitting,d=t.resetForm,z){e.next=3;break}return e.abrupt("return",a.setNotification({category:"error",message:"You do not have the required permissions to update this organization"}));case 3:return l(!0),u=n.isOptedIntoAi?["AI_SQL_GENERATOR_OPT_IN"]:[],e.next=7,(0,j.r$)("".concat(b.T5,"/organizations/").concat(i),E({name:n.name,billing_email:null!==(s=null===(c=a.selectedOrganization)||void 0===c?void 0:c.billing_email)&&void 0!==s?s:""},I&&{opt_in_tags:u}));case 7:(m=e.sent).error?a.setNotification({category:"error",message:"Failed to update organization: ".concat(m.error.message)}):(d({values:n,initialValues:n}),r.onOrgUpdated(m),a.setNotification({category:"success",message:"Successfully saved settings"})),l(!1);case 10:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{className:"container my-4 max-w-4xl space-y-8",children:[(0,S.jsx)(m.Z,{id:C,initialValues:Z,onSubmit:M,children:function(e){var n,r=e.isSubmitting,t=e.handleReset,i=e.values,o=e.initialValues,c=e.resetForm,m=JSON.stringify(i)!==JSON.stringify(o);return(0,d.useEffect)((function(){var e={name:null!==_&&void 0!==_?_:"",isOptedIntoAi:P};c({values:e,initialValues:e})}),[null===(n=a.selectedOrganization)||void 0===n?void 0:n.slug]),(0,S.jsx)(T.by,{footer:(0,S.jsx)("div",{className:"flex py-4 px-8",children:(0,S.jsx)(T.iN,{form:C,isSubmitting:r,hasChanges:m,handleReset:t,helper:z?void 0:"You need additional permissions to manage this organization's settings"})}),children:(0,S.jsx)(T.hj,{header:(0,S.jsx)(T.S0,{children:"General settings"}),children:(0,S.jsxs)(T.B4,{loading:!1,children:[(0,S.jsx)(p.Z,{id:"name",size:"small",label:"Organization name",disabled:!z}),k&&I&&(0,S.jsxs)("div",{className:"mt-4",children:[(0,S.jsx)(h.Z,{id:"isOptedIntoAi",name:"isOptedIntoAi",disabled:!z,size:"small",label:"Opt-in to sending anonymous data to OpenAI",descriptionText:"By opting into sending anonymous data, Supabase AI can improve the answers it shows you"}),(0,S.jsxs)(v.ZP,{open:u,onOpenChange:w,children:[(0,S.jsx)(v.ZP.Trigger,{asChild:!0,children:(0,S.jsxs)("div",{className:"flex items-center space-x-2 ml-16 cursor-pointer",children:[(0,S.jsx)(x.Z,{strokeWidth:2,size:16,className:(0,s.Z)("transition-all",u?"rotate-90":"")}),(0,S.jsx)("p",{className:"text-sm text-scale-1000 underline",children:"Important information regarding opting in"})]})}),(0,S.jsx)(v.ZP.Content,{children:(0,S.jsxs)("div",{className:"space-y-2 py-4 ml-16 text-sm text-scale-1100",children:[(0,S.jsx)("p",{children:"Supabase AI is a chatbot support tool powered by OpenAI. Supabase will share the query you submit and information about the databases you manage through Supabase with OpenAI, L.L.C. and its affiliates in order to provide the Supabase AI tool."}),(0,S.jsx)("p",{children:"OpenAI will only access information about the structure of your databases, such as table names, column and row headings. OpenAI will not access the contents of the database itself."}),(0,S.jsx)("p",{children:"OpenAI uses this information to generate responses to your query, and does not retain or use the information to train its algorithms or otherwise improve its products and services."}),(0,S.jsx)("p",{children:"If you have your own individual account on Supabase, we will use any personal information collected through [Supabase AI] to provide you with the [Supabase AI] tool. If you are in the UK, EEA or Switzerland, the processing of this personal information is necessary for the performance of a contract between you and us."}),(0,S.jsx)("p",{children:"Supabase collects information about the queries you submit through Supabase AI and the responses you receive to assess the performance of the Supabase AI tool and improve our services. If you are in the UK, EEA or Switzerland, the processing is necessary for our legitimate interests, namely informing our product development and improvement."}),(0,S.jsxs)("p",{children:["For more information about how we use personal information, please see our"," ",(0,S.jsx)(l(),{href:"https://supabase.com/privacy",children:(0,S.jsx)("a",{target:"_blank",rel:"noreferrer",className:"text-brand-900 border-b border-brand-900",children:"privacy policy"})}),"."]})]})})]})]})]})})})}}),D&&(0,S.jsx)(A,{})]})})),z=r(1296),D=r(98213),M=r(73443),R=r(98784),F=r(14633),L=r(58728),V=r(99950),B=r(90089),U=r(85945),G=r(48228),K=r(61276),H=["onSuccess"];function Y(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function q(e){return J.apply(this,arguments)}function J(){return(J=(0,t.Z)(o().mark((function e(n){var r,a,t,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.slug,a=n.invitedEmail,t=n.ownerId,i=n.roleId,e.next=3,(0,j.v_)("".concat(b.T5,"/organizations/").concat(r,"/members/invite"),{invited_email:a,owner_id:t,role_id:i});case 3:if(!(s=e.sent).error){e.next=6;break}throw s.error;case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,r=(0,B.Z)(e,H),a=(0,U.NL)();return(0,G.D)((function(e){return q(e)}),W({onSuccess:function(e,r,i){return(0,t.Z)(o().mark((function t(){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.slug,t.next=3,Promise.all([a.invalidateQueries(K.O.detail(s)),a.invalidateQueries(K.O.roles(s))]);case 3:return t.next=5,null===n||void 0===n?void 0:n(e,r,i);case 5:case"end":return t.stop()}}),t)})))()}},r))};function $(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function X(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?$(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var ee=function(e){var n=e.userId,r=e.members,a=void 0===r?[]:r,i=e.roles,s=void 0===i?[]:i,c=e.rolesAddable,l=void 0===c?[]:c,u=(0,y.oR)().ui,h=(0,g.UO)().slug,v=(0,d.useState)(!1),x=v[0],b=v[1],j=s.some((function(e){var n=e.id;return(0,y.FH)(f.KA.CREATE,"user_invites",{resource:{role_id:n}})})),w={email:"",role:""},N=(0,F.object)({email:(0,F.string)().email("Must be a valid email address").required("Email is required"),role:(0,F.string)().required("Role is required")}),_=Q().mutateAsync,P=function(){var e=(0,t.Z)(o().mark((function e(r,t){var i,s,c,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.setSubmitting,s=t.resetForm,h){e.next=3;break}throw new Error("slug is required");case 3:if(void 0===(c=a.find((function(e){return e.primary_email===r.email.toLowerCase()})))){e.next=10;break}if(!c.invited_id){e.next=9;break}return e.abrupt("return",u.setNotification({category:"info",message:"User has already been invited to this organization"}));case 9:return e.abrupt("return",u.setNotification({category:"info",message:"User is already in this organization"}));case 10:return l=Number(r.role),i(!0),e.prev=12,e.next=15,_({slug:h,invitedEmail:r.email.toLowerCase(),ownerId:n,roleId:l});case 15:d=e.sent,(0,R.isNil)(d)?u.setNotification({category:"error",message:"Failed to add member"}):(u.setNotification({category:"success",message:"Successfully added new member."}),b(!x),s({initialValues:X(X({},w),{},{role:l})})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),u.setNotification({category:"error",message:"Failed to add member: ".concat(e.t0.message)});case 22:i(!1);case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(D.fC,{delayDuration:0,children:[(0,S.jsx)(D.xz,{children:(0,S.jsx)(O.z,{disabled:!j,onClick:function(){return b(!0)},children:"Invite"})}),!j&&(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"bottom",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to invite a member to this organization"})})]})})]}),(0,S.jsx)(C.C,{hideFooter:!0,size:"medium",layout:"vertical",className:"!overflow-visible",visible:x,onCancel:function(){return b(!1)},header:"Invite a member to this organization",children:(0,S.jsx)(m.Z,{validationSchema:N,initialValues:w,onSubmit:P,children:function(e){var n=e.values,r=e.isSubmitting,a=e.resetForm;(0,d.useEffect)((function(){var e,n;s&&a({values:X(X({},w),{},{role:null===(e=s.find((function(e){return"Developer"===e.name})))||void 0===e?void 0:e.id}),initialValues:X(X({},w),{},{role:null===(n=s.find((function(e){return"Developer"===e.name})))||void 0===n?void 0:n.id})})}),[s]);var t=s.find((function(e){return e.id===Number(n.role)})),i=n.role&&!l.includes(Number(n.role));return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C.C.Content,{children:(0,S.jsx)("div",{className:"w-full py-4",children:(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsx)("div",{className:"space-y-2",children:s&&(0,S.jsx)(L.Z,{id:"role",name:"role",label:"Member role",error:i?"You need additional permissions to assign users the role of ".concat(null===t||void 0===t?void 0:t.name):"",children:s.map((function(e){return(0,S.jsx)(L.Z.Option,{value:e.id,label:e.name,children:e.name},e.id)}))})}),(0,S.jsx)(p.Z,{autoFocus:!0,id:"email",icon:(0,S.jsx)(V.Z,{}),placeholder:"Enter email address",label:"Email address"})]})})}),(0,S.jsx)(C.C.Separator,{}),(0,S.jsx)(C.C.Content,{children:(0,S.jsx)("div",{className:"pt-2 pb-3",children:(0,S.jsx)(O.z,{block:!0,size:"medium",htmlType:"submit",disabled:r||i,loading:r,children:"Invite new member"})})})]})}})})]})},ne=r(11246),re=r(44285),ae=r(38579),te=r.n(ae),ie=r(72853),oe=r(84411),se=r(84364),ce=r(14971),le=r(33769),de=r(51452),ue=r(55671),me=r(51891),pe=r(2674),he=r(44315),ve=r(44266),xe=["onSuccess"];function fe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function ye(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?fe(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function ge(e){return be.apply(this,arguments)}function be(){return(be=(0,t.Z)(o().mark((function e(n){var r,a,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.slug,a=n.gotrueId,e.next=3,(0,j.$v)("".concat(b.T5,"/organizations/").concat(r,"/members/").concat(a));case 3:if(!(t=e.sent).error){e.next=6;break}throw t.error;case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=["onSuccess"];function we(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function Ne(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?we(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function _e(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,t.Z)(o().mark((function e(n){var r,a,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.slug,a=n.invitedId,e.next=3,(0,j.$v)("".concat(b.T5,"/organizations/").concat(r,"/members/invite?invited_id=").concat(a),{});case 3:if(!(t=e.sent).error){e.next=6;break}throw t.error;case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,r=(0,B.Z)(e,je),a=(0,U.NL)();return(0,G.D)((function(e){return _e(e)}),Ne({onSuccess:function(e,r,i){return(0,t.Z)(o().mark((function t(){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.slug,t.next=3,Promise.all([a.invalidateQueries(K.O.detail(s)),a.invalidateQueries(K.O.roles(s))]);case 3:return t.next=5,null===n||void 0===n?void 0:n(e,r,i);case 5:case"end":return t.stop()}}),t)})))()}},r))};function Se(e){var n=new Date(e);return!(((new Date).valueOf()-n.valueOf())/1e3/60/60<24)}var Pe=function(e){if(!e)return"";var n=e||{},r=n.username,a=n.primary_email;return void 0!==n.invited_id?a:r||""},Ze=function(e){var n=[],r=[];return e?(e.forEach((function(e){(0,y.FH)(f.KA.CREATE,"auth.subject_roles",{resource:{role_id:e.id}})&&n.push(e.id),(0,y.FH)(f.KA.DELETE,"auth.subject_roles",{resource:{role_id:e.id}})&&r.push(e.id)})),{rolesAddable:n,rolesRemovable:r}):{rolesAddable:n,rolesRemovable:r}},Ae=(0,u.Pi)((function(e){var n,r,a,i,s=e.member,c=e.roles,l=(0,y.oR)().ui,d=(0,g.UO)().slug,u=Ze(c).rolesRemovable,m=Se(null!==(n=null===s||void 0===s?void 0:s.invited_at)&&void 0!==n?n:""),p=s.invited_id,h=null!==(r=null===(a=s.role_ids)||void 0===a?void 0:a[0])&&void 0!==r?r:-1,v=u.includes((null!==(i=null===s||void 0===s?void 0:s.role_ids)&&void 0!==i?i:[-1])[0]),x=(0,y.FH)(f.KA.CREATE,"user_invites",{resource:{role_id:h}}),b=(0,y.FH)(f.KA.DELETE,"user_invites",{resource:{role_id:h}}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,r=(0,B.Z)(e,xe),a=(0,U.NL)();return(0,G.D)((function(e){return ge(e)}),ye({onSuccess:function(e,r,i){return(0,t.Z)(o().mark((function t(){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.slug,t.next=3,Promise.all([a.invalidateQueries(K.O.detail(s)),a.invalidateQueries(K.O.roles(s))]);case 3:return t.next=5,null===n||void 0===n?void 0:n(e,r,i);case 5:case"end":return t.stop()}}),t)})))()}},r))}({onSuccess:function(){l.setNotification({category:"success",message:"Successfully removed ".concat(s.primary_email)})},onError:function(e){l.setNotification({category:"error",message:"Failed to delete user: ".concat(e.message)})}}),w=j.mutateAsync,N=j.isLoading,_=function(){var e=(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,ve._)({title:"Confirm to remove",message:"This is permanent! Are you sure you want to remove ".concat(s.primary_email),onAsyncConfirm:function(){var e=(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}throw new Error("slug is required");case 2:if(s.gotrue_id){e.next=4;break}throw new Error("gotrue_id is required");case 4:return e.next=6,w({slug:d,gotrueId:s.gotrue_id});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Q({onSuccess:function(){l.setNotification({category:"success",message:"Resent the invitation."})},onError:function(e){l.setNotification({category:"error",message:"Failed to resend invitation: ".concat(e.message)})}}),P=C.mutate,Z=C.isLoading;function A(){return A=(0,t.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.invited_id&&d){e.next=2;break}return e.abrupt("return");case 2:a=(null!==(r=null===n||void 0===n?void 0:n.role_ids)&&void 0!==r?r:[])[0],P({slug:d,invitedEmail:n.primary_email,ownerId:n.invited_id,roleId:a});case 4:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}var T=Ce({onSuccess:function(){l.setNotification({category:"success",message:"Successfully revoked the invitation."})},onError:function(e){l.setNotification({category:"error",message:"Failed to revoke invitation: ".concat(e.message)})}}),k=T.mutate,E=T.isLoading;if(!v||p&&!x&&!b)return(0,S.jsx)("div",{className:"flex items-center justify-end",children:(0,S.jsxs)(D.fC,{delayDuration:0,children:[(0,S.jsx)(D.xz,{children:(0,S.jsx)(O.z,{as:"span",type:"text",icon:(0,S.jsx)(me.Z,{})})}),(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"bottom",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to manage this team member"})})]})})]})});var I=N||E||Z;return(0,S.jsx)("div",{className:"flex items-center justify-end",children:(0,S.jsx)(pe.ZP,{side:"bottom",align:"end",size:"small",overlay:(0,S.jsx)(S.Fragment,{children:p?(0,S.jsxs)(S.Fragment,{children:[b&&(0,S.jsx)(pe.ZP.Item,{onClick:function(){return function(e){var n=e.invited_id;n&&d&&k({slug:d,invitedId:n})}(s)},children:(0,S.jsxs)("div",{className:"flex flex-col",children:[(0,S.jsx)("p",{children:"Cancel invitation"}),(0,S.jsx)("p",{className:"block opacity-50",children:"Revoke this invitation."})]})}),x&&m&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(pe.ZP.Separator,{}),(0,S.jsx)(pe.ZP.Item,{onClick:function(){return function(e){return A.apply(this,arguments)}(s)},children:(0,S.jsxs)("div",{className:"flex flex-col",children:[(0,S.jsx)("p",{children:"Resend invitation"}),(0,S.jsx)("p",{className:"block opacity-50",children:"Invites expire after 24hrs."})]})})]})]}):(0,S.jsx)(pe.ZP.Item,{icon:(0,S.jsx)(he.Z,{size:16}),onClick:_,children:(0,S.jsx)("p",{children:"Remove member"})})}),children:(0,S.jsx)(O.z,{as:"span",type:"text",disabled:I,loading:I,icon:(0,S.jsx)(me.Z,{})})})})})),Te=r(79305),ke=r(19248),Ee=r(29432),Ie=r(66804),ze=[{title:"Organization",actions:[{description:"Can change organization name",permissions:{owner:!0,admin:!1,developer:!1,read_only:!1,billing_only:!1}},{description:"Can delete organization",permissions:{owner:!0,admin:!1,developer:!1,read_only:!1,billing_only:!1}}]},{title:"Members",actions:[{description:"Can add an Owner",permissions:{owner:!0,admin:!1,developer:!1,read_only:!1,billing_only:!1}},{description:"Can remove an Owner",permissions:{owner:!0,admin:!1,developer:!1,read_only:!1,billing_only:!1}},{description:"Can add an Adminstrator",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can remove an Administrator",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can add a Developer",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can remove a Developer",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can revoke an invite",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can resend an invite",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}}]},{title:"Billing",actions:[{description:"Can read invoices",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!0}},{description:"Can read billing email",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!0}},{description:"Can change billing email",permissions:{owner:!0,admin:!1,developer:!1,read_only:!1,billing_only:!0}},{description:"Can view subscription",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!0}},{description:"Can update subscription",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!0}},{description:"Can read billing address",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!0}},{description:"Can update billing address",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!0}},{description:"Can read tax codes",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!0}},{description:"Can update tax codes",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!0}},{description:"Can read payment methods",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!0}},{description:"Can update payment methods",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!0}}]},{title:"Projects",actions:[{description:"Can view projects",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can create a project",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can delete a project",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can update a project",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can pause a project",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can resume a project",permissions:{owner:!0,admin:!0,developer:!1,read_only:!1,billing_only:!1}},{description:"Can restart a project",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read API anon keys",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can read API secret keys",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read JWT secret",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can generate new JWT secret",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can update API settings",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}}]},{title:"Database",actions:[{description:"Can read tables",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can create/update/delete tables",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read RLS policies",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can read create/update/delete RLS policies",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read database extensions",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can read update database extensions",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read scheduled database backups",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can trigger a scheduled database backup",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read PITR database backups",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can trigger a PITR database backup",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read database replications",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can update database replications",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read database triggers",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can create/update/delete database triggers",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read database functions",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can create/update/delete database functions",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read database webhooks",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can create/update/delete database webhooks",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}}]},{title:"SQL Editor",actions:[{description:"Can run a SELECT-based query",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can run all other types of queries",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can create/update/delete queries",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}}]},{title:"Storage",actions:[{description:"Can access storage",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}}]},{title:"Authentication",actions:[{description:"Can view users",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can remove users",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can invite users",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can read authentication settings",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can update authentication settings",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}},{description:"Can view authentication logs",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}}]},{title:"Edge Functions",actions:[{description:"Can view edge functions",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}}]},{title:"Logs Explorer",actions:[{description:"Can view logs explorer",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can create queries in the logs explorer",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}}]},{title:"Reports",actions:[{description:"Can view reports",permissions:{owner:!0,admin:!0,developer:!0,read_only:!0,billing_only:!1}},{description:"Can create/update a report",permissions:{owner:!0,admin:!0,developer:!0,read_only:!1,billing_only:!1}}]}],De=function(e){(0,Te.Z)(e);var n=(0,d.useState)(!1),r=n[0],a=n[1],t="w-[40%] text-sm pl-4 font-bold",i="w-[12%] text-sm h-8 flex items-center justify-center border-l border-scale-600 font-bold",o=(0,S.jsxs)(D.fC,{delayDuration:0,children:[(0,S.jsx)(D.xz,{children:(0,S.jsx)(ke.Z,{size:14,strokeWidth:2})}),(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"top",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"Only available in Team/Enterprise plan."})})]})})]});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ee.Z,{size:16,strokeWidth:1.5,className:"cursor-pointer transition hover:text-scale-1200",onClick:function(){return a(!r)}}),(0,S.jsx)(C.C,{closable:!0,hideFooter:!0,visible:r,size:"xxlarge",header:"Permissions for each role",onCancel:function(){return a(!r)},children:(0,S.jsxs)("div",{className:"space-y-4 py-4",children:[(0,S.jsx)(C.C.Content,{children:(0,S.jsx)("p",{className:"text-sm",children:"The following table shows the corresponding permissions for each available role in the dashboard."})}),(0,S.jsx)(C.C.Content,{children:(0,S.jsxs)("div",{className:"rounded border border-scale-500 bg-scale-400",children:[(0,S.jsxs)("div",{className:"flex items-center border-b border-scale-600",children:[(0,S.jsx)("div",{className:t,children:"Permissions"}),(0,S.jsx)("div",{className:i,children:"Owner"}),(0,S.jsx)("div",{className:i,children:"Adminstrator"}),(0,S.jsx)("div",{className:i,children:"Developer"}),(0,S.jsxs)("div",{className:i,children:["Read-only\xa0",o]}),(0,S.jsxs)("div",{className:i,children:["Billing-only\xa0",o]})]}),(0,S.jsx)("div",{className:"max-h-[425px] overflow-y-auto",children:ze.map((function(e){return(0,S.jsxs)(d.Fragment,{children:[(0,S.jsx)("div",{className:"flex items-center border-b border-scale-600 py-2 px-4 last:border-none",children:(0,S.jsx)("div",{className:"w-[100%] text-sm",children:e.title})}),e.actions.map((function(n,r){return(0,S.jsxs)("div",{className:"flex items-center border-b border-scale-600 bg-scale-500 last:border-none",children:[(0,S.jsx)("div",{className:t,children:n.description}),(0,S.jsx)("div",{className:i,children:n.permissions.owner&&(0,S.jsx)(Ie.Z,{size:14,strokeWidth:2})}),(0,S.jsx)("div",{className:i,children:n.permissions.admin&&(0,S.jsx)(Ie.Z,{size:14,strokeWidth:2})}),(0,S.jsx)("div",{className:i,children:n.permissions.developer&&(0,S.jsx)(Ie.Z,{size:14,strokeWidth:2})}),(0,S.jsx)("div",{className:i,children:n.permissions.read_only&&(0,S.jsx)(Ie.Z,{size:14,strokeWidth:2})}),(0,S.jsx)("div",{className:i,children:n.permissions.billing_only&&(0,S.jsx)(Ie.Z,{size:14,strokeWidth:2})})]},"".concat(e.title,"-").concat(r))}))]},e.title)}))})]})})]})})]})},Me=r(36492),Re=["enabled"];function Fe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function Le(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Fe(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Ve(e,n){return Be.apply(this,arguments)}function Be(){return(Be=(0,t.Z)(o().mark((function e(n,r){var a,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.slug){e.next=3;break}throw new Error("slug is required");case 3:return e.next=5,(0,j.U2)("".concat(b.T5,"/organizations/").concat(a,"/roles"),{signal:r});case 5:if(!(t=e.sent).error){e.next=8;break}throw t.error;case 8:return e.abrupt("return",{roles:t});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=function(e){var n=e.slug,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.enabled,t=void 0===a||a,i=(0,B.Z)(r,Re);return(0,Me.a)(K.O.roles(n),(function(e){var r=e.signal;return Ve({slug:n},r)}),Le({enabled:t&&"undefined"!==typeof n},i))},Ge=["enabled"];function Ke(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function He(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Ke(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Ye(e,n){return We.apply(this,arguments)}function We(){return(We=(0,t.Z)(o().mark((function e(n,r){var a,t,i,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.slug){e.next=3;break}throw new Error("slug is required");case 3:return e.next=5,Promise.all([(0,j.U2)("".concat(b.T5,"/organizations/").concat(a,"/members?member_roles"),{signal:r}),(0,j.U2)("".concat(b.T5,"/organizations/").concat(a,"/members/invite"),{signal:r})]);case 5:if(t=e.sent,i=(0,ne.Z)(t,2),s=i[0],c=i[1],!s.error){e.next=11;break}throw s.error;case 11:if(!c.error){e.next=13;break}throw c.error;case 13:return s&&c&&c.length>0&&(l=c.map((function(e){return He(He({},{is_owner:!1,invited_at:e.invited_at,invited_id:e.invited_id,username:e.invited_email.slice(0,1),primary_email:e.invited_email}),{},{role_ids:[e.role_id]})})),s=[].concat((0,re.Z)(s),(0,re.Z)(l))),e.abrupt("return",{members:s});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qe=function(e){var n=e.slug,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.enabled,t=void 0===a||a,i=(0,B.Z)(r,Ge);return(0,Me.a)(K.O.detail(n),(function(e){var r=e.signal;return Ye({slug:n},r)}),He({enabled:t&&"undefined"!==typeof n},i))},Je=["onSuccess"];function Qe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function $e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Qe(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Xe(e){return en.apply(this,arguments)}function en(){return(en=(0,t.Z)(o().mark((function e(n){var r,a,t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.slug,a=n.gotrueId,t=n.roleId,e.next=3,(0,j.r$)("".concat(b.T5,"/organizations/").concat(r,"/members/").concat(a),{role_id:t});case 3:if(!(i=e.sent).error){e.next=6;break}throw i.error;case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,r=(0,B.Z)(e,Je),a=(0,U.NL)();return(0,G.D)((function(e){return Xe(e)}),$e({onSuccess:function(e,r,i){return(0,t.Z)(o().mark((function t(){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.slug,t.next=3,Promise.all([a.invalidateQueries(K.O.detail(s)),a.invalidateQueries(K.O.roles(s))]);case 3:return t.next=5,null===n||void 0===n?void 0:n(e,r,i);case 5:case"end":return t.stop()}}),t)})))()}},r))};function rn(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function an(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?rn(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var tn=(0,u.Pi)((function(e){var n,r,a=e.searchString,i=(0,y.oR)().ui,s=(0,g.UO)().slug,c=(0,M.Z)().data,l=qe({slug:s}),u=l.data,m=l.isLoading,p=Ue({slug:s}),h=p.data,v=p.isLoading,x=nn({onSuccess:function(){i.setNotification({category:"success",message:"Successfully updated role for ".concat(Pe(A))})},onError:function(){i.setNotification({category:"error",message:"Failed to update role for ".concat(Pe(A))})}}),f=x.mutate,b=x.isLoading,j=null!==(n=null===h||void 0===h?void 0:h.roles)&&void 0!==n?n:[],w=null!==(r=null===u||void 0===u?void 0:u.members)&&void 0!==r?r:[],N=Ze(j),_=N.rolesAddable,P=N.rolesRemovable,Z=(0,d.useState)(),A=Z[0],T=Z[1],k=(0,d.useState)(!1),E=k[0],I=k[1],z=(a?w.filter((function(e){return e.invited_at?e.primary_email.includes(a):e.id||e.gotrue_id?e.username.includes(a)||e.primary_email.includes(a):void 0})):w).slice().sort((function(e,n){return e.username.localeCompare(n.username)})),R=function(e){var n;return j?null===(n=j.find((function(n){return n.id===e})))||void 0===n?void 0:n.name:e},F=function(){var e=(0,t.Z)(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:if(n=A.gotrue_id,r=A.newRoleId,s){e.next=5;break}throw new Error("slug is required");case 5:if(n){e.next=7;break}throw new Error("gotrue_id is required");case 7:f({slug:s,gotrueId:n,roleId:r}),I(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m?(0,S.jsxs)("div",{className:"py-4 space-y-2",children:[(0,S.jsx)(de.Z,{}),(0,S.jsx)(de.Z,{className:"w-3/4"}),(0,S.jsx)(de.Z,{className:"w-1/2"})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"rounded",children:(0,S.jsx)(ie.Z,{active:!z,children:(0,S.jsx)(ue.Z,{head:[(0,S.jsx)(ue.Z.th,{children:"User"},"header-user"),(0,S.jsx)(ue.Z.th,{},"header-status"),(0,S.jsxs)(ue.Z.th,{className:"flex items-center space-x-2",children:[(0,S.jsx)("span",{children:"Role"}),(0,S.jsx)(De,{})]},"header-role"),(0,S.jsx)(ue.Z.th,{},"header-action")],body:[].concat((0,re.Z)(z.map((function(e,n){var r,a=null!==(r=e.role_ids)&&void 0!==r?r:[],t=(0,ne.Z)(a,1)[0],o=(j||[]).find((function(e){return e.id===t})),s=e.primary_email==(null===c||void 0===c?void 0:c.primary_email),l=!!e.invited_id,u=P.includes(t),m=!u||s||l,p=e.username===e.primary_email;return(0,S.jsx)(d.Fragment,{children:(0,S.jsxs)(ue.Z.tr,{children:[(0,S.jsx)(ue.Z.td,{children:(0,S.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,S.jsx)("div",{children:e.invited_id?(0,S.jsx)("span",{className:"flex p-2 border-2 rounded-full border-scale-700",children:(0,S.jsx)(oe.Z,{size:20,strokeWidth:2})}):p?(0,S.jsx)("div",{className:"w-[40px] h-[40px] bg-scale-300 border border-scale-400 rounded-full text-scale-900 flex items-center justify-center",children:(0,S.jsx)(oe.Z,{strokeWidth:1.5})}):(0,S.jsx)(te(),{src:"https://github.com/".concat(e.username,".png?size=80"),width:"40",height:"40",className:"border rounded-full"})}),(0,S.jsxs)("div",{children:[(0,S.jsx)("p",{className:"text-scale-1200",children:Pe(e)}),void 0===e.invited_id&&(0,S.jsx)("p",{className:"text-scale-1100",children:e.primary_email})]})]})}),(0,S.jsx)(ue.Z.td,{children:e.invited_id&&e.invited_at&&(0,S.jsx)(se.Z,{color:Se(e.invited_at)?"red":"yellow",children:Se(e.invited_at)?"Expired":"Invited"})}),(0,S.jsx)(ue.Z.td,{children:v?(0,S.jsx)("div",{className:"w-[140px]",children:(0,S.jsx)(ce.Z,{className:"animate-spin",size:16,strokeWidth:1.5})}):void 0!==o?(0,S.jsxs)(D.fC,{delayDuration:0,children:[(0,S.jsx)(D.xz,{className:"w-[140px]",children:(0,S.jsx)(L.Z,{className:m?"pointer-events-none":"",disabled:m,value:o.id,onChange:function(n){var r;if(o&&o.id!==n){var a=(j||[]).find((function(e){return e.id===n}));if(!_.includes(null!==(r=null===a||void 0===a?void 0:a.id)&&void 0!==r?r:-1))return i.setNotification({category:"error",duration:4e3,message:"You do not have permission to update this team member to ".concat(a.name)});I(!0),T(an(an({},e),{},{oldRoleId:o.id,newRoleId:n}))}},children:j.map((function(e){return(0,S.jsx)(L.Z.Option,{value:e.id,label:e.name,disabled:m,className:"w-36",children:e.name},e.id)}))})}),l?(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"bottom",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"Role can only be changed after the user has accepted the invite"})})]})}):s||u?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"bottom",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"You need additional permissions to manage this team member"})})]})})]}):(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)("p",{className:"text-sm text-scale-1100",children:"Invalid role"}),(0,S.jsxs)(D.fC,{delayDuration:0,children:[(0,S.jsx)(D.xz,{children:(0,S.jsx)(le.Z,{size:16,strokeWidth:1.5})}),(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"bottom",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200 "].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"This user has an invalid role, please reach out to us via support"})})]})})]})]})}),(0,S.jsx)(ue.Z.td,{children:!s&&(0,S.jsx)(Ae,{member:e,roles:j})})]})},"member-row-".concat(n))}))),(0,re.Z)(a.length>0&&0===z.length?[(0,S.jsx)(ue.Z.tr,{className:"bg-panel-secondary-light dark:bg-panel-secondary-dark",children:(0,S.jsx)(ue.Z.td,{colSpan:12,children:(0,S.jsxs)("div",{className:"flex items-center space-x-3 opacity-75",children:[(0,S.jsx)(le.Z,{size:16,strokeWidth:2}),(0,S.jsxs)("p",{className:"text-scale-1100",children:['No users matched the search query "',a,'"']})]})})},"no-results")]:[]),[(0,S.jsx)(ue.Z.tr,{className:"bg-panel-secondary-light dark:bg-panel-secondary-dark",children:(0,S.jsx)(ue.Z.td,{colSpan:4,children:(0,S.jsxs)("p",{className:"text-scale-1100",children:[a?"".concat(z.length," of "):"",w.length||"0"," ",1==w.length?"user":"users"]})})},"footer")])})})}),(0,S.jsx)(C.C,{hideFooter:!0,size:"medium",visible:E,onCancel:function(){return I(!1)},header:"Change role of member",children:(0,S.jsxs)("div",{className:"flex flex-col gap-2 py-4",children:[(0,S.jsxs)(C.C.Content,{children:[(0,S.jsxs)("p",{className:"text-sm text-scale-1100",children:["You are changing the role of"," ",(0,S.jsx)("span",{className:"text-scale-1200",children:Pe(A)})," from"," ",(0,S.jsx)("span",{className:"text-scale-1200",children:R(null===A||void 0===A?void 0:A.oldRoleId)})," ","to"," ",(0,S.jsx)("span",{className:"text-scale-1200",children:R(null===A||void 0===A?void 0:A.newRoleId)})]}),(0,S.jsx)("p",{className:"mt-3 text-sm text-scale-1200",children:"By changing the role of this member their permissions will change."})]}),(0,S.jsx)(C.C.Separator,{}),(0,S.jsx)(C.C.Content,{children:(0,S.jsxs)("div",{className:"flex gap-3",children:[(0,S.jsx)(O.z,{type:"default",block:!0,size:"medium",onClick:function(){return I(!1)},children:"Cancel"}),(0,S.jsx)(O.z,{block:!0,type:"warning",size:"medium",disabled:b,loading:b,onClick:function(){return F()},children:"Confirm"})]})})]})})]})})),on=(0,u.Pi)((function(){var e,n,r,a=(0,y.oR)().ui,i=(0,g.UO)().slug,s=(0,M.Z)().data,c=null===(e=a.selectedOrganization)||void 0===e?void 0:e.is_owner,l=qe({slug:i}).data,u=Ue({slug:i}).data,m=null!==(n=null===l||void 0===l?void 0:l.members)&&void 0!==n?n:[],h=null!==(r=null===u||void 0===u?void 0:u.roles)&&void 0!==r?r:[],v=Ze(h).rolesAddable,x=(0,d.useState)(!1),f=x[0],w=x[1],N=(0,d.useState)(""),_=N[0],C=N[1],P=v.length>0,Z=!c||c&&function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(n){var r,a=null!==(r=n.role_ids)&&void 0!==r?r:[],t=(0,ne.Z)(a,1)[0],i=e.find((function(e){return e.id===t}));return"Owner"===(null===i||void 0===i?void 0:i.name)&&!n.invited_at})).length>1}(m,h),A=function(){var e=(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0);try{(0,ve._)({title:"Are you sure?",message:"Are you sure you want to leave this team? This is permanent.",onAsyncConfirm:function(){var e=(0,t.Z)(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.v_)("".concat(b.T5,"/organizations/").concat(i,"/members/leave"),{});case 2:if(!(n=e.sent).error){e.next=7;break}throw n.error;case 7:null===(r=window)||void 0===r||r.location.replace("/");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}catch(n){a.setNotification({category:"error",message:"Error leaving: ".concat(null===n||void 0===n?void 0:n.message)})}finally{w(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"container my-4 max-w-4xl space-y-8",children:(0,S.jsxs)("div",{className:"flex justify-between",children:[(0,S.jsx)(p.Z,{icon:(0,S.jsx)(z.Z,{size:"tiny"}),size:"small",value:_,onChange:function(e){return C(e.target.value)},name:"email",id:"email",placeholder:"Filter members"}),(0,S.jsxs)("div",{className:"flex items-center space-x-4",children:[P&&void 0!==s&&(0,S.jsx)("div",{children:(0,S.jsx)(ee,{userId:s.id,members:m,roles:h,rolesAddable:v})}),(0,S.jsx)("div",{children:(0,S.jsxs)(D.fC,{delayDuration:0,children:[(0,S.jsx)(D.xz,{children:(0,S.jsx)(O.z,{type:"default",disabled:!Z,onClick:function(){return A()},loading:f,children:"Leave team"})}),!Z&&(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"bottom",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","border border-scale-200"].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"An organization requires at least 1 owner"})})]})})]})})]})]})}),(0,S.jsx)("div",{className:"container my-4 max-w-4xl space-y-8",children:(0,S.jsx)(tn,{searchString:_})})]})})),sn=r(27693),cn=r.n(sn),ln=r(82672),dn=function(e){var n,r,a,t,i,o=e.project,s=(0,y.oR)().ui,c=(0,ln.S2)({projectRef:o.ref}),u=c.data,m=c.isLoading,p=c.error,h=null!==(n=null===u||void 0===u||null===(r=u.billing)||void 0===r?void 0:r.current_period_start)&&void 0!==n?n:0,v=null!==(a=null===u||void 0===u||null===(t=u.billing)||void 0===t?void 0:t.current_period_end)&&void 0!==a?a:0;return(0,d.useEffect)((function(){var e;p&&s.setNotification({category:"error",message:"Failed to get project subscription: ".concat(null!==(e=null===p||void 0===p?void 0:p.message)&&void 0!==e?e:"unknown")})}),[p]),(0,S.jsxs)("div",{className:"flex items-center w-full px-6 py-3",children:[(0,S.jsx)("div",{className:"w-[25%]",children:(0,S.jsx)("p",{className:"text-sm",children:o.name})}),m?(0,S.jsx)("div",{className:"flex w-[75%] items-center justify-center",children:(0,S.jsx)(ce.Z,{size:14,className:"animate-spin"})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"w-[20%]",children:(0,S.jsx)("p",{className:"text-sm",children:null!==(i=null===u||void 0===u?void 0:u.tier.name)&&void 0!==i?i:""})}),(0,S.jsxs)("div",{className:"flex w-[40%] items-center space-x-2",children:[(0,S.jsx)("p",{className:"text-sm",children:cn().unix(h).utc().format("MMM D, YYYY")}),(0,S.jsx)("p",{className:"text-sm",children:"-"}),(0,S.jsx)("p",{className:"text-sm",children:cn().unix(v).utc().format("MMM D, YYYY")})]}),(0,S.jsx)("div",{className:"flex w-[15%] items-center justify-end",children:(0,S.jsx)(l(),{href:"/project/".concat(o.ref,"/settings/billing/subscription"),children:(0,S.jsxs)("a",{className:"flex items-center space-x-2 group",children:[(0,S.jsx)("p",{className:"text-xs transition opacity-0 group-hover:opacity-100",children:"View details"}),(0,S.jsx)(x.Z,{strokeWidth:1.5})]})})})]})]})},un=function(e){var n=e.projects;return(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsx)("h4",{children:"Projects at a glance"}),(0,S.jsxs)(N.Z,{title:(0,S.jsxs)("div",{className:"flex items-center w-full",children:[(0,S.jsx)("div",{className:"w-[25%]",children:(0,S.jsx)("p",{className:"text-sm opacity-50",children:"Name"})}),(0,S.jsx)("div",{className:"w-[20%]",children:(0,S.jsx)("p",{className:"text-sm opacity-50",children:"Plan"})}),(0,S.jsx)("div",{className:"w-[40%]",children:(0,S.jsx)("p",{className:"text-sm opacity-50",children:"Billing cycle"})}),(0,S.jsx)("div",{className:"w-[15%]"})]}),children:[n.map((function(e){return(0,S.jsx)(dn,{project:e},e.ref)})),0===n.length&&(0,S.jsx)(N.Z.Content,{children:(0,S.jsx)("p",{className:"text-sm text-scale-1100",children:"No projects created yet"})})]})]})},mn=function(e){var n=e.balance,r=e.isCredit,a=e.isDebt;return(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{className:"space-y-1",children:[(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)("h4",{children:"Credit balance"}),r&&(0,S.jsx)(se.Z,{children:"You have credits available"}),a&&(0,S.jsx)(se.Z,{color:"red",children:"Outstanding payments"})]}),(0,S.jsx)("p",{className:"text-sm opacity-50",children:"Charges will be deducted from your balance first"})]}),(0,S.jsxs)("div",{className:"flex items-end space-x-1",children:[a&&(0,S.jsx)("h4",{className:"opacity-50",children:"-"}),(0,S.jsx)("h4",{className:"opacity-50",children:"$"}),(0,S.jsx)("h2",{className:"text-4xl",children:n}),r&&(0,S.jsx)("h4",{className:"opacity-50",children:"/credits"})]})]})},pn=r(87474),hn=r(70946),vn=r(9150),xn=r(24903),fn=r(2382),yn=r(38230),gn=function(e){var n,r,a,i,s=e.loading,c=e.defaultPaymentMethod,l=e.paymentMethods,u=e.onDefaultMethodUpdated,m=e.onPaymentMethodsDeleted,h=e.onPaymentMethodAdded,v=(0,y.oR)().ui,x=null!==(n=null===(r=v.selectedOrganization)||void 0===r?void 0:r.slug)&&void 0!==n?n:"",g=(0,d.useState)(),_=g[0],P=g[1],Z=(0,d.useState)(),A=Z[0],T=Z[1],k=(0,d.useState)(!1),E=k[0],I=k[1],z=(0,d.useState)(!1),M=z[0],R=z[1],F=(0,y.FH)(f.KA.BILLING_READ,"stripe.payment_methods"),L=(0,y.FH)(f.KA.BILLING_WRITE,"stripe.payment_methods"),V=function(){var e=(0,t.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),e.next=4,(0,j.r$)("".concat(b.T5,"/organizations/").concat(x,"/customer"),{invoice_settings:{default_payment_method:_.id}});case 4:if(!(n=e.sent).error){e.next=7;break}throw n.error;case 7:u(n),P(void 0),v.setNotification({category:"success",message:"Successfully updated default payment method"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),v.setNotification({category:"error",message:"Failed to make payment method default: ".concat(e.t0.message)});case 15:return e.prev=15,R(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,t.Z)(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),e.next=4,(0,j.$v)("".concat(b.T5,"/organizations/").concat(x,"/payments"),{card_id:A.id});case 4:if(n=e.sent,!(r=n.error)){e.next=8;break}throw r;case 8:m(),T(void 0),v.setNotification({category:"success",message:"Successfully deleted payment method"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),v.setNotification({category:"error",message:"Failed to delete payment method: ".concat(e.t0.message)});case 16:return e.prev=16,R(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{children:"Payment methods"}),(0,S.jsx)("p",{className:"text-sm opacity-50",children:'When adding a new payment method, either remove the old one or go to your projects\' subscription to explicitly update the payment method. Marking a payment method as "default" is only relevant for new projects or if there are no other payment methods on your account.'})]}),F?(0,S.jsx)(N.Z,{loading:s,footer:!s&&(0,S.jsxs)("div",{className:"flex w-full justify-between",children:[L?(0,S.jsx)("div",{}):(0,S.jsx)("p",{className:"text-sm text-scale-1000",children:"You need additional permissions to manage this organization's payment methods"}),(0,S.jsx)("div",{children:(0,S.jsx)(O.z,{type:"default",icon:(0,S.jsx)(pn.Z,{}),disabled:!L,onClick:function(){return I(!0)},children:"Add new card"},"panel-footer")})]}),children:s&&0===l.length?(0,S.jsxs)("div",{className:"flex flex-col justify-between space-y-2 py-4 px-4",children:[(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-2/3 rounded py-3"}),(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-1/2 rounded py-3"}),(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-1/3 rounded py-3"})]}):l.length>=1?(0,S.jsx)(N.Z.Content,{children:(0,S.jsx)("div",{className:"space-y-2",children:l.map((function(e){var n=e.id===c;return(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,S.jsx)("img",{src:"".concat(b.GW,"/img/payment-methods/").concat(e.card.brand.replace(" ","-").toLowerCase(),".png"),width:"32"}),(0,S.jsx)(p.Z,{readOnly:!0,className:"w-64",size:"small",value:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ".concat(e.card.last4)}),n?(0,S.jsx)(se.Z,{color:"gray",children:"Default"}):(0,S.jsx)("div",{className:"opacity-0",children:(0,S.jsx)(se.Z,{color:"gray",children:"Default"})}),(0,S.jsxs)("p",{className:"text-sm tabular-nums",children:["Expires: ",e.card.exp_month,"/",e.card.exp_year]})]}),L&&(0,S.jsx)(S.Fragment,{children:n?(0,S.jsxs)(D.fC,{delayDuration:0,children:[(0,S.jsx)(D.xz,{children:(0,S.jsx)(O.z,{disabled:!0,as:"span",type:"outline",icon:(0,S.jsx)(hn.Z,{})})}),(0,S.jsx)(D.h_,{children:(0,S.jsxs)(D.VY,{side:"bottom",children:[(0,S.jsx)(D.Eh,{className:"radix-tooltip-arrow"}),(0,S.jsx)("div",{className:["rounded bg-scale-100 py-1 px-2 leading-none shadow","w-48 border border-scale-200 text-center"].join(" "),children:(0,S.jsx)("span",{className:"text-xs text-scale-1200",children:"Your default payment method cannot be deleted"})})]})})]}):(0,S.jsx)(pe.ZP,{size:"tiny",overlay:[(0,S.jsx)(pe.ZP.Item,{onClick:function(){return P(e)},children:"Make default"},"make-default"),(0,S.jsx)(pe.ZP.Item,{onClick:function(){return T(e)},children:"Delete"},"delete-method")],children:(0,S.jsx)(O.z,{type:"outline",icon:(0,S.jsx)(me.Z,{}),loading:s,className:"hover:border-gray-500"})})})]},e.id)}))})}):(0,S.jsx)(N.Z.Content,{children:(0,S.jsxs)("div",{className:"flex items-center space-x-2 opacity-50",children:[(0,S.jsx)(vn.Z,{}),(0,S.jsx)("p",{className:"text-sm",children:"No payment methods"})]})})}):(0,S.jsx)(N.Z,{children:(0,S.jsx)(yn.Z,{resourceText:"view this organization's payment methods"})})]}),(0,S.jsx)(fn.AddNewPaymentMethodModal,{visible:E,returnUrl:"".concat((0,xn.Ax)(),"/org/").concat(x,"/billing"),onCancel:function(){return I(!1)},onConfirm:function(){return I(!1),h()}}),(0,S.jsx)(C.C,{visible:void 0!==_,size:"small",header:"Set payment method as default",onCancel:function(){return P(void 0)},customFooter:(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(O.z,{type:"default",onClick:function(){return P(void 0)},children:"Cancel"}),(0,S.jsx)(O.z,{type:"primary",loading:M,onClick:V,children:"Confirm"})]}),children:(0,S.jsx)("div",{className:"py-4",children:(0,S.jsx)(C.C.Content,{children:(0,S.jsxs)("p",{className:"text-sm",children:["Confirm to set selected payment method (Ending with"," ",null!==(a=null===_||void 0===_||null===(i=_.card)||void 0===i?void 0:i.last4)&&void 0!==a?a:"",") as the default?"]})})})}),(0,S.jsx)(C.C,{visible:void 0!==A,size:"medium",header:"Delete payment method",onCancel:function(){return T(void 0)},customFooter:(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(O.z,{type:"default",onClick:function(){return T(void 0)},children:"Cancel"}),(0,S.jsx)(O.z,{type:"primary",loading:M,onClick:B,children:"Confirm"})]}),children:(0,S.jsx)("div",{className:"py-4",children:(0,S.jsx)(C.C.Content,{children:(0,S.jsx)(w.Z,{withIcon:!0,variant:"warning",title:"This will permanently delete your payment method.",children:(0,S.jsx)("p",{className:"",children:"Any subscription currently charging this payment method will start charging your default payment method."})})})})})]})},bn=[{code:"AF",name:"Afghanistan"},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BE",name:"Belgium"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"VG",name:"British Virgin Islands"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CA",name:"Canada"},{code:"CV",name:"Cape Verde"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CW",name:"Cura\xe7ao"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"CI",name:"C\xf4te d'Ivoire"},{code:"DK",name:"Denmark"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"SZ",name:"Eswatini"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard & McDonald Islands"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran"},{code:"IQ",name:"Iraq"},{code:"IE",name:"Ireland"},{code:"IM",name:"Isle of Man"},{code:"IL",name:"Israel"},{code:"IT",name:"Italy"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Laos"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia"},{code:"MD",name:"Moldova"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"KP",name:"North Korea"},{code:"MK",name:"North Macedonia"},{code:"MP",name:"Northern Mariana Islands"},{code:"NO",name:"Norway"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestinian Territories"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn Islands"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RO",name:"Romania"},{code:"RU",name:"Russia"},{code:"RW",name:"Rwanda"},{code:"RE",name:"R\xe9union"},{code:"BL",name:"Saint Barth\xe9lemy"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SX",name:"Sint Maarten"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"KR",name:"South Korea"},{code:"SS",name:"South Sudan"},{code:"ES",name:"Spain"},{code:"LK",name:"Sri Lanka"},{code:"SH",name:"St Helena"},{code:"KN",name:"St Kitts and Nevis"},{code:"LC",name:"St Lucia"},{code:"MF",name:"St Martin"},{code:"PM",name:"St Pierre and Miquelon"},{code:"VC",name:"St Vincent and the Grenadines"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard & Jan Mayen"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"SY",name:"Syria"},{code:"TW",name:"Taiwan"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad & Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks & Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"VI",name:"US Virgin Islands"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"GB",name:"United Kingdom"},{code:"US",name:"United States of America"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VA",name:"Vatican City"},{code:"VE",name:"Venezuela"},{code:"VN",name:"Vietnam"},{code:"WF",name:"Wallis & Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"},{code:"AX",name:"\xc5land Islands"}],jn=function(e){var n,r,a=e.loading,i=e.address,s=e.onAddressUpdated,c=(0,y.oR)().ui,l=null!==(n=null===(r=c.selectedOrganization)||void 0===r?void 0:r.slug)&&void 0!==n?n:"",u=i.city,h=i.country,v=i.line1,x=i.line2,g=i.postal_code,w=i.state,_=(0,y.FH)(f.KA.BILLING_READ,"stripe.customer"),C=(0,y.FH)(f.KA.BILLING_WRITE,"stripe.customer"),P=(0,d.useState)(!1),Z=P[0],A=P[1],T={city:u,country:h,line1:v,line2:x,postal_code:g,state:w},k=function(){var e=(0,t.Z)(o().mark((function e(n,r){var a,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.setSubmitting,e.prev=1,a(!0),e.next=5,(0,j.r$)("".concat(b.T5,"/organizations/").concat(l,"/customer"),{address:n});case 5:if(!(t=e.sent).error){e.next=8;break}throw t.error;case 8:c.setNotification({category:"success",message:"Successfully updated billing address"}),s(t.address),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),c.setNotification({category:"error",message:"Failed to update billing address: ".concat(e.t0.message)});case 15:return e.prev=15,a(!1),A(!1),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[1,12,15,19]])})));return function(n,r){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{children:"Billing address"}),(0,S.jsx)("p",{className:"text-sm opacity-50",children:"This will be reflected in every invoice"})]}),(0,S.jsx)(N.Z,{loading:a,children:a?(0,S.jsxs)("div",{className:"flex flex-col justify-between space-y-2 py-4 px-4",children:[(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-2/3 rounded py-3"}),(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-1/2 rounded py-3"}),(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-1/3 rounded py-3"})]}):_?(0,S.jsx)(m.Z,{validateOnBlur:!0,initialValues:T,validate:function(e){return(0,R.isEqual)(e,T)?A(!1):A(!0),{}},onSubmit:k,children:function(e){var n=e.isSubmitting,r=e.handleReset;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(N.Z.Content,{className:"w-3/5 space-y-2",children:[(0,S.jsx)(p.Z,{id:"line1",name:"line1",placeholder:"Address line 1",disabled:!C}),(0,S.jsx)(p.Z,{id:"line2",name:"line2",placeholder:"Address line 2",disabled:!C}),(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsxs)(L.Z,{className:"w-full",id:"country",name:"country",placeholder:"Country",disabled:!C,children:[(0,S.jsx)(L.Z.Option,{label:"---",value:"",children:"---"},"empty"),bn.map((function(e){return(0,S.jsx)(L.Z.Option,{label:e.name,value:e.code,children:e.name},e.code)}))]}),(0,S.jsx)(p.Z,{className:"w-full",id:"postal_code",name:"postal_code",placeholder:"Postal code",disabled:!C})]}),(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)(p.Z,{className:"w-full",id:"city",name:"city",placeholder:"City",disabled:!C}),(0,S.jsx)(p.Z,{className:"w-full",id:"state",name:"state",placeholder:"State",disabled:!C})]})]}),(0,S.jsx)("div",{className:"border-t border-scale-400"}),(0,S.jsxs)(N.Z.Content,{className:"flex justify-between",children:[C?(0,S.jsx)("div",{}):(0,S.jsx)("p",{className:"text-sm text-scale-1000",children:"You need additional permissions to update this organization's billing address"}),(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)(O.z,{type:"default",htmlType:"reset",disabled:!Z||n||!C,onClick:function(){r(),A(!1)},children:"Cancel"}),(0,S.jsx)(O.z,{type:"primary",htmlType:"submit",loading:n,disabled:!Z||n||!C,children:"Save"})]})]})]})}}):(0,S.jsx)(yn.Z,{resourceText:"view this organization's billing address"})})]})},wn=[{name:"AE TRN",code:"ae_trn",country:"United Arab Emirates",placeholder:"123456789012345"},{name:"AT VAT",code:"eu_vat",country:"Austria",placeholder:"ATU12345678",vatPrefix:"ATU"},{name:"AU ABN",code:"au_abn",country:"Australia",placeholder:"12345678912"},{name:"AU ARN",code:"au_arn",country:"Australia",placeholder:"123456789123"},{name:"BE VAT",code:"eu_vat",country:"Belgium",placeholder:"BE0123456789",vatPrefix:"BE"},{name:"BG VAT",code:"eu_vat",country:"Bulgaria",placeholder:"BG0123456789",vatPrefix:"BG"},{name:"BR CNPJ",code:"br_cnpj",country:"Brazil",placeholder:"01.234.456/5432-10"},{name:"BR CPF",code:"br_cpf",country:"Brazil",placeholder:"123.456.789-87"},{name:"CA BN",code:"ca_bn",country:"Canada",placeholder:"123456789"},{name:"CA GST/HST",code:"ca_gst_hst",country:"Canada",placeholder:"123456789RT0002"},{name:"CA PST-BC",code:"ca_pst_bc",country:"Canada",placeholder:"PST-1234-5678"},{name:"CA PST-MB",code:"ca_pst_mb",country:"Canada",placeholder:"123456-7"},{name:"CA PST-SK",code:"ca_pst_mb",country:"Canada",placeholder:"1234567"},{name:"CA QST",code:"ca_qst",country:"Canada",placeholder:"1234567890TQ1234"},{name:"CH VAT",code:"ch_vat",country:"Switzerland",placeholder:"CHE-123.456.789 MWST",vatPrefix:"CHE"},{name:"CL TIN",code:"cl_tin",country:"Chile",placeholder:"12.345.678-K"},{name:"CY VAT",code:"eu_vat",country:"Cyprus",placeholder:"CY12345678Z",vatPrefix:"CY"},{name:"CZ VAT",code:"eu_vat",country:"Czech Republic",placeholder:"CZ1234567890",vatPrefix:"CZ"},{name:"DE VAT",code:"eu_vat",country:"Germany",placeholder:"DE123456789",vatPrefix:"DE"},{name:"DK VAT",code:"eu_vat",country:"Denmark",placeholder:"DK12345678",vatPrefix:"DK"},{name:"EE VAT",code:"eu_vat",country:"Estonia",placeholder:"EE123456789",vatPrefix:"EE"},{name:"ES CIF",code:"es_cif",country:"Spain",placeholder:"A12345678"},{name:"ES VAT",code:"eu_vat",country:"Spain",placeholder:"ESX1234567Z",vatPrefix:"ES"},{name:"FI VAT",code:"eu_vat",country:"Finland",placeholder:"FI12345678",vatPrefix:"FI"},{name:"FR VAT",code:"eu_vat",country:"France",placeholder:"FRAB123456789",vatPrefix:"FR"},{name:"GB VAT",code:"eu_vat",country:"United Kingdom",placeholder:"GB123456789",vatPrefix:"GB"},{name:"GE VAT",code:"ge_vat",country:"Georgia",placeholder:"123456789"},{name:"EL VAT",code:"eu_vat",country:"Greece",placeholder:"EL123456789",vatPrefix:"EL"},{name:"HK BR",code:"hk_br",country:"Hong Kong SAR China",placeholder:"12345678"},{name:"HR VAT",code:"eu_vat",country:"Croatia",placeholder:"HR12345678912",vatPrefix:"HR"},{name:"HU VAT",code:"eu_vat",country:"Hungary",placeholder:"HU12345678912",vatPrefix:"HU"},{name:"ID NPWP",code:"id_npwp",country:"Indonesia",placeholder:"12.345.678.9-012.345"},{name:"IE VAT",code:"eu_vat",country:"Ireland",placeholder:"IE1234567AB",vatPrefix:"IE"},{name:"IL VAT",code:"il_vat",country:"Israel",placeholder:"000012345"},{name:"IN GST",code:"in_gst",country:"India",placeholder:"12ABCDE3456FGZH"},{name:"IS VAT",code:"is_vat",country:"Iceland",placeholder:"123456"},{name:"IT VAT",code:"eu_vat",country:"Italy",placeholder:"IT12345678912",vatPrefix:"IT"},{name:"JP CN",code:"jp_cn",country:"Japan",placeholder:"1234567891234"},{name:"JP RN",code:"jp_rn",country:"Japan",placeholder:"12345"},{name:"KR BRN",code:"kr_brn",country:"Korea",placeholder:"123-45-67890"},{name:"LI UID",code:"li_uid",country:"Liechtenstein",placeholder:"CHE123456789"},{name:"LT VAT",code:"eu_vat",country:"Lithuania",placeholder:"LT123456789123",vatPrefix:"LT"},{name:"LU VAT",code:"eu_vat",country:"Luxembourg",placeholder:"LU12345678",vatPrefix:"LU"},{name:"LV VAT",code:"eu_vat",country:"Latvia",placeholder:"LV12345678912",vatPrefix:"LV"},{name:"MT VAT",code:"eu_vat",country:"Malta",placeholder:"MT12345678",vatPrefix:"MT"},{name:"MX RFC",code:"mx_rfc",country:"Mexico",placeholder:"ABC010203AB9"},{name:"MY FRP",code:"my_frp",country:"Malaysia",placeholder:"12345678"},{name:"MY ITN",code:"my_itn",country:"Malaysia",placeholder:"C 1234567890"},{name:"MY SST",code:"my_sst",country:"Malaysia",placeholder:"A12-3456-78912345"},{name:"NL VAT",code:"eu_vat",country:"Netherlands",placeholder:"NL123456789B12",vatPrefix:"NL"},{name:"NO VAT",code:"no_vat",country:"Norway",placeholder:"123456789MVA"},{name:"NZ GST",code:"nz_gst",country:"New Zealand",placeholder:"123456789"},{name:"PL VAT",code:"eu_vat",country:"Poland",placeholder:"PL1234567890",vatPrefix:"PL"},{name:"PT VAT",code:"eu_vat",country:"Portugal",placeholder:"PT123456789",vatPrefix:"PT"},{name:"RO VAT",code:"eu_vat",country:"Romania",placeholder:"RO1234567891",vatPrefix:"RO"},{name:"RU INN",code:"ru_inn",country:"Russia",placeholder:"1234567891"},{name:"RU KPP",code:"ru_kpp",country:"Russia",placeholder:"123456789"},{name:"SA VAT",code:"sa_vat",country:"Saudi Arabia",placeholder:"123456789012345"},{name:"SE VAT",code:"eu_vat",country:"Sweden",placeholder:"SE123456789123",vatPrefix:"SE"},{name:"SG GST",code:"sg_gst",country:"Singapore",placeholder:"M12345678X"},{name:"SG UEN",code:"sg_uen",country:"Singapore",placeholder:"123456789F"},{name:"SI VAT",code:"eu_vat",country:"Slovenia",placeholder:"SI12345678",vatPrefix:"SI"},{name:"SK VAT",code:"eu_vat",country:"Slovakia",placeholder:"SK1234567891",vatPrefix:"SK"},{name:"TH VAT",code:"th_vat",country:"Thailand",placeholder:"1234567891234"},{name:"TW VAT",code:"tw_vat",country:"Taiwan",placeholder:"12345678"},{name:"UA VAT",code:"ua_vat",country:"Ukraine",placeholder:"123456789"},{name:"US EIN",code:"us_ein",country:"United States",placeholder:"12-3456789"},{name:"XI VAT",code:"eu_vat",country:"United Kingdom (Northern Ireland)",placeholder:"XI123456789",vatPrefix:"XI"},{name:"ZA VAT",code:"za_vat",country:"South Africa",placeholder:"4123456789"}],Nn=function(e){var n=e,r=wn.find((function(n){return n.name===e.name})),a=null===r||void 0===r?void 0:r.vatPrefix;return a&&!e.value.startsWith(a)&&(n.value="".concat(a).concat(e.value)),n};function _n(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function On(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_n(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Cn=function(e){var n,r,i=e.loading,s=e.taxIds,c=e.onTaxIdsUpdated,l=(0,y.oR)().ui,u=null!==(n=null===(r=l.selectedOrganization)||void 0===r?void 0:r.slug)&&void 0!==n?n:"",m=(0,d.useState)(!1),h=m[0],v=m[1],x=(0,d.useState)([]),g=x[0],w=x[1],_=(0,d.useState)(s),C=_[0],P=_[1],Z=s.map((function(e){var n,r;return{id:e.id,type:e.type,value:e.value,name:"eu_vat"===e.type?"".concat(e.country," VAT"):null!==(n=null===(r=wn.find((function(n){return n.code===e.type})))||void 0===r?void 0:r.name)&&void 0!==n?n:""}}));(0,d.useEffect)((function(){if(0===C.length)P(Z);else{var e=C.filter((function(e){return g.includes(e.id)}));P(Z.concat(e))}}),[s]);var A=!(0,R.isEqual)(C,Z),T=(0,y.FH)(f.KA.BILLING_READ,"stripe.tax_ids"),k=(0,y.FH)(f.KA.BILLING_WRITE,"stripe.tax_ids"),E=function(e,n,r){var t=C.map((function(t){if(t.id===e){if("name"===n){var i,o=wn.find((function(e){return e.name===r}));return On(On({},t),{},(i={},(0,a.Z)(i,n,r),(0,a.Z)(i,"type",null===o||void 0===o?void 0:o.code),i))}return On(On({},t),{},(0,a.Z)({},n,r))}return t}));P(t)},I=function(){var e=(0,t.Z)(o().mark((function e(){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Promise.all(s.map(function(){var e=(0,t.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.$v)("".concat(b.T5,"/organizations/").concat(u,"/tax-ids"),{id:n.id});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:return e.sent,e.next=7,Promise.all(C.map(function(){var e=(0,t.Z)(o().mark((function e(n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nn(n),e.next=3,(0,j.v_)("".concat(b.T5,"/organizations/").concat(u,"/tax-ids"),{type:r.type,value:r.value});case 3:return a=e.sent,e.abrupt("return",{id:r.id,result:a});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 7:n=e.sent,r=n.filter((function(e){if(e.result.error)return e})),w(r.map((function(e){return e.id}))),r.length>0?r.forEach((function(e){l.setNotification({category:"error",message:e.result.error.message})})):l.setNotification({category:"success",message:"Successfully updated tax IDs"}),a=n.filter((function(e){return!e.result.error})).map((function(e){return e.result})),c(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),l.setNotification({category:"error",message:"Failed to save tax IDs"});case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{className:"space-y-2",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h4",{children:"Tax ID"}),(0,S.jsxs)("p",{className:"text-sm opacity-50",children:["If you would like to include specific tax ID(s) to your invoices. ",(0,S.jsx)("br",{}),"Make sure the tax ID looks exactly like the placeholder text."]})]}),T?(0,S.jsx)(N.Z,{loading:i,footer:!i&&(0,S.jsxs)("div",{className:"flex w-full justify-between",children:[k?(0,S.jsx)("div",{}):(0,S.jsx)("p",{className:"text-sm text-scale-1000",children:"You need additional permissions to update this organization's tax IDs"}),(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)(O.z,{type:"default",htmlType:"reset",disabled:!A||h,onClick:function(){P(Z)},children:"Cancel"}),(0,S.jsx)(O.z,{type:"primary",htmlType:"submit",loading:h,disabled:!A||h,onClick:function(){return I()},children:"Save"})]})]}),children:i&&0===C.length?(0,S.jsxs)("div",{className:"flex flex-col justify-between space-y-2 py-4 px-4",children:[(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-2/3 rounded py-3"}),(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-1/2 rounded py-3"}),(0,S.jsx)("div",{className:"shimmering-loader mx-1 w-1/3 rounded py-3"})]}):(0,S.jsxs)(N.Z.Content,{className:"w-8/12 space-y-4",children:[C.length>=1?(0,S.jsx)("div",{className:"w-full space-y-2",children:C.map((function(e,n){var r,a=wn.find((function(n){return n.name===e.name}));return(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)(L.Z,{value:null===a||void 0===a?void 0:a.name,onChange:function(n){return E(e.id,"name",n)},disabled:!k,className:"w-[200px]",children:wn.sort((function(e,n){return e.country.localeCompare(n.country)})).map((function(e){return(0,S.jsxs)(L.Z.Option,{value:e.name,label:e.name,children:[e.country," - ",e.name]},e.name)}))}),(0,S.jsx)(p.Z,{value:e.value,placeholder:null!==(r=null===a||void 0===a?void 0:a.placeholder)&&void 0!==r?r:"",onChange:function(n){return E(e.id,"value",n.target.value)},disabled:!k}),k&&(0,S.jsx)(O.z,{type:"text",icon:(0,S.jsx)(hn.Z,{}),onClick:function(){return function(e){var n=C.filter((function(n){return n.id!==e}));P(n)}(e.id)}})]},"tax-id-".concat(n))}))}):(0,S.jsx)("div",{children:(0,S.jsx)("p",{className:"flex items-center space-x-2 text-sm text-scale-900",children:"No tax IDs"})}),k&&(0,S.jsxs)("div",{className:"flex cursor-pointer items-center space-x-2 opacity-50 transition hover:opacity-100",onClick:function(){return function(){var e={id:(0,xn.k$)(),type:wn[0].code,value:"",name:wn[0].name},n=C.concat([e]);P(n)}()},children:[(0,S.jsx)(pn.Z,{size:14}),(0,S.jsx)("p",{className:"text-sm",children:"Add another ID"})]})]})}):(0,S.jsx)(N.Z,{children:(0,S.jsx)(yn.Z,{resourceText:"to view this organization's tax IDs"})})]})};function Sn(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function Pn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Sn(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Zn=function(){var e,n=(0,y.oR)(),r=n.app,a=n.ui,i=(0,g.UO)().slug,s=null!==(e=a.selectedOrganization)&&void 0!==e?e:{},c=s.name,l=s.billing_email,u="org-billing-email",h={billing_email:null!==l&&void 0!==l?l:""},v=(0,y.FH)(f.KA.UPDATE,"organizations"),x=(0,y.FH)(f.KA.READ,"organizations"),w=function(){var e=(0,t.Z)(o().mark((function e(n,t){var s,l,d,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.setSubmitting,l=t.resetForm,v){e.next=3;break}return e.abrupt("return",a.setNotification({category:"error",message:"You do not have the required permissions to update this organization"}));case 3:return s(!0),e.next=6,(0,j.r$)("".concat(b.T5,"/organizations/").concat(i),Pn(Pn({},n),{},{name:c}));case 6:(d=e.sent).error?a.setNotification({category:"error",message:"Failed to update organization: ".concat(d.error.message)}):(u=d.billing_email,l({values:{billing_email:u},initialValues:{billing_email:u}}),r.onOrgUpdated(d),a.setNotification({category:"success",message:"Successfully saved settings"})),s(!1);case 9:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();return(0,S.jsxs)("div",{className:"container my-4 max-w-4xl",children:[(0,S.jsx)("h4",{children:"Billing email"}),(0,S.jsx)("p",{className:"text-sm opacity-50",children:"All billing correspondence will go to this email"}),(0,S.jsx)("div",{className:"mt-3",children:(0,S.jsx)(m.Z,{id:u,initialValues:h,onSubmit:w,children:function(e){var n=e.isSubmitting,r=e.handleReset,a=e.values,t=e.initialValues,o=e.resetForm,s=JSON.stringify(a)!==JSON.stringify(t);return(0,d.useEffect)((function(){var e={billing_email:null!==l&&void 0!==l?l:""};o({values:e,initialValues:e})}),[i]),(0,S.jsx)(T.by,{footer:(0,S.jsx)("div",{className:"flex py-4 px-8",children:(0,S.jsx)(T.iN,{form:u,isSubmitting:n,hasChanges:s,handleReset:r,helper:v?void 0:"You need additional permissions to manage this organization's settings"})}),children:(0,S.jsx)(T.hj,{className:"-mx-2",children:(0,S.jsx)(T.B4,{loading:!1,children:(0,S.jsx)(p.Z,{id:"billing_email",size:"small",label:"Email address",type:x?"text":"password",disabled:!v})})})})}})})]})};function An(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function Tn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?An(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var kn=(0,u.Pi)((function(){var e,n,r,a=(0,y.oR)(),i=a.app,s=a.ui,c=(0,g.UO)().slug,l=s.selectedOrganization,u=i.projects.list((function(e){return e.organization_id==(null===l||void 0===l?void 0:l.id)}))||[],m=(0,d.useState)(null),p=m[0],h=m[1],v=(0,d.useState)(!1),x=v[0],f=v[1],w=(0,d.useState)(null),N=w[0],_=w[1],O=(0,d.useState)(!1),C=O[0],P=O[1],Z=(0,d.useState)(null),A=Z[0],T=Z[1],k=(0,d.useState)(!1),E=k[0],I=k[1],z=null!==(e=null===p||void 0===p||null===(n=p.invoice_settings)||void 0===n?void 0:n.default_payment_method)&&void 0!==e?e:"",D=p&&p.balance?p.balance/100:0,M=D<0,R=D>0,F=M&&0!==D?D.toString().replace("-",""):D;(0,d.useEffect)((function(){L(),V(),B()}),[c]);var L=function(){var e=(0,t.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,(0,j.U2)("".concat(b.T5,"/organizations/").concat(c,"/customer"));case 4:if(!(n=e.sent).error){e.next=7;break}throw n.error;case 7:h(n),f(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s.setNotification({error:e.t0,category:"error",message:"Failed to get organization information: ".concat(e.t0.message)});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,t.Z)(o().mark((function e(){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,(0,j.U2)("".concat(b.T5,"/organizations/").concat(c,"/payments"));case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:_(r),P(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s.setNotification({error:e.t0,category:"error",message:"Failed to get organization payment methods: ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,t.Z)(o().mark((function e(){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,(0,j.U2)("".concat(b.T5,"/organizations/").concat(c,"/tax-ids"));case 4:if(n=e.sent,r=n.data,!(a=n.error)){e.next=9;break}throw a;case 9:T(r),I(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),s.setNotification({error:e.t0,category:"error",message:"Failed to get organization tax IDs: ".concat(e.t0.message)});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,S.jsx)("article",{className:"container my-4 max-w-4xl space-y-8",children:(0,S.jsxs)("div",{className:"space-y-8",children:[(0,S.jsx)(un,{projects:u}),(0,S.jsx)(mn,{balance:F,isCredit:M,isDebt:R}),(0,S.jsx)(gn,{loading:x||C,defaultPaymentMethod:z,paymentMethods:N||[],onDefaultMethodUpdated:h,onPaymentMethodsDeleted:function(){return V()},onPaymentMethodAdded:function(){return V()}}),(0,S.jsx)(Zn,{}),(0,S.jsx)(jn,{loading:x,address:null!==(r=null===p||void 0===p?void 0:p.address)&&void 0!==r?r:{},onAddressUpdated:function(e){return h(Tn(Tn({},p),{},{address:e}))}}),(0,S.jsx)(Cn,{loading:E,taxIds:A||[],onTaxIdsUpdated:function(e){return T(e)}})]})})})),En=r(37385),In=r(65194),zn=r(86673),Dn=r(46123),Mn=r(29239),Rn=function(){var e,n=(0,y.oR)().ui,r=(0,d.useState)(!1),a=r[0],i=r[1],s=(0,d.useState)(1),c=s[0],u=s[1],m=(0,d.useState)(0),p=m[0],h=m[1],v=(0,d.useState)([]),g=v[0],w=v[1],N=(null!==(e=n.selectedOrganization)&&void 0!==e?e:{}).stripe_customer_id,_=10*(c-1),C=(0,y.FH)(f.KA.READ,"invoices");(0,d.useEffect)((function(){if(C){var e=!1,r=function(){var r=(0,t.Z)(o().mark((function r(){var a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,j.YM)("".concat(b.T5,"/stripe/invoices?customer=").concat(N),["X-Total-Count"]);case 2:a=r.sent,e||(a.error?n.setNotification({category:"error",message:a.error.message}):h(a["X-Total-Count"]));case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return u(1),P(1),r(),function(){e=!0}}}),[N]);var P=function(){var e=(0,t.Z)(o().mark((function e(r){var a,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),u(r),a=10*(r-1),e.next=5,(0,j.U2)("".concat(b.T5,"/stripe/invoices?offset=").concat(a,"&limit=").concat(10,"&customer=").concat(N));case 5:(t=e.sent).error?n.setNotification({category:"error",message:t.error.message}):w(t),i(!1);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,t.Z)(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.U2)("".concat(b.T5,"/stripe/invoices/").concat(r));case 2:null!==(a=e.sent)&&void 0!==a&&a.invoice_pdf?window.open(a.invoice_pdf,"_blank"):n.setNotification({category:"info",message:"Unable to fetch the selected invoice"});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return C?(0,S.jsx)("div",{className:"container my-4 max-w-4xl space-y-1",children:(0,S.jsx)(ie.Z,{active:a,children:(0,S.jsx)(ue.Z,{head:[(0,S.jsx)(ue.Z.th,{},"header-icon"),(0,S.jsx)(ue.Z.th,{children:"Date"},"header-date"),(0,S.jsx)(ue.Z.th,{children:"Amount due"},"header-amount"),(0,S.jsx)(ue.Z.th,{children:"Invoice number"},"header-invoice"),(0,S.jsx)(ue.Z.th,{className:"flex items-center",children:"Status"},"header-invoice"),(0,S.jsx)(ue.Z.th,{className:"text-right"},"header-download")],body:0===g.length?(0,S.jsx)(ue.Z.tr,{children:(0,S.jsx)(ue.Z.td,{colSpan:5,className:"p-3 py-12 text-center",children:(0,S.jsx)("p",{className:"text-scale-1000",children:a?"Checking for invoices":"No invoices for this organization yet"})})}):(0,S.jsxs)(S.Fragment,{children:[g.map((function(e){return(0,S.jsxs)(ue.Z.tr,{children:[(0,S.jsx)(ue.Z.td,{children:(0,S.jsx)(En.Z,{size:"xxl"})}),(0,S.jsx)(ue.Z.td,{children:(0,S.jsx)("p",{children:new Date(1e3*e.period_end).toLocaleString()})}),(0,S.jsx)(ue.Z.td,{children:(0,S.jsxs)("p",{children:["$",e.subtotal/100]})}),(0,S.jsx)(ue.Z.td,{children:(0,S.jsx)("p",{children:e.number})}),(0,S.jsx)(ue.Z.td,{children:(0,S.jsx)(Dn.Z,{status:e.status})}),(0,S.jsx)(ue.Z.td,{className:"align-right",children:(0,S.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[[Mn.U.UNCOLLECTIBLE,Mn.U.OPEN].includes(e.status)&&(0,S.jsx)(l(),{href:"https://redirect.revops.supabase.com/pay-invoice/".concat(e.id),children:(0,S.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,S.jsx)(O.z,{children:"Pay Now"})})}),(0,S.jsx)(O.z,{type:"outline",icon:(0,S.jsx)(In.Z,{size:16,strokeWidth:1.5}),onClick:function(){return Z(e.id)}})]})})]},e.id)})),(0,S.jsx)(ue.Z.tr,{children:(0,S.jsx)(ue.Z.td,{colSpan:6,children:(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("p",{className:"text-sm opacity-50",children:["Showing ",_+1," to ",_+g.length," out of ",p," invoices"]}),(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)(O.z,{icon:(0,S.jsx)(zn.Z,{}),type:"default",size:"tiny",disabled:1===c,onClick:(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(c-1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}),(0,S.jsx)(O.z,{icon:(0,S.jsx)(x.Z,{}),type:"default",size:"tiny",disabled:10*c>=p,onClick:(0,t.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(c+1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))})]})]})})},"navigation")]})})})}):(0,S.jsx)(yn.Z,{resourceText:"view invoices"})}},33003:function(e,n,r){r.d(n,{iN:function(){return h},ph:function(){return o},by:function(){return m},hj:function(){return c},B4:function(){return u},S0:function(){return l},ld:function(){return t}});var a=r(24246);function t(e){return(0,a.jsxs)("div",{className:"mx-auto max-w-4xl px-5 pt-12 pb-20",children:[e.header&&(0,a.jsx)("h1",{className:"text-scale-1200 mb-8 text-3xl",children:e.header}),(0,a.jsx)("div",{className:"space-y-20",children:e.children})]})}var i=r(16792),o=function(e){var n=e.title,r=e.description;return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-scale-1200 mb-2 text-xl",children:(0,a.jsx)(i.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:n})}),r&&(0,a.jsx)("div",{className:"text-scale-900 text-sm",children:(0,a.jsx)(i.D,{children:r})})]})},s=r(27378),c=function(e){var n=e.children,r=e.header,t=e.disabled,i=e.visible,o=void 0===i||i,s=e.className,c=["grid grid-cols-12 gap-6 px-8 py-8","".concat(t?" opacity-30":" opacity-100"),"".concat(o?" block":" hidden"),"".concat(s)];return(0,a.jsxs)("div",{className:c.join(" "),children:[r,n]})},l=function(e){var n=e.children,r=e.className,t=void 0===r?"":r,i=e.description;return void 0!==i?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(t),children:[(0,a.jsx)("label",{className:"text-scale-1200 text-sm",children:n}),i]}):(0,a.jsx)("label",{className:"text-scale-1200 col-span-12 text-sm lg:col-span-5 ".concat(t),children:n})},d=function(){return(0,a.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,a.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,a.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,a.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]})},u=function(e){var n=e.children,r=e.loading,t=void 0===r||r,i=e.fullWidth,o=e.className;return(0,a.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(i&&"!col-span-12","\n        ").concat(o,"\n      "),children:t?s.Children.map(n,(function(e){return(0,a.jsx)(d,{})})):n})},m=function(e){var n=e.children,r=e.header,t=e.footer;return(0,a.jsxs)("div",{className:" bg-scale-100 dark:bg-scale-300 border-scale-400 overflow-hidden  rounded-md border shadow",children:[r&&(0,a.jsx)("div",{className:" border-scale-400 border-b px-8 py-4",children:r}),(0,a.jsx)("div",{className:"divide-scale-400 flex flex-col gap-0 divide-y",children:n}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"border-scale-400 border-t"}),t]})]})},p=r(47314),h=function(e){var n=e.form,r=e.hasChanges,t=void 0===r?void 0:r,i=e.handleReset,o=e.helper,s=e.disabled,c=void 0!==s&&s,l=e.isSubmitting,d=e.submitText,u=void 0===d?"Save":d,m=l||c||!t&&void 0!==t;return(0,a.jsxs)("div",{className:["flex w-full items-center gap-2",o?"justify-between":"justify-end"].join(" "),children:[o&&(0,a.jsx)("span",{className:"text-sm text-scale-900",children:o}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.z,{disabled:m,type:"default",htmlType:"reset",onClick:function(){return i()},children:"Cancel"}),(0,a.jsx)(p.z,{form:n,type:"primary",htmlType:"submit",disabled:m,loading:l,children:u})]})]})}},51891:function(e,n,r){r.d(n,{Z:function(){return h}});var a=r(90849),t=r(27378),i=r(23615),o=r.n(i);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s.apply(this,arguments)}function c(e,n){if(null==e)return{};var r,a,t=function(e,n){if(null==e)return{};var r,a,t={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var l=(0,t.forwardRef)((function(e,n){var r=e.color,a=void 0===r?"currentColor":r,i=e.size,o=void 0===i?24:i,l=c(e,["color","size"]);return t.createElement("svg",s({ref:n,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),t.createElement("circle",{cx:"12",cy:"12",r:"1"}),t.createElement("circle",{cx:"19",cy:"12",r:"1"}),t.createElement("circle",{cx:"5",cy:"12",r:"1"}))}));l.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},l.displayName="MoreHorizontal";var d=l,u=r(12163),m=r(24246);function p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}var h=function(e){return(0,m.jsx)(u.Z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({icon:d},e))}},13405:function(e,n,r){r.d(n,{Z:function(){return u}});var a=r(11246),t=r(27378),i=(0,t.createContext)({activeId:""}),o=r(47912),s=r(86677),c=r(64355),l=r(24246),d=function(e){var n,r,d=e.defaultActiveId,u=e.activeId,m=e.type,p=void 0===m?"pills":m,h=e.size,v=void 0===h?"tiny":h,x=e.block,f=e.onChange,y=e.onClick,g=e.scrollable,b=e.addOnBefore,j=e.addOnAfter,w=e.listClassNames,N=e.children,_=t.useState(d||(N&&N[0].props?N[0].props.id:"")),O=(0,a.Z)(_,2),C=O[0],S=O[1],P=(0,s.useRouter)(),Z=null===P||void 0===P||null===(n=P.asPath)||void 0===n||null===(r=n.split("#")[1])||void 0===r?void 0:r.toUpperCase(),A=(0,c.Z)("tabs"),T=u||(C||Z);function k(e){var n=e!==T;S(e),y&&y(e),f&&n&&f(e)}var E=[A[p].list];return g&&E.push(A.scrollable),w&&E.push(w),N&&!Array.isArray(N)&&(N=[N]),(0,l.jsxs)(o.fC,{defaultValue:d,value:T,className:A.base,children:[(0,l.jsxs)(o.aV,{className:E.join(" "),children:[b,N.map((function(e){var n=T===e.props.id,r=[A[p].base,A.size[v]];return n?r.push(A[p].active):r.push(A[p].inactive),x&&r.push(A.block),(0,l.jsxs)(o.xz,{onKeyDown:function(n){13===n.keyCode&&(n.preventDefault(),k(e.props.id))},onClick:function(){return k(e.props.id)},value:e.props.id,className:r.join(" "),children:[e.props.icon,(0,l.jsx)("span",{children:e.props.label})]},"".concat(e.props.id,"-tab-button"))})),j]}),(0,l.jsx)(i.Provider,{value:{activeId:T},children:N})]})};d.Panel=function(e){var n=e.children,r=e.id,a=e.className,t=(0,c.Z)("tabs");return(0,l.jsx)(i.Consumer,{children:function(e){e.activeId;return(0,l.jsx)(o.VY,{value:r,className:[t.content,a].join(" "),children:n})}})};var u=d}}]);
//# sourceMappingURL=8986-a34229857dd32adf.js.map