(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9989],{33003:function(e,n,t){"use strict";t.d(n,{iN:function(){return h},ph:function(){return c},by:function(){return x},hj:function(){return o},B4:function(){return u},S0:function(){return l},ld:function(){return s}});var r=t(24246);function s(e){return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl px-5 pt-12 pb-20",children:[e.header&&(0,r.jsx)("h1",{className:"text-scale-1200 mb-8 text-3xl",children:e.header}),(0,r.jsx)("div",{className:"space-y-20",children:e.children})]})}var a=t(16792),c=function(e){var n=e.title,t=e.description;return(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-scale-1200 mb-2 text-xl",children:(0,r.jsx)(a.D,{unwrapDisallowed:!0,disallowedElements:["p"],children:n})}),t&&(0,r.jsx)("div",{className:"text-scale-900 text-sm",children:(0,r.jsx)(a.D,{children:t})})]})},i=t(27378),o=function(e){var n=e.children,t=e.header,s=e.disabled,a=e.visible,c=void 0===a||a,i=e.className,o=["grid grid-cols-12 gap-6 px-8 py-8","".concat(s?" opacity-30":" opacity-100"),"".concat(c?" block":" hidden"),"".concat(i)];return(0,r.jsxs)("div",{className:o.join(" "),children:[t,n]})},l=function(e){var n=e.children,t=e.className,s=void 0===t?"":t,a=e.description;return void 0!==a?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(s),children:[(0,r.jsx)("label",{className:"text-scale-1200 text-sm",children:n}),a]}):(0,r.jsx)("label",{className:"text-scale-1200 col-span-12 text-sm lg:col-span-5 ".concat(s),children:n})},d=function(){return(0,r.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,r.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,r.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,r.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]})},u=function(e){var n=e.children,t=e.loading,s=void 0===t||t,a=e.fullWidth,c=e.className;return(0,r.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(a&&"!col-span-12","\n        ").concat(c,"\n      "),children:s?i.Children.map(n,(function(e){return(0,r.jsx)(d,{})})):n})},x=function(e){var n=e.children,t=e.header,s=e.footer;return(0,r.jsxs)("div",{className:" bg-scale-100 dark:bg-scale-300 border-scale-400 overflow-hidden  rounded-md border shadow",children:[t&&(0,r.jsx)("div",{className:" border-scale-400 border-b px-8 py-4",children:t}),(0,r.jsx)("div",{className:"divide-scale-400 flex flex-col gap-0 divide-y",children:n}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-scale-400 border-t"}),s]})]})},p=t(47314),h=function(e){var n=e.form,t=e.hasChanges,s=void 0===t?void 0:t,a=e.handleReset,c=e.helper,i=e.disabled,o=void 0!==i&&i,l=e.isSubmitting,d=e.submitText,u=void 0===d?"Save":d,x=l||o||!s&&void 0!==s;return(0,r.jsxs)("div",{className:["flex w-full items-center gap-2",c?"justify-between":"justify-end"].join(" "),children:[c&&(0,r.jsx)("span",{className:"text-sm text-scale-900",children:c}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.z,{disabled:x,type:"default",htmlType:"reset",onClick:function(){return a()},children:"Cancel"}),(0,r.jsx)(p.z,{form:n,type:"primary",htmlType:"submit",disabled:x,loading:l,children:u})]})]})}},66745:function(e,n,t){"use strict";t.d(n,{hV:function(){return h}});var r=t(90089),s=t(55732),a=t(34707),c=t.n(a),i=t(36492),o=t(14919),l=t(20796),d=(t(27378),t(67527)),u=["enabled"];function x(e){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.U2)("".concat(l.T5,"/profile/access-tokens"),{signal:n});case 2:if(!(t=e.sent).error){e.next=5;break}throw t.error;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(e.enabled,(0,r.Z)(e,u));return(0,i.a)(d.C.list(),(function(e){return x(e.signal)}),n)}},67527:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var r={list:function(){return["access-tokens"]}}},19245:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var r=t(27378),s=t(33003),a=t(42753),c=t(55732),i=t(34707),o=t.n(i),l=t(47314),d=t(44315),u=t(94269),x=t(27102),p=t(66745),h=t(90849),f=t(90089),m=t(85945),j=t(48228),v=t(14919),b=t(20796),y=t(67527),k=["onSuccess"];function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,h.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,e.next=3,(0,v.$v)("".concat(b.T5,"/profile/access-tokens/").concat(t));case 3:if(!(r=e.sent).error){e.next=6;break}throw r.error;case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=t(43659),C=t(55671),P=t(63840),S=t(24246),T=(0,Z.Pi)((function(){var e=(0,x.oR)().ui,n=(0,p.hV)(),t=n.data,s=n.isLoading,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,t=(0,f.Z)(e,k),r=(0,m.NL)();return(0,j.D)((function(e){return w(e)}),N({onSuccess:function(e,t,s){return(0,c.Z)(o().mark((function a(){return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.invalidateQueries(y.C.list());case 2:return a.next=4,null===n||void 0===n?void 0:n(e,t,s);case 4:case"end":return a.stop()}}),a)})))()}},t))}(),i=a.mutateAsync,h=(0,r.useState)(!1),v=h[0],b=h[1],g=(0,r.useState)(void 0),O=g[0],Z=g[1];function T(){return(T=(0,c.Z)(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i({id:t});case 3:b(!1),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e.setNotification({category:"error",message:"Failed to delete token: ".concat(n.t0.message)});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"max-w-7xl",children:(0,S.jsx)(C.Z,{head:[(0,S.jsx)(C.Z.th,{children:"Token"},"header-token"),(0,S.jsx)(C.Z.th,{children:"Name"},"header-name"),(0,S.jsx)(C.Z.th,{children:"Created"},"header-created"),(0,S.jsx)(C.Z.th,{},"header-action")],body:t&&0==t.length?(0,S.jsx)(C.Z.tr,{children:(0,S.jsx)(C.Z.td,{colSpan:5,className:"p-3 py-12 text-center",children:(0,S.jsx)("p",{className:"text-scale-1000",children:s?"Checking for tokens":"You do not have any tokens created yet"})})}):(0,S.jsx)(S.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,S.jsxs)(C.Z.tr,{children:[(0,S.jsx)(C.Z.td,{children:(0,S.jsx)("span",{className:"font-mono",children:e.token_alias})}),(0,S.jsx)(C.Z.td,{children:e.name}),(0,S.jsx)(C.Z.td,{children:(0,S.jsx)("p",{children:new Date(e.created_at).toLocaleString()})}),(0,S.jsx)(C.Z.td,{children:(0,S.jsx)(l.z,{as:"span",type:"default",title:"Delete token",className:"px-1",onClick:function(){Z(e),b(!0)},icon:(0,S.jsx)(d.Z,{})})})]},e.token_alias)}))})})}),(0,S.jsx)(P.Z,{visible:v,danger:!0,header:"Confirm to delete",buttonLabel:"Delete",onSelectCancel:function(){return b(!1)},onSelectConfirm:function(){O&&function(e){T.apply(this,arguments)}(O.id)},children:(0,S.jsx)(u.C.Content,{children:(0,S.jsx)("p",{className:"py-4 text-sm text-scale-1100",children:'This action cannot be undone. Are you sure you want to delete "'.concat(null===O||void 0===O?void 0:O.name,'" token?')})})})]})})),_=T,D=t(11597),z=t(3648),A=(0,Z.Pi)((function(e){var n=e.token;return(0,S.jsx)(D.Z,{withIcon:!0,variant:"success",title:"Successfully generated a new token!",children:(0,S.jsxs)("div",{className:"w-full space-y-2",children:[(0,S.jsx)("p",{className:"text-sm",children:"Do copy this access token and store it in a secure place - you will not be able to see it again."}),(0,S.jsx)(z.Z,{copy:!0,readOnly:!0,size:"small",className:"max-w-xl input-mono",value:n.token,onChange:function(){}})]})})})),I=t(2674),E=t(51664),L=t(77758),F=t(65961),V=["onSuccess"];function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,h.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function R(e){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(o().mark((function e(n){var t,r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.name,r=n.scope,e.next=3,(0,v.v_)("".concat(b.T5,"/profile/access-tokens"),{name:t,scope:r});case 3:if(!(s=e.sent).error){e.next=6;break}throw s.error;case 6:return e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onSuccess,t=(0,f.Z)(e,V),r=(0,m.NL)();return(0,j.D)((function(e){return R(e)}),W({onSuccess:function(e,t,s){return(0,c.Z)(o().mark((function a(){return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.invalidateQueries(y.C.list());case 2:return a.next=4,null===n||void 0===n?void 0:n(e,t,s);case 4:case"end":return a.stop()}}),a)})))()}},t))},X=t(79894),U=t.n(X),Y=(0,Z.Pi)((function(e){var n=e.onCreateToken,t=(0,x.oR)().ui,s=(0,r.useState)(!1),a=s[0],i=s[1],d=(0,r.useState)(void 0),p=d[0],h=d[1],f=Q().mutateAsync;function m(){return(m=(0,c.Z)(o().mark((function e(r,s){var a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=s.setSubmitting)(!0),e.prev=2,e.next=5,f({name:r.tokenName,scope:p});case 5:c=e.sent,n(c),a(!1),i(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t.setNotification({category:"error",message:"Failed to create token: ".concat(e.t0.message)}),a(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"container max-w-7xl",children:(0,S.jsx)("div",{className:"flex justify-between",children:(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(l.z,{className:"rounded-r-none px-3",onClick:function(){h(void 0),i(!0)},children:"Generate new token"}),(0,S.jsx)(I.ZP,{align:"end",side:"bottom",overlay:[(0,S.jsx)(I.ZP.Item,{onClick:function(){h("V0"),i(!0)},children:(0,S.jsx)("div",{className:"space-y-1",children:(0,S.jsx)("p",{className:"block text-scale-1200",children:"Generate token for experimental API"})})},"experimental-token")],children:(0,S.jsx)(l.z,{type:"primary",className:"rounded-l-none px-[4px] py-[5px]",icon:(0,S.jsx)(E.Z,{})})})]})})}),(0,S.jsx)(u.C,{closable:!0,hideFooter:!0,size:"medium",visible:a,onCancel:function(){return i(!a)},header:(0,S.jsx)("div",{className:"flex items-baseline gap-2",children:(0,S.jsx)("h5",{className:"text-sm text-scale-1200",children:"V0"===p?"Generate token for experimental API":"Generate New Token"})}),children:(0,S.jsx)(L.Z,{validateOnBlur:!0,initialValues:{tokenName:""},onSubmit:function(e,n){return m.apply(this,arguments)},validate:function(e){var n={};return e.tokenName||(n.tokenName="Please enter a name for the token"),n},children:function(e){var n=e.isSubmitting;return(0,S.jsxs)("div",{className:"py-3 space-y-4",children:["V0"===p&&(0,S.jsx)(u.C.Content,{children:(0,S.jsxs)(D.Z,{withIcon:!0,variant:"warning",title:"The experimental API provides additional endpoints which allows you to manage your organizations and projects.",children:[(0,S.jsx)("p",{children:"These include deleting organizations and projects which cannot be undone. As such, be very careful when using this API."}),(0,S.jsx)("div",{className:"mt-4",children:(0,S.jsx)(U(),{href:"https://api.supabase.com/api/v0",children:(0,S.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,S.jsx)(l.z,{type:"default",icon:(0,S.jsx)(F.Z,{strokeWidth:1.5}),children:"Experimental API documentation"})})})})]})}),(0,S.jsx)(u.C.Content,{children:(0,S.jsx)(z.Z,{id:"tokenName",label:"Name",placeholder:"Provide a name for your token",className:"w-full"})}),(0,S.jsx)(u.C.Separator,{}),(0,S.jsx)(u.C.Content,{children:(0,S.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,S.jsx)(l.z,{type:"default",disabled:n,onClick:function(){return i(!1)},children:"Cancel"}),(0,S.jsx)(l.z,{htmlType:"submit",loading:n,disabled:n,children:"Generate token"})]})})]})}})})]})})),$=Y,q=function(){var e=(0,r.useState)(),n=e[0],t=e[1];return(0,S.jsxs)("div",{className:"1xl:px-28 mx-auto flex flex-col px-5 pt-6 pb-14 lg:px-16 xl:px-24 2xl:px-32",children:[(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsx)(s.ph,{title:"Access Tokens",description:"Personal access tokens can be used with our management API or the Supabase CLI"}),(0,S.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)(U(),{href:"https://supabase.com/docs/reference/api/introduction",children:(0,S.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,S.jsx)(l.z,{type:"default",icon:(0,S.jsx)(F.Z,{strokeWidth:1.5}),children:"API Docs"})})}),(0,S.jsx)(U(),{href:"https://supabase.com/docs/reference/cli/start",children:(0,S.jsx)("a",{target:"_blank",rel:"noreferrer",children:(0,S.jsx)(l.z,{type:"default",icon:(0,S.jsx)(F.Z,{strokeWidth:1.5}),children:"CLI docs"})})})]}),(0,S.jsx)($,{onCreateToken:t})]})]}),(0,S.jsxs)("div",{className:"space-y-4",children:[n&&(0,S.jsx)(A,{token:n}),(0,S.jsx)(_,{})]})]})};q.getLayout=function(e){return(0,S.jsx)(a.p0,{title:"Access Tokens",breadcrumbs:[{key:"supabase-account-tokens",label:"Access Tokens"}],children:e})};var H=q},22718:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/tokens",function(){return t(19245)}])}},function(e){e.O(0,[7930,1188,6792,2056,5286,9774,2888,179],(function(){return n=22718,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=tokens-5fdea9178a7c7368.js.map